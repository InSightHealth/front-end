"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var At=Object.create;var $1=Object.defineProperty,Rt=Object.defineProperties,Mt=Object.getOwnPropertyDescriptor,Tt=Object.getOwnPropertyDescriptors,Bt=Object.getOwnPropertyNames,ct=Object.getOwnPropertySymbols,kt=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;var ht=(z,Be,Ae)=>Be in z?$1(z,Be,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):z[Be]=Ae,dt=(z,Be)=>{for(var Ae in Be||(Be={}))pt.call(Be,Ae)&&ht(z,Ae,Be[Ae]);if(ct)for(var Ae of ct(Be))Ct.call(Be,Ae)&&ht(z,Ae,Be[Ae]);return z},mt=(z,Be)=>Rt(z,Tt(Be));var Et=(z,Be)=>()=>(Be||z((Be={exports:{}}).exports,Be),Be.exports);var It=(z,Be,Ae,Z)=>{if(Be&&typeof Be=="object"||typeof Be=="function")for(let Se of Bt(Be))!pt.call(z,Se)&&Se!==Ae&&$1(z,Se,{get:()=>Be[Se],enumerable:!(Z=Mt(Be,Se))||Z.enumerable});return z};var Lt=(z,Be,Ae)=>(Ae=z!=null?At(kt(z)):{},It(Be||!z||!z.__esModule?$1(Ae,"default",{value:z,enumerable:!0}):Ae,z));var St=Et((jt,bt)=>{bt.exports=Vue});var $=Lt(St());function O1(z,Be,...Ae){uni.__log__?uni.__log__(z,Be,...Ae):console[z].apply(console,[...Ae,Be])}var wt=(z,Be)=>{let Ae=z.__vccOpts||z;for(let[Z,Se]of Be)Ae[Z]=Se;return Ae},k1,b1,gt={data(){return mt(dt({},this.getTexts()),{show:!1,statusMsg:"",Class:("a"+Math.random()).replace(".",""),showControlUI:!1,useNvuePlayer:!1,playing:!1,player_position:0,player_currentTime:"00:00",player_duration:"00:00",player_durationNum:0})},methods:{shareFile(){this.saveFileFn()},playStart(){this.playFn()},playStop(){this.stopFn&&this.stopFn()},setPlayerPosition(z){this.setPosFn(z)},getPage(){for(var z=this.$parent;z&&!z.reclog;)z=z.$parent;return z},reclog(){this.getPage().reclog.apply(this.$parent,arguments)},getTexts(){return{T_pause:b1?b1("oozQ::\u6682\u505C\u64AD\u653E",":Pause"):"",T_play:b1?b1("PPxS::\u64AD\u653E",":Play"):"",T_download:b1?b1("jtJH::\u4E0B\u8F7D\u4FDD\u5B58",":Download and save"):""}},status(z){z=z?b1("w7J2::\u64AD\u653E\u5668\u521B\u5EFA\u4E2D\uFF1A",":Player is being created: ")+z:"",this.statusMsg=z,z&&k1.CLog(z)},formatTime(z,Be){var Ae=z%1e3;z=(z-Ae)/1e3;var Z=z%60;z=(z-Z)/60;var Se=z%60;z=(z-Se)/60;var ce=z,K="";return ce>0&&(K+=(ce<10?"0":"")+ce+":"),K+=(Se<10?"0":"")+Se+":",K+=(Z<10?"0":"")+Z,Be&&(K+="\u2033"+("00"+Ae).substr(-3)),K},createAudio(z,Be,Ae,Z,Se,ce){this.show=!1,this.status(""),this.playing=!1,this.player_durationNum=Se,this.player_duration=this.formatTime(Se),this.player_currentTime="00:00",this.player_position=0;var K="recordapp-"+Date.now()+"."+z,Ce=()=>{this.show=!0,this.status(""),k1.CLog(b1("GXCV::\u64AD\u653E\u5668\u521B\u5EFA\u5B8C\u6210\uFF0C\u53EF\u4EE5\u64AD\u653E\u4E86",":The player is created and can be played"))};if(this.useNvuePlayer){this.showControlUI=!0;var Ze=(Ue,$e,re,be)=>{k1.UniSaveLocalFile($e,re,We=>{this.reclog(Ue+b1("FtgC::\u6587\u4EF6\u5DF2\u4FDD\u5B58\u5728\uFF1A",":File has been saved at: ")+We),be(We)},We=>{this.status(Ue+b1("9AGy::\u4FDD\u5B58\u6587\u4EF6\u5931\u8D25\uFF0C\u5C06\u65E0\u6CD5\u64AD\u653E\uFF1A",":Failed to save the file and will not be able to play it: ")+We)})};this.status(b1("4xcp::\u6B63\u5728\u5C06\u6570\u636E\u4FDD\u5B58\u6210\u672C\u5730\u6587\u4EF6\u4EE5\u4F9B\u64AD\u653E...",":Saving data to local file for playback..."));var ie="",e1="",g=()=>{this.playUrl=ie,this.playUrl_wav=e1,Ce()};Ze("",K,Be,Ue=>{if(ie=Ue,Z==Be){g();return}Ze(b1("fU7N::[\u8F6C\u7801\u6210wav\u64AD\u653E]",":[Transcode to wav for playback]"),K+".wav",Z,$e=>{e1=$e,g()})}),this.setPosFn=Ue=>{var $e=Ue.detail.value;this.audio||this.playFn();var re=Math.round(this.player_durationNum*$e/100);this.audio.seek(re/1e3),this.audio.play()},this.playFn=()=>{var Ue=this.playSid;if(this.audio){if(this.audio.sid==Ue){this.audio.paused?this.audio.play():this.audio.pause();return}this.stopFn()}this.audio=uni.createInnerAudioContext(),this.audio.src=this.playUrl_wav||this.playUrl,this.audio.sid=Ue,this.audio.onError($e=>{this.reclog(b1("JRu4::onError \u64AD\u653E\u9519\u8BEF\uFF1A",":onError Playback error: ")+$e.errMsg,1)}),this.audio.timer=setInterval(()=>{if(this.playSid==Ue&&this.audio.duration){var $e=Math.round(this.audio.duration*1e3),re=Math.round(this.audio.currentTime*1e3),be=$e?Math.min(100,Math.round(re/$e*100)):0;this.playing=!this.audio.paused,this.player_durationNum=$e,this.player_duration=this.formatTime($e),this.player_currentTime=this.formatTime(re),this.player_position=be}},100),this.audio.seek(0),this.audio.play(),this.playUrl_wav&&this.status(b1("7ity::\u4F7F\u7528\u8F6C\u7801\u7684wav\u64AD\u653E",":Play using transcoded wav"))},this.stopFn=()=>{if(this.audio){clearInterval(this.audio.timer);try{this.audio.stop()}catch(Ue){}this.audio.destroy()}},this.saveFileFn=()=>{this.reclog(b1("OAiD::{1}\u5B57\u8282\u6587\u4EF6\u5DF2\u4FDD\u5B58\u5728\uFF1A",":The {1} byte file has been saved at: ",0,Be.byteLength)+ie,2)};return}k1.UniWebViewVueCall(this.getPage(),`
				if(this.playUrl)URL.revokeObjectURL(this.playUrl);
				this.playUrl=URL.createObjectURL(new Blob([this.player_buffer],{type:"${ce}"}));
				document.querySelector(".${this.Class} .h5Audio").innerHTML='<audio style="width:100%" />';
				this.playEl=document.querySelector(".${this.Class} .h5Audio audio");
				this.playEl.controls=true;
				this.playEl.src=this.playUrl;
				this.playEl.onerror=function(e){ This.$ownerInstance.callMethod("status","${b1("8NWB::\u64AD\u653E\u53D1\u751F\u9519\u8BEF\uFF1A",":An error occurred during playback: ")}"+e.message); }
				this.playEl.onpause=function(){ This.$ownerInstance.callMethod("player_stopFn",""); }
			`),Ce(),this.playFn=()=>{this.playing=!0,k1.UniWebViewVueCall(this.getPage(),`
					if(this.playEl.paused){
						this.playEl.play();
					}else{
						this.playEl.onpause();
					}
				`)},this.stopFn=()=>{this.playing=!1,k1.UniWebViewVueCall(this.getPage(),"this.playEl.pause();")},this.getPage().player_stopFn=this.stopFn,this.saveFileFn=()=>{this.reclog(b1("2Hr1::\u6B63\u5728\u4FDD\u5B58\u6587\u4EF6...",":Saving file...")),k1.UniSaveLocalFile(K,Be,Ue=>{this.reclog(b1("GW1Q::{1}\u5B57\u8282\u6587\u4EF6\u5DF2\u4FDD\u5B58\u5728\uFF1A",":The {1} byte file has been saved at: ",0,Be.byteLength)+Ue,2)},Ue=>{this.reclog(Ue)})}},setPlayBytes(z,Be,Ae,Z,Se,ce){this.show=!1,this.playStop(),this.playSid=(this.playSid||0)+1,this.status("");var K=z,Ce=Z;if(z){k1=ce.RecordApp,b1=ce.i18n.$T;var Ze=this.getTexts();for(var ie in Ze)this[ie]=Ze[ie];var e1=()=>{this.createAudio(Se.type,K,Ce,z,Ae,Z)};if(!k1.UniIsApp()||k1.UniWithoutAppRenderjs){var g=ce[Se.type+"2wav"],Ue=Date.now();if(!g)return e1();var $e=z;Se.type=="pcm"&&($e={sampleRate:Se.sampleRate,bitRate:Se.bitRate,blob:z}),this.status(b1("bHhO::\u6B63\u5728\u8F6C\u7801\u6210wav...",":Converting to wav...")),g($e,(ee,ue,Ne)=>{z=ee,Ae=ue,Z=Ne,this.reclog(b1("MhM5::\u5DF2\u8F6C\u7801\u6210wav\u4EE5\u4F9B\u64AD\u653E\uFF0C\u8017\u65F6{1}ms",":Transcoded to wav for playback, takes {1}ms",0,Date.now()-Ue)),e1()},ee=>{this.reclog(b1("oSeh::\u8F6C\u7801\u6210wav\u5931\u8D25\uFF1A",":Transcoding to wav failed: ")+ee,1),e1()})}else{var re=k1.UniMainCallBack(ee=>{if(ee.errMsg){this.reclog(b1("LU2T::\u8F6C\u7801\u6210wav\u5931\u8D25\uFF1A",":Transcoding to wav failed: ")+ee.errMsg,1),e1();return}if(ee.ok==2){e1();return}this.reclog(b1("65fk::\u5DF2\u8F6C\u7801\u6210wav\u4EE5\u4F9B\u64AD\u653E\uFF0C\u8017\u65F6{1}ms",":Transcoded to wav for playback, takes {1}ms",0,Date.now()-Ke)),z=k1.UniMainTakeBigBytes(ee.dataId),Ae=ee.dur,Z=ee.mie,e1()}),be=null,We=0,Ke=Date.now();Be||(be=K,We=Date.now(),Be="BigBytes",k1.CLog("[\u64AD\u653E\u5668]\u6B63\u5728\u5C06"+K.byteLength+"\u5B57\u8282\u97F3\u9891\u6570\u636E\u53D1\u9001\u5230renderjs\uFF0C\u56E0\u4E3A\u53EF\u80FD\u9700\u8981\u8F6C\u7801\u6210wav\uFF0C\u53EF\u80FD\u4F1A\u6BD4\u8F83\u6162")),this.status(b1("XkoT::\u6B63\u5728\u8C03\u7528renderjs\u5904\u7406\u97F3\u9891\u6570\u636E\uFF0C\u6B64\u683C\u5F0F\u5982\u679C\u63D0\u4F9B\u4E86{1}2wav\uFF0C\u5C06\u4F1A\u8F6C\u7801\u6210wav\uFF0C\u4F1A\u6BD4\u8F83\u8017\u65F6...",":Renderjs is being called to process audio data. If {1}2wav is provided in this format, it will be transcoded into wav, which will be more time-consuming...",0,Se.type)),k1.UniWebViewVueCall(this.getPage(),`
					if(${We})RecordApp.CLog("[\u64AD\u653E\u5668]\u5B8C\u6210\u4F20\u8F93${K.byteLength}\u5B57\u8282\u7684\u6570\u636E\u5230renderjs\uFF0C\u8017\u65F6"+(Date.now()-${We})+"ms");
					var recSet=${JSON.stringify(Se)}, aBuf0=${Be}, aBuf=aBuf0, duration, mime;
					var end=function(err){
						This.player_buffer=aBuf,t1=Date.now();
						if(err) return RecordApp.UniWebViewSendToMain({action:"${re}",errMsg:err});
						if(aBuf==aBuf0) return RecordApp.UniWebViewSendToMain({action:"${re}",ok:2});
						RecordApp.CLog("[\u64AD\u653E\u5668]\u5F00\u59CB\u4F20\u8F93"+aBuf.byteLength+"\u5B57\u8282\u7684\u6570\u636E\u56DE\u903B\u8F91\u5C42\uFF0C\u53EF\u80FD\u4F1A\u6BD4\u8F83\u6162");
						RecordApp.UniWebViewSendBigBytesToMain(aBuf,function(dataId){//\u6570\u636E\u53EF\u80FD\u5F88\u5927
							RecordApp.CLog("[\u64AD\u653E\u5668]\u5B8C\u6210\u4F20\u8F93"+aBuf.byteLength+"\u5B57\u8282\u7684\u6570\u636E\u56DE\u903B\u8F91\u5C42\uFF0C\u8017\u65F6"+(Date.now()-t1)+"ms");
							RecordApp.UniWebViewSendToMain({action:"${re}",ok:1,dataId:dataId,dur:duration,mie:mime});
						},end);
					};
					var wav=Recorder[recSet.type+"2wav"];
					if(!wav) return end();
					var wavData=aBuf;
					if(recSet.type=="pcm") wavData={ sampleRate:recSet.sampleRate,bitRate:recSet.bitRate,blob:aBuf };
					wav(wavData,function(wavBuf,dur,mie){
						aBuf=wavBuf; duration=dur; mime=mie;
						end();
					},function(msg){
						end("${b1("mzxq::\u8F6C\u7801\u6210wav\u5931\u8D25\uFF1A",":Transcoding to wav failed: ")}"+msg);
					});
				`,be)}}}}};function Ot(z,Be,Ae,Z,Se,ce){let K=(0,$.resolveComponent)("button"),Ce=(0,$.resolveComponent)("u-slider");return(0,$.openBlock)(),(0,$.createElementBlock)("view",{renderWhole:!0},[(0,$.createElementVNode)("view",{class:(0,$.normalizeClass)(Se.Class),style:(0,$.normalizeStyle)({display:Se.show?"":"none"})},[Se.show?((0,$.openBlock)(),(0,$.createElementBlock)("view",{key:0,style:{padding:"0 10px",display:"flex","flex-direction":"row"}},[(0,$.createElementVNode)("view",null,[(0,$.createVNode)(K,{size:"mini",onClick:ce.playStart},{default:(0,$.withCtx)(()=>[(0,$.createTextVNode)((0,$.toDisplayString)(Se.playing?z.T_pause:z.T_play),1)]),_:1},8,["onClick"])]),(0,$.createElementVNode)("view",{style:{flex:"1"}}),(0,$.createElementVNode)("view",null,[(0,$.createVNode)(K,{size:"mini",onClick:ce.shareFile},{default:(0,$.withCtx)(()=>[(0,$.createTextVNode)((0,$.toDisplayString)(z.T_download),1)]),_:1},8,["onClick"])])])):(0,$.createCommentVNode)("",!0),(0,$.createElementVNode)("view",{class:"shareFileMsg"}),Se.show&&Se.showControlUI?((0,$.openBlock)(),(0,$.createElementBlock)("view",{key:1},[(0,$.createElementVNode)("view",{style:{"padding-top":"10px"}},[(0,$.createVNode)(Ce,{value:Se.player_position,onChange:ce.setPlayerPosition,step:"1",max:"100",min:"0"},null,8,["value","onChange"])]),(0,$.createElementVNode)("view",{style:{padding:"0 10px",display:"flex","flex-direction":"row"}},[(0,$.createElementVNode)("view",{style:{flex:"1"}},[(0,$.createElementVNode)("u-text",null,(0,$.toDisplayString)(Se.player_currentTime),1)]),(0,$.createElementVNode)("view",{style:{flex:"1","text-align":"right"}},[(0,$.createElementVNode)("u-text",null,(0,$.toDisplayString)(Se.player_duration),1)])])])):(0,$.createCommentVNode)("",!0),(0,$.createElementVNode)("view",{class:"h5Audio"})],6),(0,$.createElementVNode)("view",{style:{color:"#f60"}},[(0,$.createElementVNode)("u-text",null,(0,$.toDisplayString)(Se.statusMsg),1)])])}var Nt=wt(gt,[["render",Ot]]),et={},Ht={get exports(){return et},set exports(z){et=z}};(function(z){(function(Be){var Ae=typeof window=="object"&&!!window.document,Z=Ae?window:Object;Be(Z,Ae),z.exports&&(z.exports=Z.Recorder)})(function(Be,Ae){var Z=function(){},Se=function(w){return typeof w=="number"},ce=function(w){return new V(w)},K=ce.LM="2023-12-24 18:09",Ce="https://github.com/xiangyuecn/Recorder",Ze="Recorder",ie="getUserMedia",e1="srcSampleRate",g="sampleRate",Ue="bitRate",$e="catch",re=Be[Ze];if(re&&re.LM==K){re.CLog(re.i18n.$T("K8zP::\u91CD\u590D\u5BFC\u5165{1}",0,Ze),3);return}ce.IsOpen=function(){var w=ce.Stream;if(w){var L=w.getTracks&&w.getTracks()||w.audioTracks||[],R=L[0];if(R){var H=R.readyState;return H=="live"||H==R.LIVE}}return!1},ce.BufferSize=4096,ce.Destroy=function(){Oe(Ze+" Destroy"),Ee();for(var w in be)be[w]()};var be={};ce.BindDestroy=function(w,L){be[w]=L},ce.Support=function(){if(!Ae)return!1;var w=navigator.mediaDevices||{};return w[ie]||(w=navigator,w[ie]||(w[ie]=w.webkitGetUserMedia||w.mozGetUserMedia||w.msGetUserMedia)),!(!w[ie]||(ce.Scope=w,!ce.GetContext()))},ce.GetContext=function(w){if(!Ae)return null;var L=window.AudioContext;if(L||(L=window.webkitAudioContext),!L)return null;var R=ce.Ctx;if((!R||R.state=="closed")&&(R=ce.Ctx=new L,ce.NewCtxs=ce.NewCtxs||[],ce.BindDestroy("Ctx",function(){var H=ce.Ctx;H&&H.close&&(H.close(),ce.Ctx=0);var _e=ce.NewCtxs;ce.NewCtxs=[];for(var pe=0;pe<_e.length;pe++)_e[pe].close()})),w&&R.close)try{R=new L,ce.NewCtxs.push(R)}catch(H){Oe("GetContext tryNew Error",1,H)}return R},ce.CloseNewCtx=function(w){if(w&&w!=ce.Ctx){w.close&&w.close();for(var L=ce.NewCtxs||[],R=L.length,H=0;H<L.length;H++)if(L[H]==w){L.splice(H,1);break}Oe(Ie("mSxV::\u5269{1}\u4E2AGetContext\u672Aclose",0,R+"-1="+L.length),L.length?3:0)}};var We=function(w){var L=w.state,R="ctx.state="+L;return L=="suspended"&&(R+=Ie("nMIy::\uFF08\u6CE8\u610F\uFF1Actx\u4E0D\u662Frunning\u72B6\u6001\uFF0Crec.open\u548Cstart\u81F3\u5C11\u8981\u6709\u4E00\u4E2A\u5728\u7528\u6237\u64CD\u4F5C(\u89E6\u6478\u3001\u70B9\u51FB\u7B49)\u65F6\u8FDB\u884C\u8C03\u7528\uFF0C\u5426\u5219\u5C06\u5728rec.start\u65F6\u5C1D\u8BD5\u8FDB\u884Cctx.resume\uFF0C\u53EF\u80FD\u4F1A\u4EA7\u751F\u517C\u5BB9\u6027\u95EE\u9898(\u4EC5iOS)\uFF0C\u8BF7\u53C2\u9605\u6587\u6863\u4E2DrunningContext\u914D\u7F6E\uFF09")),R},Ke="ConnectEnableWebM";ce[Ke]=!0;var ee="ConnectEnableWorklet";ce[ee]=!1;var ue=function(w,L){var R=w.BufferSize||ce.BufferSize,H=w.Stream,_e=H._RC||H._c||ce.GetContext(!0);H._c=_e;var pe=function(F){var m=H._m=_e.createMediaStreamSource(H),ve=_e.destination,c="createMediaStreamDestination";_e[c]&&(ve=H._d=_e[c]()),m.connect(F),F.connect(ve)},b,t,y,S="",M=H._call,ae=function(F){for(var m in M){for(var ve=F.length,c=new Int16Array(ve),U=0,se=0;se<ve;se++){var C=Math.max(-1,Math.min(1,F[se]));C=C<0?C*32768:C*32767,c[se]=C,U+=Math.abs(C)}for(var Q in M)M[Q](c,U);return}},x="ScriptProcessor",ke="audioWorklet",Le=Ze+" "+ke,te="RecProc",ne="MediaRecorder",De=ne+".WebM.PCM",G=_e.createScriptProcessor||_e.createJavaScriptNode,J=Ie("ZGlf::\u3002\u7531\u4E8E{1}\u5185\u90E81\u79D2375\u6B21\u56DE\u8C03\uFF0C\u5728\u79FB\u52A8\u7AEF\u53EF\u80FD\u4F1A\u6709\u6027\u80FD\u95EE\u9898\u5BFC\u81F4\u56DE\u8C03\u4E22\u5931\u5F55\u97F3\u53D8\u77ED\uFF0CPC\u7AEF\u65E0\u5F71\u54CD\uFF0C\u6682\u4E0D\u5EFA\u8BAE\u5F00\u542F{1}\u3002",0,ke),je=function(){t=H.isWorklet=!1,we(H),Oe(Ie("7TU0::Connect\u91C7\u7528\u8001\u7684{1}\uFF0C",0,x)+d1.get(ce[ee]?Ie("JwCL::\u4F46\u5DF2\u8BBE\u7F6E{1}\u5C1D\u8BD5\u542F\u7528{2}",2):Ie("VGjB::\u53EF\u8BBE\u7F6E{1}\u5C1D\u8BD5\u542F\u7528{2}",2),[Ze+"."+ee+"=true",ke])+S+J,3);var F=H._p=G.call(_e,R,1,1);pe(F),F.onaudioprocess=function(m){var ve=m.inputBuffer.getChannelData(0);ae(ve)}},_=function(){b=H.isWebM=!1,X(H),t=H.isWorklet=!G||ce[ee];var F=window.AudioWorkletNode;if(!(t&&_e[ke]&&F)){je();return}var m=function(){var se=function(Q){return Q.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,Le)},C="class "+te+" extends AudioWorkletProcessor{";return C+="constructor "+se(function(Q){DEL_super(Q);var E=this,fe=Q.processorOptions.bufferSize;E.bufferSize=fe,E.buffer=new Float32Array(fe*2),E.pos=0,E.port.onmessage=function(B){B.data.kill&&(E.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",Q)}),C+="process "+se(function(Q,E,fe){var B=this,O=B.bufferSize,e=B.buffer,i=B.pos;if(Q=(Q[0]||[])[0]||[],Q.length){e.set(Q,i),i+=Q.length;var d=~~(i/O)*O;if(d){this.port.postMessage({val:e.slice(0,d)});var N=e.subarray(d,i);e=new Float32Array(O*2),e.set(N),i=N.length,B.buffer=e}B.pos=i}return!B.kill}),C+='}try{registerProcessor("'+te+'", '+te+')}catch(e){$C.error("'+Le+' Reg Error",e)}',C=C.replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(C)))},ve=function(){return t&&H._na},c=H._na=function(){y!==""&&(clearTimeout(y),y=setTimeout(function(){y=0,ve()&&(Oe(Ie("MxX1::{1}\u672A\u8FD4\u56DE\u4EFB\u4F55\u97F3\u9891\uFF0C\u6062\u590D\u4F7F\u7528{2}",0,ke,x),3),G&&je())},500))},U=function(){if(ve()){var se=H._n=new F(_e,te,{processorOptions:{bufferSize:R}});pe(se),se.port.onmessage=function(C){y&&(clearTimeout(y),y=""),ve()?ae(C.data.val):t||Oe(Ie("XUap::{1}\u591A\u4F59\u56DE\u8C03",0,ke),3)},Oe(Ie("yOta::Connect\u91C7\u7528{1}\uFF0C\u8BBE\u7F6E{2}\u53EF\u6062\u590D\u8001\u5F0F{3}",0,ke,Ze+"."+ee+"=false",x)+S+J,3)}};_e.resume()[M&&"finally"](function(){if(ve()){if(_e[te]){U();return}var se=m();_e[ke].addModule(se).then(function(C){ve()&&(_e[te]=1,U(),y&&c())})[$e](function(C){Oe(ke+".addModule Error",1,C),ve()&&je()})}})},D=function(){var F=window[ne],m="ondataavailable",ve="audio/webm; codecs=pcm";b=H.isWebM=ce[Ke];var c=F&&m in F.prototype&&F.isTypeSupported(ve);if(S=c?"":Ie("VwPd::\uFF08\u6B64\u6D4F\u89C8\u5668\u4E0D\u652F\u6301{1}\uFF09",0,De),!L||!b||!c){_();return}var U=function(){return b&&H._ra};H._ra=function(){y!==""&&(clearTimeout(y),y=setTimeout(function(){U()&&(Oe(Ie("vHnb::{1}\u672A\u8FD4\u56DE\u4EFB\u4F55\u97F3\u9891\uFF0C\u964D\u7EA7\u4F7F\u7528{2}",0,ne,ke),3),_())},500))};var se=Object.assign({mimeType:ve},ce.ConnectWebMOptions),C=H._r=new F(H,se),Q=H._rd={sampleRate:_e[g]};C[m]=function(E){var fe=new FileReader;fe.onloadend=function(){if(U()){var B=t1(new Uint8Array(fe.result),Q);if(!B)return;if(B==-1){_();return}y&&(clearTimeout(y),y=""),ae(B)}else b||Oe(Ie("O9P7::{1}\u591A\u4F59\u56DE\u8C03",0,ne),3)},fe.readAsArrayBuffer(E.data)},C.start(~~(R/48)),Oe(Ie("LMEm::Connect\u91C7\u7528{1}\uFF0C\u8BBE\u7F6E{2}\u53EF\u6062\u590D\u4F7F\u7528{3}\u6216\u8001\u5F0F{4}",0,De,Ze+"."+Ke+"=false",ke,x))};D()},Ne=function(w){w._na&&w._na(),w._ra&&w._ra()},we=function(w){w._na=null,w._n&&(w._n.port.postMessage({kill:!0}),w._n.disconnect(),w._n=null)},X=function(w){w._ra=null,w._r&&(w._r.stop(),w._r=null)},Ee=function(w){w=w||ce;var L=w==ce,R=w.Stream;R&&(R._m&&(R._m.disconnect(),R._m=null),!R._RC&&R._c&&ce.CloseNewCtx(R._c),R._RC=null,R._c=null,R._d&&(ye(R._d.stream),R._d=null),R._p&&(R._p.disconnect(),R._p.onaudioprocess=R._p=null),we(R),X(R),L&&ye(R)),w.Stream=0},ye=ce.StopS_=function(w){for(var L=w.getTracks&&w.getTracks()||w.audioTracks||[],R=0;R<L.length;R++){var H=L[R];H.stop&&H.stop()}w.stop&&w.stop()};ce.SampleData=function(w,L,R,H,_e){var pe="SampleData";H||(H={});var b=H.index||0,t=H.offset||0,y=H.filter;if(y&&y.fn&&y.sr!=L&&(y=null,Oe(Ie("d48C::{1}\u7684filter\u91C7\u6837\u7387\u53D8\u4E86\uFF0C\u91CD\u8BBE\u6EE4\u6CE2",0,pe),3)),!y){var S=R>L*3/4?0:R/2*3/4;y={fn:S?ce.IIRFilter(!0,L,S):0}}y.sr=L;var M=y.fn,ae=H.frameNext||[];_e||(_e={});var x=_e.frameSize||1;_e.frameType&&(x=_e.frameType=="mp3"?1152:1);var ke=w.length;b>ke+1&&Oe(Ie("tlbC::{1}\u4F3C\u4E4E\u4F20\u5165\u4E86\u672A\u91CD\u7F6Echunk {2}",0,pe,b+">"+ke),3);for(var Le=0,te=b;te<ke;te++)Le+=w[te].length;Le=Math.max(0,Le-Math.floor(t));var ne=L/R;ne>1?Le=Math.floor(Le/ne):(ne=1,R=L),Le+=ae.length;for(var De=new Int16Array(Le),G=0,te=0;te<ae.length;te++)De[G]=ae[te],G++;for(;b<ke;b++){for(var J=w[b],te=t,je=J.length,_=M&&M.Embed,D=0,F=0,m=0,ve=0,c=0,U=0;c<je;c++,U++){if(U<je&&(_?(m=J[U],ve=_.b0*m+_.b1*_.x1+_.b0*_.x2-_.a1*_.y1-_.a2*_.y2,_.x2=_.x1,_.x1=m,_.y2=_.y1,_.y1=ve):ve=M?M(J[U]):J[U]),D=F,F=ve,U==0){c--;continue}var se=Math.floor(te);if(c==se){var C=Math.ceil(te),Q=te-se,E=D,fe=C<je?F:E,B=E+(fe-E)*Q;B>32767?B=32767:B<-32768&&(B=-32768),De[G]=B,G++,te+=ne}}t=Math.max(0,te-je)}ae=null;var O=De.length%x;if(O>0){var e=(De.length-O)*2;ae=new Int16Array(De.buffer.slice(e)),De=new Int16Array(De.buffer.slice(0,e))}return{index:b,offset:t,filter:y,frameNext:ae,sampleRate:R,data:De}},ce.IIRFilter=function(w,L,R){var H=2*Math.PI*R/L,_e=Math.sin(H),pe=Math.cos(H),b=_e/2,t=1+b,y=-2*pe/t,S=(1-b)/t;if(w)var M=(1-pe)/2/t,ae=(1-pe)/t;else var M=(1+pe)/2/t,ae=-(1+pe)/t;var x=0,ke=0,Le=0,te=0,ne=0,De=function(G){return Le=M*G+ae*x+M*ke-y*te-S*ne,ke=x,x=G,ne=te,te=Le,Le};return De.Embed={x1:0,x2:0,y1:0,y2:0,b0:M,b1:ae,a1:y,a2:S},De},ce.PowerLevel=function(w,L){var R=w/L||0,H;return R<1251?H=Math.round(R/1250*10):H=Math.round(Math.min(100,Math.max(0,(1+Math.log(R/1e4)/Math.log(10))*100))),H},ce.PowerDBFS=function(w){var L=Math.max(.1,w||0),R=32767;return L=Math.min(L,R),L=20*Math.log(L/R)/Math.log(10),Math.max(-100,Math.round(L))},ce.CLog=function(w,L){if(typeof console=="object"){var R=new Date,H=("0"+R.getMinutes()).substr(-2)+":"+("0"+R.getSeconds()).substr(-2)+"."+("00"+R.getMilliseconds()).substr(-3),_e=this&&this.envIn&&this.envCheck&&this.id,pe=["["+H+" "+Ze+(_e?":"+_e:"")+"]"+w],b=arguments,t=ce.CLog,y=2,S=t.log||console.log;for(Se(L)?S=L==1?t.error||console.error:L==3?t.warn||console.warn:S:y=1;y<b.length;y++)pe.push(b[y]);qe?S&&S("[IsLoser]"+pe[0],pe.length>1?pe:""):S.apply(console,pe)}};var Oe=function(){ce.CLog.apply(this,arguments)},qe=!0;try{qe=!console.log.apply}catch(w){}var de=0;function V(w){var L=this;L.id=++de,c1();var R={type:"mp3",onProcess:Z};for(var H in w)R[H]=w[H];L.set=R;var _e=R[Ue],pe=R[g];(_e&&!Se(_e)||pe&&!Se(pe))&&L.CLog(Ie.G("IllegalArgs-1",[Ie("VtS4::{1}\u548C{2}\u5FC5\u987B\u662F\u6570\u503C",0,g,Ue)]),1,w),R[Ue]=+_e||16,R[g]=+pe||16e3,L.state=0,L._S=9,L.Sync={O:9,C:9}}ce.Sync={O:9,C:9},ce.prototype=V.prototype={CLog:Oe,_streamStore:function(){return this.set.sourceStream?this:ce},_streamCtx:function(){var w=this._streamStore().Stream;return w&&w._c},open:function(w,L){var R=this,H=R.set,_e=R._streamStore(),pe=0;w=w||Z;var b=function(_,D){D=!!D,R.CLog(Ie("5tWi::\u5F55\u97F3open\u5931\u8D25\uFF1A")+_+",isUserNotAllow:"+D,1),pe&&ce.CloseNewCtx(pe),L&&L(_,D)};R._streamTag=ie;var t=function(){R.CLog("open ok, id:"+R.id+" stream:"+R._streamTag),w(),R._SO=0},y=_e.Sync,S=++y.O,M=y.C;R._O=R._O_=S,R._SO=R._S;var ae=function(){if(M!=y.C||!R._O){var _=Ie("dFm8::open\u88AB\u53D6\u6D88");return S==y.O?R.close():_=Ie("VtJO::open\u88AB\u4E2D\u65AD"),b(_),!0}};if(!Ae){b(Ie.G("NonBrowser-1",["open"])+Ie("EMJq::\uFF0C\u53EF\u5C1D\u8BD5\u4F7F\u7528RecordApp\u89E3\u51B3\u65B9\u6848")+"("+Ce+"/tree/master/app-support-sample)");return}var x=R.envCheck({envName:"H5",canProcess:!0});if(x){b(Ie("A5bm::\u4E0D\u80FD\u5F55\u97F3\uFF1A")+x);return}if(H.sourceStream){if(R._streamTag="set.sourceStream",!ce.GetContext()){b(Ie("1iU7::\u4E0D\u652F\u6301\u6B64\u6D4F\u89C8\u5668\u4ECE\u6D41\u4E2D\u83B7\u53D6\u5F55\u97F3"));return}Ee(_e);var ke=R.Stream=H.sourceStream;ke._RC=H.runningContext,ke._call={};try{ue(_e)}catch(_){Ee(_e),b(Ie("BTW2::\u4ECE\u6D41\u4E2D\u6253\u5F00\u5F55\u97F3\u5931\u8D25\uFF1A")+_.message);return}t();return}var Le=function(_,D){try{window.top.a}catch(F){b(Ie("Nclz::\u65E0\u6743\u5F55\u97F3(\u8DE8\u57DF\uFF0C\u8BF7\u5C1D\u8BD5\u7ED9iframe\u6DFB\u52A0\u9EA6\u514B\u98CE\u8BBF\u95EE\u7B56\u7565\uFF0C\u5982{1})",0,'allow="camera;microphone"'));return}/Permission|Allow/i.test(_)?b(Ie("gyO5::\u7528\u6237\u62D2\u7EDD\u4E86\u5F55\u97F3\u6743\u9650"),!0):window.isSecureContext===!1?b(Ie("oWNo::\u6D4F\u89C8\u5668\u7981\u6B62\u4E0D\u5B89\u5168\u9875\u9762\u5F55\u97F3\uFF0C\u53EF\u5F00\u542Fhttps\u89E3\u51B3")):/Found/i.test(_)?b(D+Ie("jBa9::\uFF0C\u65E0\u53EF\u7528\u9EA6\u514B\u98CE")):b(D)};if(ce.IsOpen()){t();return}if(!ce.Support()){Le("",Ie("COxc::\u6B64\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5F55\u97F3"));return}var te=H.runningContext;te||(te=pe=ce.GetContext(!0));var ne=function(_){setTimeout(function(){_._call={};var D=ce.Stream;D&&(Ee(),_._call=D._call),ce.Stream=_,_._c=te,_._RC=H.runningContext,!ae()&&(ce.IsOpen()?(D&&R.CLog(Ie("upb8::\u53D1\u73B0\u540C\u65F6\u591A\u6B21\u8C03\u7528open"),1),ue(_e,1),t()):b(Ie("Q1GA::\u5F55\u97F3\u529F\u80FD\u65E0\u6548\uFF1A\u65E0\u97F3\u9891\u6D41")))},100)},De=function(_){var D=_.name||_.message||_.code+":"+_;R.CLog(Ie("xEQR::\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\u9519\u8BEF"),1,_),Le(D,Ie("bDOG::\u65E0\u6CD5\u5F55\u97F3\uFF1A")+D)},G=H.audioTrackSet||{};G[g]=te[g];var J={audio:G};try{var je=ce.Scope[ie](J,ne,De)}catch(_){R.CLog(ie,3,_),J={audio:!0},je=ce.Scope[ie](J,ne,De)}R.CLog(ie+"("+JSON.stringify(J)+") "+We(te)+Ie("RiWe::\uFF0C\u672A\u914D\u7F6EnoiseSuppression\u548CechoCancellation\u65F6\u6D4F\u89C8\u5668\u53EF\u80FD\u4F1A\u81EA\u52A8\u6253\u5F00\u964D\u566A\u548C\u56DE\u58F0\u6D88\u9664\uFF0C\u79FB\u52A8\u7AEF\u53EF\u80FD\u4F1A\u964D\u4F4E\u7CFB\u7EDF\u64AD\u653E\u97F3\u91CF\uFF08\u5173\u95ED\u5F55\u97F3\u540E\u53EF\u6062\u590D\uFF09\uFF0C\u8BF7\u53C2\u9605\u6587\u6863\u4E2DaudioTrackSet\u914D\u7F6E")+"("+Ce+") LM:"+K+" UA:"+navigator.userAgent),je&&je.then&&je.then(ne)[$e](De)},close:function(w){w=w||Z;var L=this,R=L._streamStore();L._stop();var H=" stream:"+L._streamTag,_e=R.Sync;if(L._O=0,L._O_!=_e.O){L.CLog(Ie("hWVz::close\u88AB\u5FFD\u7565\uFF08\u56E0\u4E3A\u540C\u65F6open\u4E86\u591A\u4E2Arec\uFF0C\u53EA\u6709\u6700\u540E\u4E00\u4E2A\u4F1A\u771F\u6B63close\uFF09")+H,3),w();return}_e.C++,Ee(R),L.CLog("close,"+H),w()},mock:function(w,L){var R=this;return R._stop(),R.isMock=1,R.mockEnvInfo=null,R.buffers=[w],R.recSize=w.length,R._setSrcSR(L),R._streamTag="mock",R},_setSrcSR:function(w){var L=this,R=L.set,H=R[g];H>w?R[g]=w:H=0,L[e1]=w,L.CLog(e1+": "+w+" set."+g+": "+R[g]+(H?" "+Ie("UHvm::\u5FFD\u7565")+": "+H:""),H?3:0)},envCheck:function(w){var L,R=this,H=R.set,_e="CPU_BE";if(!L&&!ce[_e]&&typeof Int8Array=="function"&&!new Int8Array(new Int32Array([1]).buffer)[0]&&(c1(_e),L=Ie("Essp::\u4E0D\u652F\u6301{1}\u67B6\u6784",0,_e)),!L){var pe=H.type,b=R[pe+"_envCheck"];H.takeoffEncodeChunk&&(b?w.canProcess||(L=Ie("7uMV::{1}\u73AF\u5883\u4E0D\u652F\u6301\u5B9E\u65F6\u5904\u7406",0,w.envName)):L=Ie("2XBl::{1}\u7C7B\u578B\u4E0D\u652F\u6301\u8BBE\u7F6EtakeoffEncodeChunk",0,pe)+(R[pe]?"":Ie("LG7e::(\u672A\u52A0\u8F7D\u7F16\u7801\u5668)"))),!L&&b&&(L=R[pe+"_envCheck"](w,H))}return L||""},envStart:function(w,L){var R=this,H=R.set;if(R.isMock=w?1:0,R.mockEnvInfo=w,R.buffers=[],R.recSize=0,w&&(R._streamTag="env$"+w.envName),R.state=1,R.envInLast=0,R.envInFirst=0,R.envInFix=0,R.envInFixTs=[],R._setSrcSR(L),R.engineCtx=0,R[H.type+"_start"]){var _e=R.engineCtx=R[H.type+"_start"](H);_e&&(_e.pcmDatas=[],_e.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(w,L){var R=this,H=R.set,_e=R.engineCtx;if(R.state!=1){R.state||R.CLog("envIn at state=0",3);return}var pe=R[e1],b=w.length,t=ce.PowerLevel(L,b),y=R.buffers,S=y.length;y.push(w);var M=y,ae=S,x=Date.now(),ke=Math.round(b/pe*1e3);R.envInLast=x,R.buffers.length==1&&(R.envInFirst=x-ke);var Le=R.envInFixTs;Le.splice(0,0,{t:x,d:ke});for(var te=x,ne=0,De=0;De<Le.length;De++){var G=Le[De];if(x-G.t>3e3){Le.length=De;break}te=G.t,ne+=G.d}var J=Le[1],je=x-te,_=je-ne;if(_>je/3&&(J&&je>1e3||Le.length>=6)){var D=x-J.t-ke;if(D>ke/5){var F=!H.disableEnvInFix;if(R.CLog("["+x+"]"+d1.get(Ie(F?"4Kfd::\u8865\u507F{1}ms":"bM5i::\u672A\u8865\u507F{1}ms",1),[D]),3),R.envInFix+=D,F){var m=new Int16Array(D*pe/1e3);b+=m.length,y.push(m)}}}var ve=R.recSize,c=b,U=ve+c;if(R.recSize=U,_e){var se=ce.SampleData(y,pe,H[g],_e.chunkInfo);_e.chunkInfo=se,ve=_e.pcmSize,c=se.data.length,U=ve+c,_e.pcmSize=U,y=_e.pcmDatas,S=y.length,y.push(se.data),pe=se[g]}var C=Math.round(U/pe*1e3),Q=y.length,E=M.length,fe=function(){for(var d=B?0:-c,N=y[0]==null,h=S;h<Q;h++){var o=y[h];o==null?N=1:(d+=o.length,_e&&o.length&&R[H.type+"_encode"](_e,o))}if(N&&_e){var h=ae;for(M[0]&&(h=0);h<E;h++)M[h]=null}N&&(d=B?c:0,y[0]=null),_e?_e.pcmSize+=d:R.recSize+=d},B=0,O="rec.set.onProcess";try{B=H.onProcess(y,t,C,pe,S,fe)}catch(d){O1("error","at node_modules/recorder-core/src/recorder-core.js:1197",O+Ie("gFUF::\u56DE\u8C03\u51FA\u9519\u662F\u4E0D\u5141\u8BB8\u7684\uFF0C\u9700\u4FDD\u8BC1\u4E0D\u4F1A\u629B\u5F02\u5E38"),d)}var e=Date.now()-x;if(e>10&&R.envInFirst-x>1e3&&R.CLog(O+Ie("2ghS::\u4F4E\u6027\u80FD\uFF0C\u8017\u65F6{1}ms",0,e),3),B===!0){for(var i=0,De=S;De<Q;De++)y[De]==null?i=1:y[De]=new Int16Array(0);i?R.CLog(Ie("ufqH::\u672A\u8FDB\u5165\u5F02\u6B65\u524D\u4E0D\u80FD\u6E05\u9664buffers"),3):_e?_e.pcmSize-=c:R.recSize-=c}else fe()},start:function(){var w=this,L=1;if(w.set.sourceStream?w.Stream||(L=0):ce.IsOpen()||(L=0),!L){w.CLog(Ie("6WmN::start\u5931\u8D25\uFF1A\u672Aopen"),1);return}var R=w._streamCtx();if(w.CLog(Ie("kLDN::start \u5F00\u59CB\u5F55\u97F3\uFF0C")+We(R)+" stream:"+w._streamTag),w._stop(),w.envStart(null,R[g]),w.state=3,w._SO&&w._SO+1!=w._S){w.CLog(Ie("Bp2y::start\u88AB\u4E2D\u65AD"),3);return}w._SO=0;var H=function(){w.state==3&&(w.state=1,w.resume())};if(R.state=="suspended"){var _e="AudioContext resume: ";w.CLog(_e+"wait..."),R.resume().then(function(){w.CLog(_e+R.state),H()})[$e](function(pe){w.CLog(_e+R.state+Ie("upkE::\uFF0C\u53EF\u80FD\u65E0\u6CD5\u5F55\u97F3\uFF1A")+pe.message,1,pe),H()})}else H()},pause:function(){var w=this,L=w._streamStore().Stream;w.state&&(w.state=2,w.CLog("pause"),L&&delete L._call[w.id])},resume:function(){var w=this,L=w._streamStore().Stream;w.state&&(w.state=1,w.CLog("resume"),w.envResume(),L&&(L._call[w.id]=function(R,H){w.state==1&&w.envIn(R,H)},Ne(L)))},_stop:function(w){var L=this,R=L.set;L.isMock||L._S++,L.state&&(L.pause(),L.state=0),!w&&L[R.type+"_stop"]&&(L[R.type+"_stop"](L.engineCtx),L.engineCtx=0)},stop:function(w,L,R){var H=this,_e=H.set,pe,b=H.envInLast-H.envInFirst,t=b&&H.buffers.length;H.CLog(Ie("Xq4s::stop \u548Cstart\u65F6\u5DEE:")+(b?b+"ms "+Ie("3CQP::\u8865\u507F:")+H.envInFix+"ms envIn:"+t+" fps:"+(t/b*1e3).toFixed(1):"-")+" stream:"+H._streamTag+" ("+Ce+") LM:"+K);var y=function(){H._stop(),R&&H.close()},S=function(G){H.CLog(Ie("u8JG::\u7ED3\u675F\u5F55\u97F3\u5931\u8D25\uFF1A")+G,1),L&&L(G),y()},M=function(G,J,je){var _="blob",D="arraybuffer",F="dataType",m="DefaultDataType",ve=H[F]||ce[m]||_,c=F+"="+ve,U=G instanceof ArrayBuffer,se=0,C=U?G.byteLength:G.size;if(ve==D?U||(se=1):ve==_?typeof Blob!="function"?se=Ie.G("NonBrowser-1",[c])+Ie("1skY::\uFF0C\u8BF7\u8BBE\u7F6E{1}",0,Ze+"."+m+'="'+D+'"'):(U&&(G=new Blob([G],{type:J})),G instanceof Blob||(se=1),J=G.type||J):se=Ie.G("NotSupport-1",[c]),H.CLog(Ie("Wv7l::\u7ED3\u675F\u5F55\u97F3 \u7F16\u7801\u82B1{1}ms \u97F3\u9891\u65F6\u957F{2}ms \u6587\u4EF6\u5927\u5C0F{3}b",0,Date.now()-pe,je,C)+" "+c+","+J),se){S(se!=1?se:Ie("Vkbd::{1}\u7F16\u7801\u5668\u8FD4\u56DE\u7684\u4E0D\u662F{2}",0,_e.type,ve)+", "+c);return}if(_e.takeoffEncodeChunk)H.CLog(Ie("QWnr::\u542F\u7528takeoffEncodeChunk\u540Estop\u8FD4\u56DE\u7684blob\u957F\u5EA6\u4E3A0\u4E0D\u63D0\u4F9B\u97F3\u9891\u6570\u636E"),3);else if(C<Math.max(50,je/5)){S(Ie("Sz2H::\u751F\u6210\u7684{1}\u65E0\u6548",0,_e.type));return}w&&w(G,je,J),y()};if(!H.isMock){var ae=H.state==3;if(!H.state||ae){S(Ie("wf9t::\u672A\u5F00\u59CB\u5F55\u97F3")+(ae?Ie("Dl2c::\uFF0C\u5F00\u59CB\u5F55\u97F3\u524D\u65E0\u7528\u6237\u4EA4\u4E92\u5BFC\u81F4AudioContext\u672A\u8FD0\u884C"):""));return}}H._stop(!0);var x=H.recSize;if(!x){S(Ie("Ltz3::\u672A\u91C7\u96C6\u5230\u5F55\u97F3"));return}if(!H[_e.type]){S(Ie("xGuI::\u672A\u52A0\u8F7D{1}\u7F16\u7801\u5668\uFF0C\u8BF7\u5C1D\u8BD5\u5230{2}\u7684src/engine\u5185\u627E\u5230{1}\u7684\u7F16\u7801\u5668\u5E76\u52A0\u8F7D",0,_e.type,Ze));return}if(H.isMock){var ke=H.envCheck(H.mockEnvInfo||{envName:"mock",canProcess:!1});if(ke){S(Ie("AxOH::\u5F55\u97F3\u9519\u8BEF\uFF1A")+ke);return}}var Le=H.engineCtx;if(H[_e.type+"_complete"]&&Le){var De=Math.round(Le.pcmSize/_e[g]*1e3);pe=Date.now(),H[_e.type+"_complete"](Le,function(J,je){M(J,je,De)},S);return}if(pe=Date.now(),!H.buffers[0]){S(Ie("xkKd::\u97F3\u9891buffers\u88AB\u91CA\u653E"));return}var te=ce.SampleData(H.buffers,H[e1],_e[g]);_e[g]=te[g];var ne=te.data,De=Math.round(ne.length/_e[g]*1e3);H.CLog(Ie("CxeT::\u91C7\u6837:{1} \u82B1:{2}ms",0,x+"->"+ne.length,Date.now()-pe)),setTimeout(function(){pe=Date.now(),H[_e.type](ne,function(G,J){M(G,J,De)},function(G){S(G)})})}};var t1=function(w,L){L.pos||(L.pos=[0],L.tracks={},L.bytes=[]);var R=L.tracks,H=[L.pos[0]],_e=function(){L.pos[0]=H[0]},pe=L.bytes.length,b=new Uint8Array(pe+w.length);if(b.set(L.bytes),b.set(w,pe),L.bytes=b,!L._ht){if(u1(b,H),f1(b,H),!a1(u1(b,H),[24,83,128,103]))return;for(u1(b,H);H[0]<b.length;){var t=u1(b,H),y=f1(b,H),S=[0],M=0;if(!y)return;if(a1(t,[22,84,174,107])){for(;S[0]<y.length;){var ae=u1(y,S),x=f1(y,S),ke=[0],Le={channels:0,sampleRate:0};if(a1(ae,[174]))for(;ke[0]<x.length;){var te=u1(x,ke),ne=f1(x,ke),De=[0];if(a1(te,[215])){var G=xe(ne);Le.number=G,R[G]=Le}else if(a1(te,[131])){var G=xe(ne);G==1?Le.type="video":G==2?(Le.type="audio",M||(L.track0=Le),Le.idx=M++):Le.type="Type-"+G}else if(a1(te,[134])){for(var J="",je=0;je<ne.length;je++)J+=String.fromCharCode(ne[je]);Le.codec=J}else if(a1(te,[225]))for(;De[0]<ne.length;){var _=u1(ne,De),D=f1(ne,De);if(a1(_,[181])){var G=0,F=new Uint8Array(D.reverse()).buffer;D.length==4?G=new Float32Array(F)[0]:D.length==8?G=new Float64Array(F)[0]:Oe("WebM Track !Float",1,D),Le[g]=Math.round(G)}else a1(_,[98,100])?Le.bitDepth=xe(D):a1(_,[159])&&(Le.channels=xe(D))}}}L._ht=1,Oe("WebM Tracks",R),_e();break}}}var m=L.track0;if(m){if(m.bitDepth==16&&/FLOAT/i.test(m.codec)&&(m.bitDepth=32,Oe("WebM 16->32 bit",3)),m[g]!=L[g]||m.bitDepth!=32||m.channels<1||!/(\b|_)PCM\b/i.test(m.codec))return L.bytes=[],L.bad||Oe("WebM Track Unexpected",3,L),L.bad=1,-1;for(var ve=[],c=0;H[0]<b.length;){var ae=u1(b,H),x=f1(b,H);if(!x)break;if(a1(ae,[163])){var U=x[0]&15,Le=R[U];if(!Le)Oe("WebM !Track"+U,1,R);else if(Le.idx===0){for(var se=new Uint8Array(x.length-4),je=4;je<x.length;je++)se[je-4]=x[je];ve.push(se),c+=se.length}}_e()}if(c){var C=new Uint8Array(b.length-L.pos[0]);C.set(b.subarray(L.pos[0])),L.bytes=C,L.pos[0]=0;for(var se=new Uint8Array(c),je=0,Q=0;je<ve.length;je++)se.set(ve[je],Q),Q+=ve[je].length;var F=new Float32Array(se.buffer);if(m.channels>1){for(var E=[],je=0;je<F.length;)E.push(F[je]),je+=m.channels;F=new Float32Array(E)}return F}}},a1=function(w,L){if(!w||w.length!=L.length)return!1;if(w.length==1)return w[0]==L[0];for(var R=0;R<w.length;R++)if(w[R]!=L[R])return!1;return!0},xe=function(w){for(var L="",R=0;R<w.length;R++){var H=w[R];L+=(H<16?"0":"")+H.toString(16)}return parseInt(L,16)||0},u1=function(w,L,R){var H=L[0];if(!(H>=w.length)){var _e=w[H],pe=("0000000"+_e.toString(2)).substr(-8),b=/^(0*1)(\d*)$/.exec(pe);if(b){var t=b[1].length,y=[];if(!(H+t>w.length)){for(var S=0;S<t;S++)y[S]=w[H],H++;return R&&(y[0]=parseInt(b[2]||"0",2)),L[0]=H,y}}}},f1=function(w,L){var R=u1(w,L,1);if(R){var H=xe(R),_e=L[0],pe=[];if(H<2147483647){if(_e+H>w.length)return;for(var b=0;b<H;b++)pe[b]=w[_e],_e++}return L[0]=_e,pe}},d1=ce.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(w,L){var R=Ze+".i18n.put: ",H=w.overwrite;H=H==null||H;var _e=w.lang;if(_e=d1.alias[_e]||_e,!_e)throw new Error(R+"set.lang?");var pe=d1.locales[_e];pe||(pe={},d1.locales[_e]=pe);for(var b=/^([\w\-]+):/,t,y=0;y<L.length;y++){var M=L[y];if(t=b.exec(M),!t){Oe(R+"'key:'? "+M,3,w);continue}var S=t[1],M=M.substr(S.length+1);!H&&pe[S]||(pe[S]=M)}},get:function(){return d1.v_G.apply(null,arguments)},v_G:function(w,L,R){L=L||[],R=R||d1.lang,R=d1.alias[R]||R;var H=d1.locales[R],_e=H&&H[w]||"";return!_e&&R!="zh"?R=="en"?d1.v_G(w,L,"zh"):d1.v_G(w,L,"en"):(d1.lastLang=R,_e=="=Empty"?"":_e.replace(/\{(\d+)(\!?)\}/g,function(pe,b,t){return b=+b||0,pe=L[b-1],(b<1||b>L.length)&&(pe="{?}",Oe("i18n["+w+"] no {"+b+"}: "+_e,3)),t?"":pe}))},$T:function(){return d1.v_T.apply(null,arguments)},v_T:function(){for(var w=arguments,L="",R=[],H=0,_e=Ze+".i18n.$T:",pe=/^([\w\-]*):/,b,t=0;t<w.length;t++){var y=w[t];if(t==0){if(b=pe.exec(y),L=b&&b[1],!L)throw new Error(_e+"0 'key:'?");y=y.substr(L.length+1)}if(H===-1)R.push(y);else{if(H)throw new Error(_e+" bad args");if(y===0)H=-1;else if(Se(y)){if(y<1)throw new Error(_e+" bad args");H=y}else{var S=t==1?"en":t?"":"zh";if(b=pe.exec(y),b&&(S=b[1]||S,y=y.substr(b[1].length+1)),!b||!S)throw new Error(_e+t+" 'lang:'?");d1.put({lang:S,overwrite:!1},[L+":"+y])}}}return L?H>0?L:d1.v_G(L,R):""}},Ie=d1.$T;Ie.G=d1.get,Ie("NonBrowser-1::\u975E\u6D4F\u89C8\u5668\u73AF\u5883\uFF0C\u4E0D\u652F\u6301{1}",1),Ie("IllegalArgs-1::\u53C2\u6570\u9519\u8BEF\uFF1A{1}",1),Ie("NeedImport-2::\u8C03\u7528{1}\u9700\u8981\u5148\u5BFC\u5165{2}",2),Ie("NotSupport-1::\u4E0D\u652F\u6301\uFF1A{1}",1),ce.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var c1=ce.Traffic=function(w){if(Ae){w=w?"/"+Ze+"/Report/"+w:"";var L=ce.TrafficImgUrl;if(L){var R=ce.Traffic,H=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],_e=H[1]||"http://file/",pe=(H[0]||_e)+w;if(L.indexOf("//")==0&&(/^https:/i.test(pe)?L="https:"+L:L="http:"+L),w&&(L=L+"&cu="+encodeURIComponent(_e+w)),!R[pe]){R[pe]=1;var b=new Image;b.src=L,Oe("Traffic Analysis Image: "+(w||Ze+".TrafficImgUrl="+ce.TrafficImgUrl))}}}};re&&(Oe(Ie("8HO5::\u8986\u76D6\u5BFC\u5165{1}",0,Ze),1),re.Destroy()),Be[Ze]=ce})})(Ht);var Ut=et;(function(z){var Be=typeof window=="object"&&!!window.document,Ae=Be?window:Object,Z=Ae.Recorder,Se=Z.i18n;z(Z,Se,Se.$T,Be)})(function(z,Be,Ae,Z){var Se="48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000",ce="8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, 192, 224, 256, 320";z.prototype.enc_mp3={stable:!0,takeEC:"full",getTestMsg:function(){return Ae("Zm7L::\u91C7\u6837\u7387\u8303\u56F4\uFF1A{1}\uFF1B\u6BD4\u7279\u7387\u8303\u56F4\uFF1A{2}\uFF08\u4E0D\u540C\u6BD4\u7279\u7387\u652F\u6301\u7684\u91C7\u6837\u7387\u8303\u56F4\u4E0D\u540C\uFF0C\u5C0F\u4E8E32kbps\u65F6\u91C7\u6837\u7387\u9700\u5C0F\u4E8E32000\uFF09",0,Se,ce)}};var K=function(re){var be=re.bitRate,We=re.sampleRate,Ke=We;if((" "+ce+",").indexOf(" "+be+",")==-1&&z.CLog(Ae("eGB9::{1}\u4E0D\u5728mp3\u652F\u6301\u7684\u53D6\u503C\u8303\u56F4\uFF1A{2}",0,"bitRate="+be,ce),3),(" "+Se+",").indexOf(" "+We+",")==-1){for(var ee=Se.split(", "),ue=[],Ne=0;Ne<ee.length;Ne++)ue.push({v:+ee[Ne],s:Math.abs(ee[Ne]-We)});ue.sort(function(we,X){return we.s-X.s}),Ke=ue[0].v,re.sampleRate=Ke,z.CLog(Ae("zLTa::sampleRate\u5DF2\u66F4\u65B0\u4E3A{1}\uFF0C\u56E0\u4E3A{2}\u4E0D\u5728mp3\u652F\u6301\u7684\u53D6\u503C\u8303\u56F4\uFF1A{3}",0,Ke,We,Se),3)}},Ce=function(){return Ae.G("NeedImport-2",["mp3.js","src/engine/mp3-engine.js"])},Ze=Z&&typeof Worker=="function";z.prototype.mp3=function(re,be,We){var Ke=this,ee=Ke.set,ue=re.length;if(!z.lamejs){We(Ce());return}if(Ze){var Ne=Ke.mp3_start(ee);if(Ne){if(Ne.isW){Ke.mp3_encode(Ne,re),Ke.mp3_complete(Ne,be,We,1);return}Ke.mp3_stop(Ne)}}K(ee);var we=new z.lamejs.Mp3Encoder(1,ee.sampleRate,ee.bitRate),X=57600,Ee=new Int8Array(5e5),ye=0,Oe=0,qe=function(){try{if(Oe<ue)var de=we.encodeBuffer(re.subarray(Oe,Oe+X));else var de=we.flush()}catch(u1){O1("error","at node_modules/recorder-core/src/engine/mp3.js:86",u1),We("MP3 Encoder: "+u1.message);return}var V=de.length;if(V>0){if(ye+V>Ee.length){var t1=new Int8Array(Ee.length+Math.max(5e5,V));t1.set(Ee.subarray(0,ye)),Ee=t1}Ee.set(de,ye),ye+=V}if(Oe<ue)Oe+=X,setTimeout(qe);else{var a1=[Ee.buffer.slice(0,ye)],xe=Ue.fn(a1,ye,ue,ee.sampleRate);$e(xe,ee),be(a1[0]||new ArrayBuffer(0),"audio/mp3")}};qe()};var ie;z.BindDestroy("mp3Worker",function(){ie&&(z.CLog("mp3Worker Destroy"),ie.terminate(),ie=null)}),z.prototype.mp3_envCheck=function(re,be){var We="";return be.takeoffEncodeChunk&&(g()||(We=Ae("yhUs::\u5F53\u524D\u6D4F\u89C8\u5668\u7248\u672C\u592A\u4F4E\uFF0C\u65E0\u6CD5\u5B9E\u65F6\u5904\u7406"))),!We&&!z.lamejs&&(We=Ce()),We},z.prototype.mp3_start=function(re){return g(re)};var e1={id:0},g=function(re,be){var We=function(qe){var de=qe.data,V=ue.wkScope.wk_ctxs,t1=ue.wkScope.wk_lame,a1=ue.wkScope.wk_mp3TrimFix,xe=V[de.id];if(de.action=="init")V[de.id]={sampleRate:de.sampleRate,bitRate:de.bitRate,takeoff:de.takeoff,pcmSize:0,memory:new Int8Array(5e5),mOffset:0,encObj:new t1.Mp3Encoder(1,de.sampleRate,de.bitRate)};else if(!xe)return;var u1=function(c1){var w=c1.length;if(xe.mOffset+w>xe.memory.length){var L=new Int8Array(xe.memory.length+Math.max(5e5,w));L.set(xe.memory.subarray(0,xe.mOffset)),xe.memory=L}xe.memory.set(c1,xe.mOffset),xe.mOffset+=w};switch(de.action){case"stop":xe.encObj=null,delete V[de.id];break;case"encode":xe.pcmSize+=de.pcm.length;try{var f1=xe.encObj.encodeBuffer(de.pcm)}catch(c1){xe.err=c1,O1("error","at node_modules/recorder-core/src/engine/mp3.js:191",c1)}f1&&f1.length>0&&(xe.takeoff?Ne.onmessage({action:"takeoff",id:de.id,chunk:f1}):u1(f1));break;case"complete":try{var f1=xe.encObj.flush()}catch(c1){xe.err=c1,O1("error","at node_modules/recorder-core/src/engine/mp3.js:206",c1)}if(f1&&f1.length>0&&(xe.takeoff?Ne.onmessage({action:"takeoff",id:de.id,chunk:f1}):u1(f1)),xe.err){Ne.onmessage({action:de.action,id:de.id,err:"MP3 Encoder: "+xe.err.message});break}var d1=[xe.memory.buffer.slice(0,xe.mOffset)],Ie=a1.fn(d1,xe.mOffset,xe.pcmSize,xe.sampleRate);Ne.onmessage({action:de.action,id:de.id,blob:d1[0]||new ArrayBuffer(0),meta:Ie});break}},Ke=function(qe){Ne.onmessage=function(de){var V=de;qe&&(V=de.data);var t1=e1[V.id];t1&&(V.action=="takeoff"?t1.set.takeoffEncodeChunk(new Uint8Array(V.chunk.buffer)):(t1.call&&t1.call(V),t1.call=null))}},ee=function(){var qe={worker:Ne,set:re};return re?(qe.id=++e1.id,e1[qe.id]=qe,K(re),Ne.postMessage({action:"init",id:qe.id,sampleRate:re.sampleRate,bitRate:re.bitRate,takeoff:!!re.takeoffEncodeChunk,x:new Int16Array(5)})):Ne.postMessage({x:new Int16Array(5)}),qe},ue,Ne=ie;if(be||!Ze)return z.CLog(Ae("k9PT::\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301Web Worker\uFF0Cmp3\u5B9E\u65F6\u7F16\u7801\u5668\u8FD0\u884C\u5728\u4E3B\u7EBF\u7A0B\u4E2D"),3),Ne={postMessage:function(qe){We({data:qe})}},ue={wkScope:{wk_ctxs:{},wk_lame:z.lamejs,wk_mp3TrimFix:Ue}},Ke(),ee();try{if(!Ne){var we=(We+"").replace(/[\w\$]+\.onmessage/g,"self.postMessage");we=we.replace(/[\w\$]+\.wkScope/g,"wkScope");var X=");wk_lame();self.onmessage="+we;X+=";var wkScope={ wk_ctxs:{},wk_lame:wk_lame",X+=",wk_mp3TrimFix:{rm:"+Ue.rm+",fn:"+Ue.fn+"} }";var Ee=z.lamejs.toString(),ye=(window.URL||webkitURL).createObjectURL(new Blob(["var wk_lame=(",Ee,X],{type:"text/javascript"}));Ne=new Worker(ye),setTimeout(function(){(window.URL||webkitURL).revokeObjectURL(ye)},1e4),Ke(1)}var Oe=ee();return Oe.isW=1,ie=Ne,Oe}catch(qe){return Ne&&Ne.terminate(),O1("error","at node_modules/recorder-core/src/engine/mp3.js:312",qe),g(re,1)}};z.prototype.mp3_stop=function(re){if(re&&re.worker){re.worker.postMessage({action:"stop",id:re.id}),re.worker=null,delete e1[re.id];var be=-1;for(var We in e1)be++;be&&z.CLog(Ae("fT6M::mp3 worker\u5269{1}\u4E2A\u672Astop",0,be),3)}},z.prototype.mp3_encode=function(re,be){re&&re.worker&&re.worker.postMessage({action:"encode",id:re.id,pcm:be})},z.prototype.mp3_complete=function(re,be,We,Ke){var ee=this;re&&re.worker?(re.call=function(ue){Ke&&ee.mp3_stop(re),ue.err?We(ue.err):($e(ue.meta,re.set),be(ue.blob,"audio/mp3"))},re.worker.postMessage({action:"complete",id:re.id})):We(Ae("mPxH::mp3\u7F16\u7801\u5668\u672Astart"))},z.mp3ReadMeta=function(re,be){var We=typeof window!="undefined"&&window.parseInt||typeof self!="undefined"&&self.parseInt||parseInt,Ke=new Uint8Array(re[0]||[]);if(Ke.length<4)return null;var ee=function(c1,w){return("0000000"+((w||Ke)[c1]||0).toString(2)).substr(-8)},ue=ee(0)+ee(1),Ne=ee(2)+ee(3);if(!/^1{11}/.test(ue))return null;var we={"00":2.5,10:2,11:1}[ue.substr(11,2)],X={"01":3}[ue.substr(13,2)],Ee={1:[44100,48e3,32e3],2:[22050,24e3,16e3],"2.5":[11025,12e3,8e3]}[we];Ee&&(Ee=Ee[We(Ne.substr(4,2),2)]);var ye=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]][we==1?1:0][We(Ne.substr(0,4),2)];if(!we||!X||!ye||!Ee)return null;for(var Oe=Math.round(be*8/ye),qe=X==1?384:X==2||we==1?1152:576,de=qe/Ee*1e3,V=Math.floor(qe*ye/8/Ee*1e3),t1=0,a1=0,xe=0;xe<re.length;xe++){var u1=re[xe];if(a1+=u1.byteLength,a1>=V+3){var f1=new Uint8Array(u1),d1=u1.byteLength-(a1-(V+3)+1),Ie=ee(d1,f1);t1=Ie.charAt(6)=="1";break}}return t1&&V++,{version:we,layer:X,sampleRate:Ee,bitRate:ye,duration:Oe,size:be,hasPadding:t1,frameSize:V,frameDurationFloat:de}};var Ue={rm:z.mp3ReadMeta,fn:function(re,be,We,Ke){var ee=this.rm(re,be);if(!ee)return{err:"mp3 unknown format"};var ue=Math.round(We/Ke*1e3),Ne=Math.floor((ee.duration-ue)/ee.frameDurationFloat);if(Ne>0){var we=Ne*ee.frameSize-(ee.hasPadding?1:0);be-=we;for(var X=0,Ee=[],ye=0;ye<re.length;ye++){var Oe=re[ye];if(we<=0)break;we>=Oe.byteLength?(we-=Oe.byteLength,Ee.push(Oe),re.splice(ye,1),ye--):(re[ye]=Oe.slice(we),X=Oe,we=0)}var qe=this.rm(re,be);if(!qe){X&&(re[0]=X);for(var ye=0;ye<Ee.length;ye++)re.splice(ye,0,Ee[ye]);ee.err="mp3 fix error: \u5DF2\u8FD8\u539F\uFF0C\u9519\u8BEF\u539F\u56E0\u4E0D\u660E"}var de=ee.trimFix={};de.remove=Ne,de.removeDuration=Math.round(Ne*ee.frameDurationFloat),de.duration=Math.round(be*8/ee.bitRate)}return ee}},$e=function(re,be){var We="MP3 Info: ";(re.sampleRate&&re.sampleRate!=be.sampleRate||re.bitRate&&re.bitRate!=be.bitRate)&&(z.CLog(We+Ae("uY9i::\u548C\u8BBE\u7F6E\u7684\u4E0D\u5339\u914D{1}\uFF0C\u5DF2\u66F4\u65B0\u6210{2}",0,"set:"+be.bitRate+"kbps "+be.sampleRate+"hz","set:"+re.bitRate+"kbps "+re.sampleRate+"hz"),3,be),be.sampleRate=re.sampleRate,be.bitRate=re.bitRate);var Ke=re.trimFix;Ke?(We+=Ae("iMSm::Fix\u79FB\u9664{1}\u5E27",0,Ke.remove)+" "+Ke.removeDuration+"ms -> "+Ke.duration+"ms",Ke.remove>2&&(re.err=(re.err?re.err+", ":"")+Ae("b9zm::\u79FB\u9664\u5E27\u6570\u8FC7\u591A"))):We+=(re.duration||"-")+"ms",re.err?z.CLog(We,1,re.err,re):z.CLog(We,re)}});(function(z){var Be=typeof window=="object"&&!!window.document,Ae=Be?window:Object,Z=Ae.Recorder;z(Z)})(function(z){function Be(){var Ae=function(_){return Math.log(_)/Math.log(10)},Z=function(_){throw new Error("abort("+_+")")};function Se(_){return new Int8Array(_)}function ce(_){return new Int16Array(_)}function K(_){return new Int32Array(_)}function Ce(_){return new Float32Array(_)}function Ze(_){return new Float64Array(_)}function ie(_){if(_.length==1)return Ce(_[0]);var D=_[0];_=_.slice(1);for(var F=[],m=0;m<D;m++)F.push(ie(_));return F}function e1(_){if(_.length==1)return K(_[0]);var D=_[0];_=_.slice(1);for(var F=[],m=0;m<D;m++)F.push(e1(_));return F}function g(_){if(_.length==1)return ce(_[0]);var D=_[0];_=_.slice(1);for(var F=[],m=0;m<D;m++)F.push(g(_));return F}function Ue(_){if(_.length==1)return new Array(_[0]);var D=_[0];_=_.slice(1);for(var F=[],m=0;m<D;m++)F.push(Ue(_));return F}var $e={};$e.fill=function(_,D,F,m){if(arguments.length==2)for(var ve=0;ve<_.length;ve++)_[ve]=arguments[1];else for(var ve=D;ve<F;ve++)_[ve]=m};var re={};re.arraycopy=function(_,D,F,m,ve){for(var c=D+ve;D<c;)F[m++]=_[D++]};var be={};be.SQRT2=1.4142135623730951,be.FAST_LOG10=function(_){return Ae(_)},be.FAST_LOG10_X=function(_,D){return Ae(_)*D};function We(_){this.ordinal=_}We.short_block_allowed=new We(0),We.short_block_coupled=new We(1),We.short_block_dispensed=new We(2),We.short_block_forced=new We(3);var Ke={};Ke.MAX_VALUE=34028235e31;function ee(_){this.ordinal=_}ee.vbr_off=new ee(0),ee.vbr_mt=new ee(1),ee.vbr_rh=new ee(2),ee.vbr_abr=new ee(3),ee.vbr_mtrh=new ee(4),ee.vbr_default=ee.vbr_mtrh;function ue(_){var D=_;this.ordinal=function(){return D}}ue.STEREO=new ue(0),ue.JOINT_STEREO=new ue(1),ue.DUAL_CHANNEL=new ue(2),ue.MONO=new ue(3),ue.NOT_SET=new ue(4);function Ne(){var _=3,D=98,F=4;this.getLameShortVersion=function(){return _+"."+D+"."+F}}function we(){var _=null;this.qupvt=null,this.setModules=function(l){this.qupvt=l,_=l};function D(l){this.bits=0|l}var F=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function m(l,u,v,p,T,r){var a=.5946/u;for(l=l>>1;l--!=0;)T[r++]=a>v[p++]?0:1,T[r++]=a>v[p++]?0:1}function ve(l,u,v,p,T,r){l=l>>1;var a=l%2;for(l=l>>1;l--!=0;){var q,k,P,le,he,me,Fe,Ge;q=v[p++]*u,k=v[p++]*u,he=0|q,P=v[p++]*u,me=0|k,le=v[p++]*u,Fe=0|P,q+=_.adj43[he],Ge=0|le,k+=_.adj43[me],T[r++]=0|q,P+=_.adj43[Fe],T[r++]=0|k,le+=_.adj43[Ge],T[r++]=0|P,T[r++]=0|le}if(a!=0){var q,k,he,me;q=v[p++]*u,k=v[p++]*u,he=0|q,me=0|k,q+=_.adj43[he],k+=_.adj43[me],T[r++]=0|q,T[r++]=0|k}}function c(l,u,v,p,T){var r,a,q=0,k,P=0,le=0,he=0,me=u,Fe=0,Ge=me,Xe=0,m1=l,S1=0;for(k=T!=null&&p.global_gain==T.global_gain,p.block_type==t.SHORT_TYPE?a=38:a=21,r=0;r<=a;r++){var o1=-1;if((k||p.block_type==t.NORM_TYPE)&&(o1=p.global_gain-(p.scalefac[r]+(p.preflag!=0?_.pretab[r]:0)<<p.scalefac_scale+1)-p.subblock_gain[p.window[r]]*8),k&&T.step[r]==o1)P!=0&&(ve(P,v,m1,S1,Ge,Xe),P=0),le!=0&&Z();else{var h1=p.width[r];if(q+p.width[r]>p.max_nonzero_coeff){var A1;A1=p.max_nonzero_coeff-q+1,$e.fill(u,p.max_nonzero_coeff,576,0),h1=A1,h1<0&&(h1=0),r=a+1}if(P==0&&le==0&&(Ge=me,Xe=Fe,m1=l,S1=he),T!=null&&T.sfb_count1>0&&r>=T.sfb_count1&&T.step[r]>0&&o1>=T.step[r]?(P!=0&&(ve(P,v,m1,S1,Ge,Xe),P=0,Ge=me,Xe=Fe,m1=l,S1=he),le+=h1):(le!=0&&(m(le,v,m1,S1,Ge,Xe),le=0,Ge=me,Xe=Fe,m1=l,S1=he),P+=h1),h1<=0){le!=0&&Z(),P!=0&&Z();break}}r<=a&&(Fe+=p.width[r],he+=p.width[r],q+=p.width[r])}P!=0&&(ve(P,v,m1,S1,Ge,Xe),P=0),le!=0&&Z()}function U(l,u,v){var p=0,T=0;do{var r=l[u++],a=l[u++];p<r&&(p=r),T<a&&(T=a)}while(u<v);return p<T&&(p=T),p}function se(l,u,v,p,T,r){var a=V.ht[p].xlen*65536+V.ht[T].xlen,q=0,k;do{var P=l[u++],le=l[u++];P!=0&&(P>14&&(P=15,q+=a),P*=16),le!=0&&(le>14&&(le=15,q+=a),P+=le),q+=V.largetbl[P]}while(u<v);return k=q&65535,q>>=16,q>k&&(q=k,p=T),r.bits+=q,p}function C(l,u,v,p){var T=0,r=V.ht[1].hlen;do{var a=l[u+0]*2+l[u+1];u+=2,T+=r[a]}while(u<v);return p.bits+=T,1}function Q(l,u,v,p,T){var r=0,a,q=V.ht[p].xlen,k;p==2?k=V.table23:k=V.table56;do{var P=l[u+0]*q+l[u+1];u+=2,r+=k[P]}while(u<v);return a=r&65535,r>>=16,r>a&&(r=a,p++),T.bits+=r,p}function E(l,u,v,p,T){var r=0,a=0,q=0,k=V.ht[p].xlen,P=V.ht[p].hlen,le=V.ht[p+1].hlen,he=V.ht[p+2].hlen;do{var me=l[u+0]*k+l[u+1];u+=2,r+=P[me],a+=le[me],q+=he[me]}while(u<v);var Fe=p;return r>a&&(r=a,Fe++),r>q&&(r=q,Fe=p+2),T.bits+=r,Fe}var fe=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function B(l,u,v,p){var T=U(l,u,v);switch(T){case 0:return T;case 1:return C(l,u,v,p);case 2:case 3:return Q(l,u,v,fe[T-1],p);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return E(l,u,v,fe[T-1],p);default:T>w.IXMAX_VAL&&Z(),T-=15;var r;for(r=24;r<32&&!(V.ht[r].linmax>=T);r++);var a;for(a=r-8;a<24&&!(V.ht[a].linmax>=T);a++);return se(l,u,v,a,r,p)}}this.noquant_count_bits=function(l,u,v){var p=u.l3_enc,T=Math.min(576,u.max_nonzero_coeff+2>>1<<1);for(v!=null&&(v.sfb_count1=0);T>1&&!(p[T-1]|p[T-2]);T-=2);u.count1=T;for(var r=0,a=0;T>3;T-=4){var q;if(((p[T-1]|p[T-2]|p[T-3]|p[T-4])&2147483647)>1)break;q=((p[T-4]*2+p[T-3])*2+p[T-2])*2+p[T-1],r+=V.t32l[q],a+=V.t33l[q]}var k=r;if(u.count1table_select=0,r>a&&(k=a,u.count1table_select=1),u.count1bits=k,u.big_values=T,T==0)return k;if(u.block_type==t.SHORT_TYPE)r=3*l.scalefac_band.s[3],r>u.big_values&&(r=u.big_values),a=u.big_values;else if(u.block_type==t.NORM_TYPE){if(r=u.region0_count=l.bv_scf[T-2],a=u.region1_count=l.bv_scf[T-1],a=l.scalefac_band.l[r+a+2],r=l.scalefac_band.l[r+1],a<T){var P=new D(k);u.table_select[2]=B(p,a,T,P),k=P.bits}}else u.region0_count=7,u.region1_count=t.SBMAX_l-1-7-1,r=l.scalefac_band.l[7+1],a=T,r>a&&(r=a);if(r=Math.min(r,T),a=Math.min(a,T),0<r){var P=new D(k);u.table_select[0]=B(p,0,r,P),k=P.bits}if(r<a){var P=new D(k);u.table_select[1]=B(p,r,a,P),k=P.bits}if(l.use_best_huffman==2&&Z(),v!=null&&u.block_type==t.NORM_TYPE){for(var le=0;l.scalefac_band.l[le]<u.big_values;)le++;v.sfb_count1=le}return k},this.count_bits=function(l,u,v,p){var T=v.l3_enc,r=w.IXMAX_VAL/_.IPOW20(v.global_gain);return v.xrpow_max>r?w.LARGE_BITS:(c(u,T,_.IPOW20(v.global_gain),v,p),l.substep_shaping&2&&Z(),this.noquant_count_bits(l,v,p))};function O(l,u,v,p,T,r,a){for(var q=u.big_values,k=0;k<=7+15;k++)p[k]=w.LARGE_BITS;for(var k=0;k<16;k++){var P=l.scalefac_band.l[k+1];if(P>=q)break;var le=0,he=new D(le),me=B(v,0,P,he);le=he.bits;for(var Fe=0;Fe<8;Fe++){var Ge=l.scalefac_band.l[k+Fe+2];if(Ge>=q)break;var Xe=le;he=new D(Xe);var m1=B(v,P,Ge,he);Xe=he.bits,p[k+Fe]>Xe&&(p[k+Fe]=Xe,T[k+Fe]=k,r[k+Fe]=me,a[k+Fe]=m1)}}}function e(l,u,v,p,T,r,a,q){for(var k=u.big_values,P=2;P<t.SBMAX_l+1;P++){var le=l.scalefac_band.l[P];if(le>=k)break;var he=T[P-2]+u.count1bits;if(v.part2_3_length<=he)break;var me=new D(he),Fe=B(p,le,k,me);he=me.bits,!(v.part2_3_length<=he)&&(v.assign(u),v.part2_3_length=he,v.region0_count=r[P-2],v.region1_count=P-2-r[P-2],v.table_select[0]=a[P-2],v.table_select[1]=q[P-2],v.table_select[2]=Fe)}}this.best_huffman_divide=function(l,u){var v=new R,p=u.l3_enc,T=K(7+15+1),r=K(7+15+1),a=K(7+15+1),q=K(7+15+1);if(!(u.block_type==t.SHORT_TYPE&&l.mode_gr==1)){v.assign(u),u.block_type==t.NORM_TYPE&&(O(l,u,p,T,r,a,q),e(l,v,u,p,T,r,a,q));var k=v.big_values;if(!(k==0||(p[k-2]|p[k-1])>1)&&(k=u.count1+2,!(k>576))){v.assign(u),v.count1=k;for(var P=0,le=0;k>v.big_values;k-=4){var he=((p[k-4]*2+p[k-3])*2+p[k-2])*2+p[k-1];P+=V.t32l[he],le+=V.t33l[he]}if(v.big_values=k,v.count1table_select=0,P>le&&(P=le,v.count1table_select=1),v.count1bits=P,v.block_type==t.NORM_TYPE)e(l,v,u,p,T,r,a,q);else{if(v.part2_3_length=P,P=l.scalefac_band.l[7+1],P>k&&(P=k),P>0){var me=new D(v.part2_3_length);v.table_select[0]=B(p,0,P,me),v.part2_3_length=me.bits}if(k>P){var me=new D(v.part2_3_length);v.table_select[1]=B(p,P,k,me),v.part2_3_length=me.bits}u.part2_3_length>v.part2_3_length&&u.assign(v)}}}};var i=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],d=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],N=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],h=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];we.slen1_tab=N,we.slen2_tab=h;function o(l,u){for(var v,p=u.tt[1][l],T=u.tt[0][l],r=0;r<V.scfsi_band.length-1;r++){for(v=V.scfsi_band[r];v<V.scfsi_band[r+1]&&!(T.scalefac[v]!=p.scalefac[v]&&p.scalefac[v]>=0);v++);if(v==V.scfsi_band[r+1]){for(v=V.scfsi_band[r];v<V.scfsi_band[r+1];v++)p.scalefac[v]=-1;u.scfsi[l][r]=1}}var a=0,q=0;for(v=0;v<11;v++)p.scalefac[v]!=-1&&(q++,a<p.scalefac[v]&&(a=p.scalefac[v]));for(var k=0,P=0;v<t.SBPSY_l;v++)p.scalefac[v]!=-1&&(P++,k<p.scalefac[v]&&(k=p.scalefac[v]));for(var r=0;r<16;r++)if(a<i[r]&&k<d[r]){var le=N[r]*q+h[r]*P;p.part2_length>le&&(p.part2_length=le,p.scalefac_compress=r)}}this.best_scalefac_store=function(l,u,v,p){var T=p.tt[u][v],r,a,q,k,P=0;for(q=0,r=0;r<T.sfbmax;r++){var le=T.width[r];for(q+=le,k=-le;k<0&&T.l3_enc[k+q]==0;k++);k==0&&(T.scalefac[r]=P=-2)}if(T.scalefac_scale==0&&T.preflag==0){var he=0;for(r=0;r<T.sfbmax;r++)T.scalefac[r]>0&&(he|=T.scalefac[r]);if(!(he&1)&&he!=0){for(r=0;r<T.sfbmax;r++)T.scalefac[r]>0&&(T.scalefac[r]>>=1);T.scalefac_scale=P=1}}if(T.preflag==0&&T.block_type!=t.SHORT_TYPE&&l.mode_gr==2){for(r=11;r<t.SBPSY_l&&!(T.scalefac[r]<_.pretab[r]&&T.scalefac[r]!=-2);r++);if(r==t.SBPSY_l){for(r=11;r<t.SBPSY_l;r++)T.scalefac[r]>0&&(T.scalefac[r]-=_.pretab[r]);T.preflag=P=1}}for(a=0;a<4;a++)p.scfsi[v][a]=0;for(l.mode_gr==2&&u==1&&p.tt[0][v].block_type!=t.SHORT_TYPE&&p.tt[1][v].block_type!=t.SHORT_TYPE&&(o(v,p),P=0),r=0;r<T.sfbmax;r++)T.scalefac[r]==-2&&(T.scalefac[r]=0);P!=0&&(l.mode_gr==2?this.scale_bitcount(T):this.scale_bitcount_lsf(l,T))};var f=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],s=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],A=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(l){var u,v,p=0,T=0,r,a=l.scalefac;if(l.block_type==t.SHORT_TYPE)r=f,l.mixed_block_flag!=0&&(r=s);else if(r=A,l.preflag==0){for(v=11;v<t.SBPSY_l&&!(a[v]<_.pretab[v]);v++);if(v==t.SBPSY_l)for(l.preflag=1,v=11;v<t.SBPSY_l;v++)a[v]-=_.pretab[v]}for(v=0;v<l.sfbdivide;v++)p<a[v]&&(p=a[v]);for(;v<l.sfbmax;v++)T<a[v]&&(T=a[v]);for(l.part2_length=w.LARGE_BITS,u=0;u<16;u++)p<i[u]&&T<d[u]&&l.part2_length>r[u]&&(l.part2_length=r[u],l.scalefac_compress=u);return l.part2_length==w.LARGE_BITS};var n=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(l,u){var v,p,T,r,a,q,k,P,le=K(4),he=u.scalefac;for(u.preflag!=0?v=2:v=0,k=0;k<4;k++)le[k]=0;if(u.block_type==t.SHORT_TYPE){p=1;var me=_.nr_of_sfb_block[v][p];for(P=0,T=0;T<4;T++)for(r=me[T]/3,k=0;k<r;k++,P++)for(a=0;a<3;a++)he[P*3+a]>le[T]&&(le[T]=he[P*3+a])}else{p=0;var me=_.nr_of_sfb_block[v][p];for(P=0,T=0;T<4;T++)for(r=me[T],k=0;k<r;k++,P++)he[P]>le[T]&&(le[T]=he[P])}for(q=!1,T=0;T<4;T++)le[T]>n[v][T]&&(q=!0);if(!q){var Fe,Ge,Xe,m1;for(u.sfb_partition_table=_.nr_of_sfb_block[v][p],T=0;T<4;T++)u.slen[T]=j[le[T]];switch(Fe=u.slen[0],Ge=u.slen[1],Xe=u.slen[2],m1=u.slen[3],v){case 0:u.scalefac_compress=(Fe*5+Ge<<4)+(Xe<<2)+m1;break;case 1:u.scalefac_compress=400+(Fe*5+Ge<<2)+Xe;break;case 2:u.scalefac_compress=500+Fe*3+Ge;break}}if(!q)for(u.part2_length=0,T=0;T<4;T++)u.part2_length+=u.slen[T]*u.sfb_partition_table[T];return q};var j=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(l){for(var u=2;u<=576;u+=2){for(var v=0,p;l.scalefac_band.l[++v]<u;);for(p=F[v][0];l.scalefac_band.l[p+1]>u;)p--;for(p<0&&(p=F[v][0]),l.bv_scf[u-2]=p,p=F[v][1];l.scalefac_band.l[p+l.bv_scf[u-2]+2]>u;)p--;p<0&&(p=F[v][1]),l.bv_scf[u-1]=p}}}X.STEPS_per_dB=100,X.MAX_dB=120,X.GAIN_NOT_ENOUGH_SAMPLES=-24601,X.GAIN_ANALYSIS_ERROR=0,X.GAIN_ANALYSIS_OK=1,X.INIT_GAIN_ANALYSIS_ERROR=0,X.INIT_GAIN_ANALYSIS_OK=1,X.YULE_ORDER=10,X.MAX_ORDER=X.YULE_ORDER,X.MAX_SAMP_FREQ=48e3,X.RMS_WINDOW_TIME_NUMERATOR=1,X.RMS_WINDOW_TIME_DENOMINATOR=20,X.MAX_SAMPLES_PER_WINDOW=X.MAX_SAMP_FREQ*X.RMS_WINDOW_TIME_NUMERATOR/X.RMS_WINDOW_TIME_DENOMINATOR+1;function X(){}function Ee(){function _(c,U,se,C,Q,E,fe,B,O,e,i,d,N,h){this.quant_comp=U,this.quant_comp_s=se,this.safejoint=C,this.nsmsfix=Q,this.st_lrm=E,this.st_s=fe,this.nsbass=B,this.scale=O,this.masking_adj=e,this.ath_lower=i,this.ath_curve=d,this.interch=N,this.sfscale=h}var D;this.setModules=function(c){D=c};function F(c,U,se){Z()}var m=[new _(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new _(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new _(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new _(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new _(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new _(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new _(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new _(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new _(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new _(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new _(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new _(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new _(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new _(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new _(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new _(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new _(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function ve(c,U,se){var C=U,Q=D.nearestBitrateFullIndex(U);if(c.VBR=ee.vbr_abr,c.VBR_mean_bitrate_kbps=C,c.VBR_mean_bitrate_kbps=Math.min(c.VBR_mean_bitrate_kbps,320),c.VBR_mean_bitrate_kbps=Math.max(c.VBR_mean_bitrate_kbps,8),c.brate=c.VBR_mean_bitrate_kbps,c.VBR_mean_bitrate_kbps>320&&(c.disable_reservoir=!0),m[Q].safejoint>0&&(c.exp_nspsytune=c.exp_nspsytune|2),m[Q].sfscale>0&&(c.internal_flags.noise_shaping=2),Math.abs(m[Q].nsbass)>0){var E=int(m[Q].nsbass*4);E<0&&(E+=64),c.exp_nspsytune=c.exp_nspsytune|E<<2}return se!=0?c.quant_comp=m[Q].quant_comp:Math.abs(c.quant_comp- -1)>0||(c.quant_comp=m[Q].quant_comp),se!=0?c.quant_comp_short=m[Q].quant_comp_s:Math.abs(c.quant_comp_short- -1)>0||(c.quant_comp_short=m[Q].quant_comp_s),se!=0?c.msfix=m[Q].nsmsfix:Math.abs(c.msfix- -1)>0||(c.msfix=m[Q].nsmsfix),se!=0?c.internal_flags.nsPsy.attackthre=m[Q].st_lrm:Math.abs(c.internal_flags.nsPsy.attackthre- -1)>0||(c.internal_flags.nsPsy.attackthre=m[Q].st_lrm),se!=0?c.internal_flags.nsPsy.attackthre_s=m[Q].st_s:Math.abs(c.internal_flags.nsPsy.attackthre_s- -1)>0||(c.internal_flags.nsPsy.attackthre_s=m[Q].st_s),se!=0?c.scale=m[Q].scale:Math.abs(c.scale- -1)>0||(c.scale=m[Q].scale),se!=0?c.maskingadjust=m[Q].masking_adj:Math.abs(c.maskingadjust-0)>0||(c.maskingadjust=m[Q].masking_adj),m[Q].masking_adj>0?se!=0?c.maskingadjust_short=m[Q].masking_adj*.9:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=m[Q].masking_adj*.9):se!=0?c.maskingadjust_short=m[Q].masking_adj*1.1:Math.abs(c.maskingadjust_short-0)>0||(c.maskingadjust_short=m[Q].masking_adj*1.1),se!=0?c.ATHlower=-m[Q].ath_lower/10:Math.abs(-c.ATHlower*10-0)>0||(c.ATHlower=-m[Q].ath_lower/10),se!=0?c.ATHcurve=m[Q].ath_curve:Math.abs(c.ATHcurve- -1)>0||(c.ATHcurve=m[Q].ath_curve),se!=0?c.interChRatio=m[Q].interch:Math.abs(c.interChRatio- -1)>0||(c.interChRatio=m[Q].interch),U}this.apply_preset=function(c,U,se){switch(U){case te.R3MIX:{U=te.V3,c.VBR=ee.vbr_mtrh;break}case te.MEDIUM:{U=te.V4,c.VBR=ee.vbr_rh;break}case te.MEDIUM_FAST:{U=te.V4,c.VBR=ee.vbr_mtrh;break}case te.STANDARD:{U=te.V2,c.VBR=ee.vbr_rh;break}case te.STANDARD_FAST:{U=te.V2,c.VBR=ee.vbr_mtrh;break}case te.EXTREME:{U=te.V0,c.VBR=ee.vbr_rh;break}case te.EXTREME_FAST:{U=te.V0,c.VBR=ee.vbr_mtrh;break}case te.INSANE:return U=320,c.preset=U,ve(c,U,se),c.VBR=ee.vbr_off,U}switch(c.preset=U,U){case te.V9:return F(),U;case te.V8:return F(),U;case te.V7:return F(),U;case te.V6:return F(),U;case te.V5:return F(),U;case te.V4:return F(),U;case te.V3:return F(),U;case te.V2:return F(),U;case te.V1:return F(),U;case te.V0:return F(),U}return 8<=U&&U<=320?ve(c,U,se):(c.preset=0,U)}}function ye(){var _;this.setModules=function(D){_=D},this.ResvFrameBegin=function(D,F){var m=D.internal_flags,ve,c=m.l3_side,U=_.getframebits(D);F.bits=(U-m.sideinfo_len*8)/m.mode_gr;var se=8*256*m.mode_gr-8;D.brate>320?Z():(ve=8*1440,D.strict_ISO&&Z()),m.ResvMax=ve-U,m.ResvMax>se&&(m.ResvMax=se),(m.ResvMax<0||D.disable_reservoir)&&(m.ResvMax=0);var C=F.bits*m.mode_gr+Math.min(m.ResvSize,m.ResvMax);return C>ve&&(C=ve),c.resvDrain_pre=0,m.pinfo!=null&&Z(),C},this.ResvMaxBits=function(D,F,m,ve){var c=D.internal_flags,U,se=c.ResvSize,C=c.ResvMax;ve!=0&&(se+=F),c.substep_shaping&1&&(C*=.9),m.bits=F,se*10>C*9?(U=se-C*9/10,m.bits+=U,c.substep_shaping|=128):(U=0,c.substep_shaping&=127,!D.disable_reservoir&&!(c.substep_shaping&1)&&(m.bits-=.1*F));var Q=se<c.ResvMax*6/10?se:c.ResvMax*6/10;return Q-=U,Q<0&&(Q=0),Q},this.ResvAdjust=function(D,F){D.ResvSize-=F.part2_3_length+F.part2_length},this.ResvFrameEnd=function(D,F){var m,ve=D.l3_side;D.ResvSize+=F*D.mode_gr;var c=0;ve.resvDrain_post=0,ve.resvDrain_pre=0,(m=D.ResvSize%8)!=0&&(c+=m),m=D.ResvSize-c-D.ResvMax,m>0&&(c+=m);{var U=Math.min(ve.main_data_begin*8,c)/8;ve.resvDrain_pre+=8*U,c-=8*U,D.ResvSize-=8*U,ve.main_data_begin-=U}ve.resvDrain_post+=c,D.ResvSize-=c}}Oe.NUMTOCENTRIES=100,Oe.MAXFRAMESIZE=2880;function Oe(){this.setModules=function(F,m,ve){};var _=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function D(F,m){var ve=m^F;return m=m>>8^_[ve&255],m}this.updateMusicCRC=function(F,m,ve,c){for(var U=0;U<c;++U)F[0]=D(m[ve+U],F[0])}}qe.EQ=function(_,D){return Math.abs(_)>Math.abs(D)?Math.abs(_-D)<=Math.abs(_)*1e-6:Math.abs(_-D)<=Math.abs(D)*1e-6},qe.NEQ=function(_,D){return!qe.EQ(_,D)};function qe(){var _=this,D=null,F=null;this.setModules=function(o,f,s,A){D=s,F=A};var m=null,ve=0,c=0,U=0;this.getframebits=function(o){var f=o.internal_flags,s;f.bitrate_index!=0?s=V.bitrate_table[o.version][f.bitrate_index]:s=o.brate;var A=0|(o.version+1)*72e3*s/o.out_samplerate+f.padding;return 8*A};function se(o){re.arraycopy(o.header[o.w_ptr].buf,0,m,c,o.sideinfo_len),c+=o.sideinfo_len,ve+=o.sideinfo_len*8,o.w_ptr=o.w_ptr+1&x.MAX_HEADER_BUF-1}function C(o,f,s){for(;s>0;){var A;U==0&&(U=8,c++,o.header[o.w_ptr].write_timing==ve&&se(o),m[c]=0),A=Math.min(s,U),s-=A,U-=A,m[c]|=f>>s<<U,ve+=A}}function Q(o,f){var s=o.internal_flags,A;if(f>=8&&(C(s,76,8),f-=8),f>=8&&(C(s,65,8),f-=8),f>=8&&(C(s,77,8),f-=8),f>=8&&(C(s,69,8),f-=8),f>=32){var n=D.getLameShortVersion();if(f>=32)for(A=0;A<n.length&&f>=8;++A)f-=8,C(s,n.charCodeAt(A),8)}for(;f>=1;f-=1)C(s,s.ancillary_flag,1),s.ancillary_flag^=o.disable_reservoir?0:1}function E(o,f,s){for(var A=o.header[o.h_ptr].ptr;s>0;){var n=Math.min(s,8-(A&7));s-=n,o.header[o.h_ptr].buf[A>>3]|=f>>s<<8-(A&7)-n,A+=n}o.header[o.h_ptr].ptr=A}function fe(o,f){var s=o.internal_flags,A,n,j;if(A=s.l3_side,s.header[s.h_ptr].ptr=0,$e.fill(s.header[s.h_ptr].buf,0,s.sideinfo_len,0),o.out_samplerate<16e3?E(s,4094,12):E(s,4095,12),E(s,o.version,1),E(s,4-3,2),E(s,o.error_protection?0:1,1),E(s,s.bitrate_index,4),E(s,s.samplerate_index,2),E(s,s.padding,1),E(s,o.extension,1),E(s,o.mode.ordinal(),2),E(s,s.mode_ext,2),E(s,o.copyright,1),E(s,o.original,1),E(s,o.emphasis,2),o.error_protection&&E(s,0,16),o.version==1){for(E(s,A.main_data_begin,9),s.channels_out==2?E(s,A.private_bits,3):E(s,A.private_bits,5),j=0;j<s.channels_out;j++){var l;for(l=0;l<4;l++)E(s,A.scfsi[j][l],1)}for(n=0;n<2;n++)for(j=0;j<s.channels_out;j++){var u=A.tt[n][j];E(s,u.part2_3_length+u.part2_length,12),E(s,u.big_values/2,9),E(s,u.global_gain,8),E(s,u.scalefac_compress,4),u.block_type!=t.NORM_TYPE?(E(s,1,1),E(s,u.block_type,2),E(s,u.mixed_block_flag,1),u.table_select[0]==14&&(u.table_select[0]=16),E(s,u.table_select[0],5),u.table_select[1]==14&&(u.table_select[1]=16),E(s,u.table_select[1],5),E(s,u.subblock_gain[0],3),E(s,u.subblock_gain[1],3),E(s,u.subblock_gain[2],3)):(E(s,0,1),u.table_select[0]==14&&(u.table_select[0]=16),E(s,u.table_select[0],5),u.table_select[1]==14&&(u.table_select[1]=16),E(s,u.table_select[1],5),u.table_select[2]==14&&(u.table_select[2]=16),E(s,u.table_select[2],5),E(s,u.region0_count,4),E(s,u.region1_count,3)),E(s,u.preflag,1),E(s,u.scalefac_scale,1),E(s,u.count1table_select,1)}}else for(E(s,A.main_data_begin,8),E(s,A.private_bits,s.channels_out),n=0,j=0;j<s.channels_out;j++){var u=A.tt[n][j];E(s,u.part2_3_length+u.part2_length,12),E(s,u.big_values/2,9),E(s,u.global_gain,8),E(s,u.scalefac_compress,9),u.block_type!=t.NORM_TYPE?(E(s,1,1),E(s,u.block_type,2),E(s,u.mixed_block_flag,1),u.table_select[0]==14&&(u.table_select[0]=16),E(s,u.table_select[0],5),u.table_select[1]==14&&(u.table_select[1]=16),E(s,u.table_select[1],5),E(s,u.subblock_gain[0],3),E(s,u.subblock_gain[1],3),E(s,u.subblock_gain[2],3)):(E(s,0,1),u.table_select[0]==14&&(u.table_select[0]=16),E(s,u.table_select[0],5),u.table_select[1]==14&&(u.table_select[1]=16),E(s,u.table_select[1],5),u.table_select[2]==14&&(u.table_select[2]=16),E(s,u.table_select[2],5),E(s,u.region0_count,4),E(s,u.region1_count,3)),E(s,u.scalefac_scale,1),E(s,u.count1table_select,1)}o.error_protection&&Z();{var v=s.h_ptr;s.h_ptr=v+1&x.MAX_HEADER_BUF-1,s.header[s.h_ptr].write_timing=s.header[v].write_timing+f,s.h_ptr==s.w_ptr}}function B(o,f){var s=V.ht[f.count1table_select+32],A,n=0,j=f.big_values,l=f.big_values;for(A=(f.count1-f.big_values)/4;A>0;--A){var u=0,v=0,p;p=f.l3_enc[j+0],p!=0&&(v+=8,f.xr[l+0]<0&&u++),p=f.l3_enc[j+1],p!=0&&(v+=4,u*=2,f.xr[l+1]<0&&u++),p=f.l3_enc[j+2],p!=0&&(v+=2,u*=2,f.xr[l+2]<0&&u++),p=f.l3_enc[j+3],p!=0&&(v++,u*=2,f.xr[l+3]<0&&u++),j+=4,l+=4,C(o,u+s.table[v],s.hlen[v]),n+=s.hlen[v]}return n}function O(o,f,s,A,n){var j=V.ht[f],l=0;if(f==0)return l;for(var u=s;u<A;u+=2){var v=0,p=0,T=j.xlen,r=j.xlen,a=0,q=n.l3_enc[u],k=n.l3_enc[u+1];if(q!=0&&(n.xr[u]<0&&a++,v--),f>15){if(q>14){var P=q-15;a|=P<<1,p=T,q=15}if(k>14){var le=k-15;a<<=T,a|=le,p+=T,k=15}r=16}k!=0&&(a<<=1,n.xr[u+1]<0&&a++,v--),q=q*r+k,p-=v,v+=j.hlen[q],C(o,j.table[q],v),C(o,a,p),l+=v+p}return l}function e(o,f){var s=3*o.scalefac_band.s[3];s>f.big_values&&(s=f.big_values);var A=O(o,f.table_select[0],0,s,f);return A+=O(o,f.table_select[1],s,f.big_values,f),A}function i(o,f){var s,A,n,j;s=f.big_values;var l=f.region0_count+1;return n=o.scalefac_band.l[l],l+=f.region1_count+1,j=o.scalefac_band.l[l],n>s&&(n=s),j>s&&(j=s),A=O(o,f.table_select[0],0,n,f),A+=O(o,f.table_select[1],n,j,f),A+=O(o,f.table_select[2],j,s,f),A}function d(o){var f,s,A,n,j=0,l=o.internal_flags,u=l.l3_side;if(o.version==1)for(f=0;f<2;f++)for(s=0;s<l.channels_out;s++){var v=u.tt[f][s],p=we.slen1_tab[v.scalefac_compress],T=we.slen2_tab[v.scalefac_compress];for(n=0,A=0;A<v.sfbdivide;A++)v.scalefac[A]!=-1&&(C(l,v.scalefac[A],p),n+=p);for(;A<v.sfbmax;A++)v.scalefac[A]!=-1&&(C(l,v.scalefac[A],T),n+=T);v.block_type==t.SHORT_TYPE?n+=e(l,v):n+=i(l,v),n+=B(l,v),j+=n}else for(f=0,s=0;s<l.channels_out;s++){var v=u.tt[f][s],r,a,q=0;if(n=0,A=0,a=0,v.block_type==t.SHORT_TYPE){for(;a<4;a++){var k=v.sfb_partition_table[a]/3,P=v.slen[a];for(r=0;r<k;r++,A++)C(l,Math.max(v.scalefac[A*3+0],0),P),C(l,Math.max(v.scalefac[A*3+1],0),P),C(l,Math.max(v.scalefac[A*3+2],0),P),q+=3*P}n+=e(l,v)}else{for(;a<4;a++){var k=v.sfb_partition_table[a],P=v.slen[a];for(r=0;r<k;r++,A++)C(l,Math.max(v.scalefac[A],0),P),q+=P}n+=i(l,v)}n+=B(l,v),j+=q+n}return j}function N(){this.total=0}function h(o,f){var s=o.internal_flags,A,n,j;return s.w_ptr,j=s.h_ptr-1,j==-1&&(j=x.MAX_HEADER_BUF-1),A=s.header[j].write_timing-ve,f.total=A,A>=0&&Z(),n=_.getframebits(o),A+=n,f.total+=n,f.total%8!=0?f.total=1+f.total/8:f.total=f.total/8,f.total+=c+1,A}this.flush_bitstream=function(o){var f=o.internal_flags,s,A;f.h_ptr-1,s=f.l3_side,!((A=h(o,new N))<0)&&(Q(o,A),f.ResvSize=0,s.main_data_begin=0,f.findReplayGain&&Z(),f.findPeakSample&&Z())},this.format_bitstream=function(o){var f=o.internal_flags,s;s=f.l3_side;var A=this.getframebits(o);Q(o,s.resvDrain_pre),fe(o,A);var n=8*f.sideinfo_len;if(n+=d(o),Q(o,s.resvDrain_post),n+=s.resvDrain_post,s.main_data_begin+=(A-n)/8,h(o,new N)!=f.ResvSize,s.main_data_begin*8!=f.ResvSize&&(f.ResvSize=s.main_data_begin*8),ve>1e9){var j;for(j=0;j<x.MAX_HEADER_BUF;++j)f.header[j].write_timing-=ve;ve=0}return 0},this.copy_buffer=function(o,f,s,A,n){var j=c+1;if(j<=0)return 0;if(A!=0&&j>A)return-1;if(re.arraycopy(m,0,f,s,j),c=-1,U=0,n!=0){var l=K(1);l[0]=o.nMusicCRC,F.updateMusicCRC(l,f,s,j),o.nMusicCRC=l[0],j>0&&(o.VBR_seek_table.nBytesWritten+=j),o.decode_on_the_fly&&Z()}return j},this.init_bit_stream_w=function(o){m=Se(te.LAME_MAXMP3BUFFER),o.h_ptr=o.w_ptr=0,o.header[o.h_ptr].write_timing=0,c=-1,U=0,ve=0}}function de(_,D,F,m){this.xlen=_,this.linmax=D,this.table=F,this.hlen=m}var V={};V.t1HB=[1,1,1,0],V.t2HB=[1,2,1,3,1,1,3,2,0],V.t3HB=[3,2,1,1,1,1,3,2,0],V.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],V.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],V.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],V.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],V.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],V.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],V.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],V.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],V.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],V.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],V.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],V.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],V.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4],V.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4],V.t1l=[1,4,3,5],V.t2l=[1,4,7,4,5,7,6,7,8],V.t3l=[2,3,7,4,4,7,6,7,8],V.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],V.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],V.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],V.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],V.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],V.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],V.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],V.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],V.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],V.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],V.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],V.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],V.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],V.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4],V.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4],V.ht=[new de(0,0,null,null),new de(2,0,V.t1HB,V.t1l),new de(3,0,V.t2HB,V.t2l),new de(3,0,V.t3HB,V.t3l),new de(0,0,null,null),new de(4,0,V.t5HB,V.t5l),new de(4,0,V.t6HB,V.t6l),new de(6,0,V.t7HB,V.t7l),new de(6,0,V.t8HB,V.t8l),new de(6,0,V.t9HB,V.t9l),new de(8,0,V.t10HB,V.t10l),new de(8,0,V.t11HB,V.t11l),new de(8,0,V.t12HB,V.t12l),new de(16,0,V.t13HB,V.t13l),new de(0,0,null,V.t16_5l),new de(16,0,V.t15HB,V.t15l),new de(1,1,V.t16HB,V.t16l),new de(2,3,V.t16HB,V.t16l),new de(3,7,V.t16HB,V.t16l),new de(4,15,V.t16HB,V.t16l),new de(6,63,V.t16HB,V.t16l),new de(8,255,V.t16HB,V.t16l),new de(10,1023,V.t16HB,V.t16l),new de(13,8191,V.t16HB,V.t16l),new de(4,15,V.t24HB,V.t24l),new de(5,31,V.t24HB,V.t24l),new de(6,63,V.t24HB,V.t24l),new de(7,127,V.t24HB,V.t24l),new de(8,255,V.t24HB,V.t24l),new de(9,511,V.t24HB,V.t24l),new de(11,2047,V.t24HB,V.t24l),new de(13,8191,V.t24HB,V.t24l),new de(0,0,V.t32HB,V.t32l),new de(0,0,V.t33HB,V.t33l)],V.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],V.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],V.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],V.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],V.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],V.scfsi_band=[0,6,11,16,21];function t1(_){this.bits=_}function a1(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function xe(){this.setModules=function(_,D){}}function u1(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Ce(t.SBMAX_l),this.s=Ce(t.SBMAX_s),this.psfb21=Ce(t.PSFB21),this.psfb12=Ce(t.PSFB12),this.cb_l=Ce(t.CBANDS),this.cb_s=Ce(t.CBANDS),this.eql_w=Ce(t.BLKSIZE/2)}function f1(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=ue.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function d1(_){var D=_;this.quantize=D,this.iteration_loop=function(F,m,ve,c){var U=F.internal_flags,se=Ce(H.SFBMAX),C=Ce(576),Q=K(2),E=0,fe=U.l3_side,B=new t1(E);this.quantize.rv.ResvFrameBegin(F,B),E=B.bits;for(var O=0;O<U.mode_gr;O++){this.quantize.qupvt.on_pe(F,m,Q,E,O,O),U.mode_ext==t.MPG_MD_MS_LR&&Z();for(var e=0;e<U.channels_out;e++){var i,d,N=fe.tt[O][e];N.block_type!=t.SHORT_TYPE?(i=0,d=U.PSY.mask_adjust-i):(i=0,d=U.PSY.mask_adjust_short-i),U.masking_lower=Math.pow(10,d*.1),this.quantize.init_outer_loop(U,N),this.quantize.init_xrpow(U,N,C)&&(this.quantize.qupvt.calc_xmin(F,c[O][e],N,se),this.quantize.outer_loop(F,N,se,C,e,Q[e])),this.quantize.iteration_finish_one(U,O,e)}}this.quantize.rv.ResvFrameEnd(U,E)}}function Ie(){}function c1(_,D,F,m){this.l=K(1+t.SBMAX_l),this.s=K(1+t.SBMAX_s),this.psfb21=K(1+t.PSFB21),this.psfb12=K(1+t.PSFB12);var ve=this.l,c=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],re.arraycopy(this.arrL,0,ve,0,Math.min(this.arrL.length,this.l.length)),re.arraycopy(this.arrS,0,c,0,Math.min(this.arrS.length,this.s.length)),re.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),re.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}w.Q_MAX=256+1,w.Q_MAX2=116,w.LARGE_BITS=1e5,w.IXMAX_VAL=8206;function w(){var _=null,D=null,F=null;this.setModules=function(h,o,f){_=h,D=o,F=f};function m(h){return fe[h+w.Q_MAX2]}this.IPOW20=function(h){return B[h]};var ve=2220446049250313e-31,c=w.IXMAX_VAL,U=c+2,se=w.Q_MAX,C=w.Q_MAX2,Q=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var E=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=E,this.sfBandIndex=[new c1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new c1([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var fe=Ce(se+C+1),B=Ce(se),O=Ce(U),e=Ce(U);this.adj43=e;function i(h,o){var f=F.ATHformula(o,h);return f-=Q,f=Math.pow(10,f/10+h.ATHlower),f}function d(h){for(var o=h.internal_flags.ATH.l,f=h.internal_flags.ATH.psfb21,s=h.internal_flags.ATH.s,A=h.internal_flags.ATH.psfb12,n=h.internal_flags,j=h.out_samplerate,l=0;l<t.SBMAX_l;l++){var u=n.scalefac_band.l[l],v=n.scalefac_band.l[l+1];o[l]=Ke.MAX_VALUE;for(var p=u;p<v;p++){var T=p*j/1152,r=i(h,T);o[l]=Math.min(o[l],r)}}for(var l=0;l<t.PSFB21;l++){var u=n.scalefac_band.psfb21[l],v=n.scalefac_band.psfb21[l+1];f[l]=Ke.MAX_VALUE;for(var p=u;p<v;p++){var T=p*j/1152,r=i(h,T);f[l]=Math.min(f[l],r)}}for(var l=0;l<t.SBMAX_s;l++){var u=n.scalefac_band.s[l],v=n.scalefac_band.s[l+1];s[l]=Ke.MAX_VALUE;for(var p=u;p<v;p++){var T=p*j/384,r=i(h,T);s[l]=Math.min(s[l],r)}s[l]*=n.scalefac_band.s[l+1]-n.scalefac_band.s[l]}for(var l=0;l<t.PSFB12;l++){var u=n.scalefac_band.psfb12[l],v=n.scalefac_band.psfb12[l+1];A[l]=Ke.MAX_VALUE;for(var p=u;p<v;p++){var T=p*j/384,r=i(h,T);A[l]=Math.min(A[l],r)}A[l]*=n.scalefac_band.s[13]-n.scalefac_band.s[12]}h.noATH&&Z(),n.ATH.floor=10*Ae(i(h,-1))}this.iteration_init=function(h){var o=h.internal_flags,f=o.l3_side,s;if(o.iteration_init_init==0){for(o.iteration_init_init=1,f.main_data_begin=0,d(h),O[0]=0,s=1;s<U;s++)O[s]=Math.pow(s,4/3);for(s=0;s<U-1;s++)e[s]=s+1-Math.pow(.5*(O[s]+O[s+1]),.75);for(e[s]=.5,s=0;s<se;s++)B[s]=Math.pow(2,(s-210)*-.1875);for(s=0;s<=se+C;s++)fe[s]=Math.pow(2,(s-210-C)*.25);_.huffman_init(o);{var A,n,j,l;for(s=h.exp_nspsytune>>2&63,s>=32&&(s-=64),A=Math.pow(10,s/4/10),s=h.exp_nspsytune>>8&63,s>=32&&(s-=64),n=Math.pow(10,s/4/10),s=h.exp_nspsytune>>14&63,s>=32&&(s-=64),j=Math.pow(10,s/4/10),s=h.exp_nspsytune>>20&63,s>=32&&(s-=64),l=j*Math.pow(10,s/4/10),s=0;s<t.SBMAX_l;s++){var u;s<=6?u=A:s<=13?u=n:s<=20?u=j:u=l,o.nsPsy.longfact[s]=u}for(s=0;s<t.SBMAX_s;s++){var u;s<=5?u=A:s<=10?u=n:s<=11?u=j:u=l,o.nsPsy.shortfact[s]=u}}}},this.on_pe=function(h,o,f,s,A,n){var j=h.internal_flags,l=0,u,v=K(2),p,T=new t1(l),r=D.ResvMaxBits(h,s,T,n);l=T.bits;var a=l+r;for(a>x.MAX_BITS_PER_GRANULE&&(a=x.MAX_BITS_PER_GRANULE),u=0,p=0;p<j.channels_out;++p)f[p]=Math.min(x.MAX_BITS_PER_CHANNEL,l/j.channels_out),v[p]=0|f[p]*o[A][p]/700-f[p],v[p]>s*3/4&&(v[p]=s*3/4),v[p]<0&&(v[p]=0),v[p]+f[p]>x.MAX_BITS_PER_CHANNEL&&(v[p]=Math.max(0,x.MAX_BITS_PER_CHANNEL-f[p])),u+=v[p];if(u>r)for(p=0;p<j.channels_out;++p)v[p]=r*v[p]/u;for(p=0;p<j.channels_out;++p)f[p]+=v[p],r-=v[p];for(u=0,p=0;p<j.channels_out;++p)u+=f[p];return u>x.MAX_BITS_PER_GRANULE&&Z(),a},this.athAdjust=function(h,o,f){var s=90.30873362,A=94.82444863,n=be.FAST_LOG10_X(o,10),j=h*h,l=0;return n-=f,j>1e-20&&(l=1+be.FAST_LOG10_X(j,10/s)),l<0&&(l=0),n*=l,n+=f+s-A,Math.pow(10,.1*n)},this.calc_xmin=function(h,o,f,s){var A=0,n=h.internal_flags,j,l=0,u=0,v=n.ATH,p=f.xr,T=h.VBR==ee.vbr_mtrh?1:0,r=n.masking_lower;for((h.VBR==ee.vbr_mtrh||h.VBR==ee.vbr_mt)&&(r=1),j=0;j<f.psy_lmax;j++){var a,q,k,P,le,he;h.VBR==ee.vbr_rh||h.VBR==ee.vbr_mtrh?q=athAdjust(v.adjust,v.l[j],v.floor):q=v.adjust*v.l[j],le=f.width[j],k=q/le,P=ve,he=le>>1,a=0;do{var me,Fe;me=p[l]*p[l],a+=me,P+=me<k?me:k,l++,Fe=p[l]*p[l],a+=Fe,P+=Fe<k?Fe:k,l++}while(--he>0);if(a>q&&u++,j==t.SBPSY_l&&Z(),T!=0&&(q=P),!h.ATHonly){var Ge=o.en.l[j];if(Ge>0){var Xe;Xe=a*o.thm.l[j]*r/Ge,T!=0&&(Xe*=n.nsPsy.longfact[j]),q<Xe&&(q=Xe)}}T!=0?s[A++]=q:s[A++]=q*n.nsPsy.longfact[j]}var m1=575;if(f.block_type!=t.SHORT_TYPE)for(var S1=576;S1--!=0&&qe.EQ(p[S1],0);)m1=S1;f.max_nonzero_coeff=m1;for(var o1=f.sfb_smin;j<f.psymax;o1++,j+=3){var le,h1,A1;for(h.VBR==ee.vbr_rh||h.VBR==ee.vbr_mtrh?A1=athAdjust(v.adjust,v.s[o1],v.floor):A1=v.adjust*v.s[o1],le=f.width[j],h1=0;h1<3;h1++){var a=0,q,k,P,he=le>>1;k=A1/le,P=ve;do{var me,Fe;me=p[l]*p[l],a+=me,P+=me<k?me:k,l++,Fe=p[l]*p[l],a+=Fe,P+=Fe<k?Fe:k,l++}while(--he>0);if(a>A1&&u++,o1==t.SBPSY_s&&Z(),T!=0?q=P:q=A1,!h.ATHonly&&!h.ATHshort){var Ge=o.en.s[o1][h1];if(Ge>0){var Xe;Xe=a*o.thm.s[o1][h1]*r/Ge,T!=0&&(Xe*=n.nsPsy.shortfact[o1]),q<Xe&&(q=Xe)}}T!=0?s[A++]=q:s[A++]=q*n.nsPsy.shortfact[o1]}h.useTemporal&&(s[A-3]>s[A-3+1]&&(s[A-3+1]+=(s[A-3]-s[A-3+1])*n.decay),s[A-3+1]>s[A-3+2]&&(s[A-3+2]+=(s[A-3+1]-s[A-3+2])*n.decay))}return u};function N(h){this.s=h}this.calc_noise_core=function(h,o,f,s){var A=0,n=o.s,j=h.l3_enc;if(n>h.count1)for(;f--!=0;){var l;l=h.xr[n],n++,A+=l*l,l=h.xr[n],n++,A+=l*l}else if(n>h.big_values){var u=Ce(2);for(u[0]=0,u[1]=s;f--!=0;){var l;l=Math.abs(h.xr[n])-u[j[n]],n++,A+=l*l,l=Math.abs(h.xr[n])-u[j[n]],n++,A+=l*l}}else for(;f--!=0;){var l;l=Math.abs(h.xr[n])-O[j[n]]*s,n++,A+=l*l,l=Math.abs(h.xr[n])-O[j[n]]*s,n++,A+=l*l}return o.s=n,A},this.calc_noise=function(h,o,f,s,A){var n=0,j=0,l,u,v=0,p=0,T=0,r=-20,a=0,q=h.scalefac,k=0;for(s.over_SSD=0,l=0;l<h.psymax;l++){var P=h.global_gain-(q[k++]+(h.preflag!=0?E[l]:0)<<h.scalefac_scale+1)-h.subblock_gain[h.window[l]]*8,le=0;if(A!=null&&A.step[l]==P)le=A.noise[l],a+=h.width[l],f[n++]=le/o[j++],le=A.noise_log[l];else{var he=m(P);if(u=h.width[l]>>1,a+h.width[l]>h.max_nonzero_coeff){var me;me=h.max_nonzero_coeff-a+1,me>0?u=me>>1:u=0}var Fe=new N(a);le=this.calc_noise_core(h,Fe,u,he),a=Fe.s,A!=null&&(A.step[l]=P,A.noise[l]=le),le=f[n++]=le/o[j++],le=be.FAST_LOG10(Math.max(le,1e-20)),A!=null&&(A.noise_log[l]=le)}if(A!=null&&(A.global_gain=h.global_gain),T+=le,le>0){var Ge;Ge=Math.max(0|le*10+.5,1),s.over_SSD+=Ge*Ge,v++,p+=le}r=Math.max(r,le)}return s.over_count=v,s.tot_noise=T,s.over_noise=p,s.max_noise=r,v}}function L(){this.global_gain=0,this.sfb_count1=0,this.step=K(39),this.noise=Ce(39),this.noise_log=Ce(39)}function R(){this.xr=Ce(576),this.l3_enc=K(576),this.scalefac=K(H.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=K(3),this.subblock_gain=K(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=K(H.SFBMAX),this.window=K(H.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=K(4),this.max_nonzero_coeff=0;var _=this;function D(m){return new Int32Array(m)}function F(m){return new Float32Array(m)}this.assign=function(m){_.xr=F(m.xr),_.l3_enc=D(m.l3_enc),_.scalefac=D(m.scalefac),_.xrpow_max=m.xrpow_max,_.part2_3_length=m.part2_3_length,_.big_values=m.big_values,_.count1=m.count1,_.global_gain=m.global_gain,_.scalefac_compress=m.scalefac_compress,_.block_type=m.block_type,_.mixed_block_flag=m.mixed_block_flag,_.table_select=D(m.table_select),_.subblock_gain=D(m.subblock_gain),_.region0_count=m.region0_count,_.region1_count=m.region1_count,_.preflag=m.preflag,_.scalefac_scale=m.scalefac_scale,_.count1table_select=m.count1table_select,_.part2_length=m.part2_length,_.sfb_lmax=m.sfb_lmax,_.sfb_smin=m.sfb_smin,_.psy_lmax=m.psy_lmax,_.sfbmax=m.sfbmax,_.psymax=m.psymax,_.sfbdivide=m.sfbdivide,_.width=D(m.width),_.window=D(m.window),_.count1bits=m.count1bits,_.sfb_partition_table=m.sfb_partition_table.slice(0),_.slen=D(m.slen),_.max_nonzero_coeff=m.max_nonzero_coeff}}var H={};H.SFBMAX=t.SBMAX_s*3;function _e(){this.rv=null;var _;this.qupvt=null;var D,F=new xe,m;this.setModules=function(e,i,d,N){_=i,this.rv=i,D=d,this.qupvt=d,m=N,F.setModules(D,m)};function ve(e,i,d,N){N=0;for(var h=0;h<=d;++h){var o=Math.abs(e.xr[h]);N+=o,i[h]=Math.sqrt(o*Math.sqrt(o)),i[h]>e.xrpow_max&&(e.xrpow_max=i[h])}return N}this.init_xrpow=function(e,i,d){var N=0,h=0|i.max_nonzero_coeff;if(i.xrpow_max=0,$e.fill(d,h,576,0),N=ve(i,d,h,N),N>1e-20){var o=0;e.substep_shaping&2&&(o=1);for(var f=0;f<i.psymax;f++)e.pseudohalf[f]=o;return!0}return $e.fill(i.l3_enc,0,576,0),!1};function c(e,i){var d=e.ATH,N=i.xr;if(i.block_type!=t.SHORT_TYPE)for(var h=!1,o=t.PSFB21-1;o>=0&&!h;o--){var f=e.scalefac_band.psfb21[o],s=e.scalefac_band.psfb21[o+1],A=D.athAdjust(d.adjust,d.psfb21[o],d.floor);e.nsPsy.longfact[21]>1e-12&&(A*=e.nsPsy.longfact[21]);for(var n=s-1;n>=f;n--)if(Math.abs(N[n])<A)N[n]=0;else{h=!0;break}}else for(var j=0;j<3;j++)for(var h=!1,o=t.PSFB12-1;o>=0&&!h;o--){var f=e.scalefac_band.s[12]*3+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*j+(e.scalefac_band.psfb12[o]-e.scalefac_band.psfb12[0]),s=f+(e.scalefac_band.psfb12[o+1]-e.scalefac_band.psfb12[o]),l=D.athAdjust(d.adjust,d.psfb12[o],d.floor);e.nsPsy.shortfact[12]>1e-12&&(l*=e.nsPsy.shortfact[12]);for(var n=s-1;n>=f;n--)if(Math.abs(N[n])<l)N[n]=0;else{h=!0;break}}}this.init_outer_loop=function(e,i){i.part2_3_length=0,i.big_values=0,i.count1=0,i.global_gain=210,i.scalefac_compress=0,i.table_select[0]=0,i.table_select[1]=0,i.table_select[2]=0,i.subblock_gain[0]=0,i.subblock_gain[1]=0,i.subblock_gain[2]=0,i.subblock_gain[3]=0,i.region0_count=0,i.region1_count=0,i.preflag=0,i.scalefac_scale=0,i.count1table_select=0,i.part2_length=0,i.sfb_lmax=t.SBPSY_l,i.sfb_smin=t.SBPSY_s,i.psy_lmax=e.sfb21_extra?t.SBMAX_l:t.SBPSY_l,i.psymax=i.psy_lmax,i.sfbmax=i.sfb_lmax,i.sfbdivide=11;for(var d=0;d<t.SBMAX_l;d++)i.width[d]=e.scalefac_band.l[d+1]-e.scalefac_band.l[d],i.window[d]=3;if(i.block_type==t.SHORT_TYPE){var N=Ce(576);i.sfb_smin=0,i.sfb_lmax=0,i.mixed_block_flag!=0&&Z(),i.psymax=i.sfb_lmax+3*((e.sfb21_extra?t.SBMAX_s:t.SBPSY_s)-i.sfb_smin),i.sfbmax=i.sfb_lmax+3*(t.SBPSY_s-i.sfb_smin),i.sfbdivide=i.sfbmax-18,i.psy_lmax=i.sfb_lmax;var h=e.scalefac_band.l[i.sfb_lmax];re.arraycopy(i.xr,0,N,0,576);for(var d=i.sfb_smin;d<t.SBMAX_s;d++)for(var o=e.scalefac_band.s[d],f=e.scalefac_band.s[d+1],s=0;s<3;s++)for(var A=o;A<f;A++)i.xr[h++]=N[3*A+s];for(var n=i.sfb_lmax,d=i.sfb_smin;d<t.SBMAX_s;d++)i.width[n]=i.width[n+1]=i.width[n+2]=e.scalefac_band.s[d+1]-e.scalefac_band.s[d],i.window[n]=0,i.window[n+1]=1,i.window[n+2]=2,n+=3}i.count1bits=0,i.sfb_partition_table=D.nr_of_sfb_block[0][0],i.slen[0]=0,i.slen[1]=0,i.slen[2]=0,i.slen[3]=0,i.max_nonzero_coeff=575,$e.fill(i.scalefac,0),c(e,i)};function U(e){this.ordinal=e}U.BINSEARCH_NONE=new U(0),U.BINSEARCH_UP=new U(1),U.BINSEARCH_DOWN=new U(2);function se(e,i,d,N,h){var o,f=e.CurrentStep[N],s=!1,A=e.OldValue[N],n=U.BINSEARCH_NONE;for(i.global_gain=A,d-=i.part2_length;;){var j;if(o=m.count_bits(e,h,i,null),f==1||o==d)break;o>d?(n==U.BINSEARCH_DOWN&&(s=!0),s&&(f/=2),n=U.BINSEARCH_UP,j=f):(n==U.BINSEARCH_UP&&(s=!0),s&&(f/=2),n=U.BINSEARCH_DOWN,j=-f),i.global_gain+=j,i.global_gain<0&&Z(),i.global_gain>255&&Z()}for(;o>d&&i.global_gain<255;)i.global_gain++,o=m.count_bits(e,h,i,null);return e.CurrentStep[N]=A-i.global_gain>=4?4:2,e.OldValue[N]=i.global_gain,i.part2_3_length=o,o}function C(e){for(var i=0;i<e.sfbmax;i++)if(e.scalefac[i]+e.subblock_gain[e.window[i]]==0)return!1;return!0}function Q(e,i,d,N,h){var o;switch(e){default:case 9:{i.over_count>0?(o=d.over_SSD<=i.over_SSD,d.over_SSD==i.over_SSD&&(o=d.bits<i.bits)):o=d.max_noise<0&&d.max_noise*10+d.bits<=i.max_noise*10+i.bits;break}case 0:o=d.over_count<i.over_count||d.over_count==i.over_count&&d.over_noise<i.over_noise||d.over_count==i.over_count&&qe.EQ(d.over_noise,i.over_noise)&&d.tot_noise<i.tot_noise;break;case 8:Z();case 1:o=d.max_noise<i.max_noise;break;case 2:o=d.tot_noise<i.tot_noise;break;case 3:o=d.tot_noise<i.tot_noise&&d.max_noise<i.max_noise;break;case 4:o=d.max_noise<=0&&i.max_noise>.2||d.max_noise<=0&&i.max_noise<0&&i.max_noise>d.max_noise-.2&&d.tot_noise<i.tot_noise||d.max_noise<=0&&i.max_noise>0&&i.max_noise>d.max_noise-.2&&d.tot_noise<i.tot_noise+i.over_noise||d.max_noise>0&&i.max_noise>-.05&&i.max_noise>d.max_noise-.1&&d.tot_noise+d.over_noise<i.tot_noise+i.over_noise||d.max_noise>0&&i.max_noise>-.1&&i.max_noise>d.max_noise-.15&&d.tot_noise+d.over_noise+d.over_noise<i.tot_noise+i.over_noise+i.over_noise;break;case 5:o=d.over_noise<i.over_noise||qe.EQ(d.over_noise,i.over_noise)&&d.tot_noise<i.tot_noise;break;case 6:o=d.over_noise<i.over_noise||qe.EQ(d.over_noise,i.over_noise)&&(d.max_noise<i.max_noise||qe.EQ(d.max_noise,i.max_noise)&&d.tot_noise<=i.tot_noise);break;case 7:o=d.over_count<i.over_count||d.over_noise<i.over_noise;break}return i.over_count==0&&(o=o&&d.bits<i.bits),o}function E(e,i,d,N,h){var o=e.internal_flags,f;i.scalefac_scale==0?f=1.2968395546510096:f=1.6817928305074292;for(var s=0,A=0;A<i.sfbmax;A++)s<d[A]&&(s=d[A]);var n=o.noise_shaping_amp;switch(n==3&&Z(),n){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;case 0:default:s>1?s=1:s*=.95;break}for(var j=0,A=0;A<i.sfbmax;A++){var l=i.width[A],u;if(j+=l,!(d[A]<s)){for(o.substep_shaping&2&&Z(),i.scalefac[A]++,u=-l;u<0;u++)N[j+u]*=f,N[j+u]>i.xrpow_max&&(i.xrpow_max=N[j+u]);if(o.noise_shaping_amp==2)return}}}function fe(e,i){for(var d=1.2968395546510096,N=0,h=0;h<e.sfbmax;h++){var o=e.width[h],f=e.scalefac[h];if(e.preflag!=0&&(f+=D.pretab[h]),N+=o,f&1){f++;for(var s=-o;s<0;s++)i[N+s]*=d,i[N+s]>e.xrpow_max&&(e.xrpow_max=i[N+s])}e.scalefac[h]=f>>1}e.preflag=0,e.scalefac_scale=1}function B(e,i,d){var N,h=i.scalefac;for(N=0;N<i.sfb_lmax;N++)if(h[N]>=16)return!0;for(var o=0;o<3;o++){var f=0,s=0;for(N=i.sfb_lmax+o;N<i.sfbdivide;N+=3)f<h[N]&&(f=h[N]);for(;N<i.sfbmax;N+=3)s<h[N]&&(s=h[N]);if(!(f<16&&s<8)){if(i.subblock_gain[o]>=7)return!0;i.subblock_gain[o]++;var A=e.scalefac_band.l[i.sfb_lmax];for(N=i.sfb_lmax+o;N<i.sfbmax;N+=3){var n,j=i.width[N],l=h[N];if(l=l-(4>>i.scalefac_scale),l>=0){h[N]=l,A+=j*3;continue}h[N]=0;{var u=210+(l<<i.scalefac_scale+1);n=D.IPOW20(u)}A+=j*(o+1);for(var v=-j;v<0;v++)d[A+v]*=n,d[A+v]>i.xrpow_max&&(i.xrpow_max=d[A+v]);A+=j*(3-o-1)}{var n=D.IPOW20(202);A+=i.width[N]*(o+1);for(var v=-i.width[N];v<0;v++)d[A+v]*=n,d[A+v]>i.xrpow_max&&(i.xrpow_max=d[A+v])}}}return!1}function O(e,i,d,N,h){var o=e.internal_flags;E(e,i,d,N);var f=C(i);return f?!1:(o.mode_gr==2?f=m.scale_bitcount(i):f=m.scale_bitcount_lsf(o,i),f?(o.noise_shaping>1&&($e.fill(o.pseudohalf,0),i.scalefac_scale==0?(fe(i,N),f=!1):i.block_type==t.SHORT_TYPE&&o.subblock_gain>0&&(f=B(o,i,N)||C(i))),f||(o.mode_gr==2?f=m.scale_bitcount(i):f=m.scale_bitcount_lsf(o,i)),!f):!0)}this.outer_loop=function(e,i,d,N,h,o){var f=e.internal_flags,s=new R,A=Ce(576),n=Ce(H.SFBMAX),j=new a1,l,u=new L,v=9999999,p=!1,T=!1,r=0;if(se(f,i,o,h,N),f.noise_shaping==0)return 100;D.calc_noise(i,d,n,j,u),j.bits=i.part2_3_length,s.assign(i);var a=0;for(re.arraycopy(N,0,A,0,576);!p;){do{var q=new a1,k,P=255;if(f.substep_shaping&2?k=20:k=3,f.sfb21_extra&&Z(),!O(e,s,n,N))break;s.scalefac_scale!=0&&(P=254);var le=o-s.part2_length;if(le<=0)break;for(;(s.part2_3_length=m.count_bits(f,N,s,u))>le&&s.global_gain<=P;)s.global_gain++;if(s.global_gain>P)break;if(j.over_count==0){for(;(s.part2_3_length=m.count_bits(f,N,s,u))>v&&s.global_gain<=P;)s.global_gain++;if(s.global_gain>P)break}if(D.calc_noise(s,d,n,q,u),q.bits=s.part2_3_length,i.block_type!=t.SHORT_TYPE?l=e.quant_comp:l=e.quant_comp_short,l=Q(l,j,q)?1:0,l!=0)v=i.part2_3_length,j=q,i.assign(s),a=0,re.arraycopy(N,0,A,0,576);else if(f.full_outer_loop==0&&(++a>k&&j.over_count==0||f.noise_shaping_amp==3&&T&&a>30||f.noise_shaping_amp==3&&T&&s.global_gain-r>15))break}while(s.global_gain+s.scalefac_scale<255);f.noise_shaping_amp==3?Z():p=!0}return e.VBR==ee.vbr_rh||e.VBR==ee.vbr_mtrh?re.arraycopy(A,0,N,0,576):f.substep_shaping&1&&Z(),j.over_count},this.iteration_finish_one=function(e,i,d){var N=e.l3_side,h=N.tt[i][d];m.best_scalefac_store(e,i,d,N),e.use_best_huffman==1&&m.best_huffman_divide(e,h),_.ResvAdjust(e,h)}}function pe(){var _=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*be.SQRT2*.5/2384e-9,.017876148*be.SQRT2*.5/2384e-9,.003134727*be.SQRT2*.5/2384e-9,.002457142*be.SQRT2*.5/2384e-9,971317e-9*be.SQRT2*.5/2384e-9,218868e-9*be.SQRT2*.5/2384e-9,101566e-9*be.SQRT2*.5/2384e-9,13828e-9*be.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],D=12,F=36,m=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],ve=m[t.SHORT_TYPE],c=m[t.SHORT_TYPE],U=m[t.SHORT_TYPE],se=m[t.SHORT_TYPE],C=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function Q(B,O,e){for(var i=10,d=O+238-14-286,N=-15;N<0;N++){var h,o,f;h=_[i+-10],o=B[d+-224]*h,f=B[O+224]*h,h=_[i+-9],o+=B[d+-160]*h,f+=B[O+160]*h,h=_[i+-8],o+=B[d+-96]*h,f+=B[O+96]*h,h=_[i+-7],o+=B[d+-32]*h,f+=B[O+32]*h,h=_[i+-6],o+=B[d+32]*h,f+=B[O+-32]*h,h=_[i+-5],o+=B[d+96]*h,f+=B[O+-96]*h,h=_[i+-4],o+=B[d+160]*h,f+=B[O+-160]*h,h=_[i+-3],o+=B[d+224]*h,f+=B[O+-224]*h,h=_[i+-2],o+=B[O+-256]*h,f-=B[d+256]*h,h=_[i+-1],o+=B[O+-192]*h,f-=B[d+192]*h,h=_[i+0],o+=B[O+-128]*h,f-=B[d+128]*h,h=_[i+1],o+=B[O+-64]*h,f-=B[d+64]*h,h=_[i+2],o+=B[O+0]*h,f-=B[d+0]*h,h=_[i+3],o+=B[O+64]*h,f-=B[d+-64]*h,h=_[i+4],o+=B[O+128]*h,f-=B[d+-128]*h,h=_[i+5],o+=B[O+192]*h,f-=B[d+-192]*h,o*=_[i+6],h=f-o,e[30+N*2]=f+o,e[31+N*2]=_[i+7]*h,i+=18,O--,d++}{var o,f,s,A;f=B[O+-16]*_[i+-10],o=B[O+-32]*_[i+-2],f+=(B[O+-48]-B[O+16])*_[i+-9],o+=B[O+-96]*_[i+-1],f+=(B[O+-80]+B[O+48])*_[i+-8],o+=B[O+-160]*_[i+0],f+=(B[O+-112]-B[O+80])*_[i+-7],o+=B[O+-224]*_[i+1],f+=(B[O+-144]+B[O+112])*_[i+-6],o-=B[O+32]*_[i+2],f+=(B[O+-176]-B[O+144])*_[i+-5],o-=B[O+96]*_[i+3],f+=(B[O+-208]+B[O+176])*_[i+-4],o-=B[O+160]*_[i+4],f+=(B[O+-240]-B[O+208])*_[i+-3],o-=B[O+224],s=o-f,A=o+f,f=e[14],o=e[15]-f,e[31]=A+f,e[30]=s+o,e[15]=s-o,e[14]=A-f}{var n;n=e[28]-e[0],e[0]+=e[28],e[28]=n*_[i+-2*18+7],n=e[29]-e[1],e[1]+=e[29],e[29]=n*_[i+-2*18+7],n=e[26]-e[2],e[2]+=e[26],e[26]=n*_[i+-4*18+7],n=e[27]-e[3],e[3]+=e[27],e[27]=n*_[i+-4*18+7],n=e[24]-e[4],e[4]+=e[24],e[24]=n*_[i+-6*18+7],n=e[25]-e[5],e[5]+=e[25],e[25]=n*_[i+-6*18+7],n=e[22]-e[6],e[6]+=e[22],e[22]=n*be.SQRT2,n=e[23]-e[7],e[7]+=e[23],e[23]=n*be.SQRT2-e[7],e[7]-=e[6],e[22]-=e[7],e[23]-=e[22],n=e[6],e[6]=e[31]-n,e[31]=e[31]+n,n=e[7],e[7]=e[30]-n,e[30]=e[30]+n,n=e[22],e[22]=e[15]-n,e[15]=e[15]+n,n=e[23],e[23]=e[14]-n,e[14]=e[14]+n,n=e[20]-e[8],e[8]+=e[20],e[20]=n*_[i+-10*18+7],n=e[21]-e[9],e[9]+=e[21],e[21]=n*_[i+-10*18+7],n=e[18]-e[10],e[10]+=e[18],e[18]=n*_[i+-12*18+7],n=e[19]-e[11],e[11]+=e[19],e[19]=n*_[i+-12*18+7],n=e[16]-e[12],e[12]+=e[16],e[16]=n*_[i+-14*18+7],n=e[17]-e[13],e[13]+=e[17],e[17]=n*_[i+-14*18+7],n=-e[20]+e[24],e[20]+=e[24],e[24]=n*_[i+-12*18+7],n=-e[21]+e[25],e[21]+=e[25],e[25]=n*_[i+-12*18+7],n=e[4]-e[8],e[4]+=e[8],e[8]=n*_[i+-12*18+7],n=e[5]-e[9],e[5]+=e[9],e[9]=n*_[i+-12*18+7],n=e[0]-e[12],e[0]+=e[12],e[12]=n*_[i+-4*18+7],n=e[1]-e[13],e[1]+=e[13],e[13]=n*_[i+-4*18+7],n=e[16]-e[28],e[16]+=e[28],e[28]=n*_[i+-4*18+7],n=-e[17]+e[29],e[17]+=e[29],e[29]=n*_[i+-4*18+7],n=be.SQRT2*(e[2]-e[10]),e[2]+=e[10],e[10]=n,n=be.SQRT2*(e[3]-e[11]),e[3]+=e[11],e[11]=n,n=be.SQRT2*(-e[18]+e[26]),e[18]+=e[26],e[26]=n-e[18],n=be.SQRT2*(-e[19]+e[27]),e[19]+=e[27],e[27]=n-e[19],n=e[2],e[19]-=e[3],e[3]-=n,e[2]=e[31]-n,e[31]+=n,n=e[3],e[11]-=e[19],e[18]-=n,e[3]=e[30]-n,e[30]+=n,n=e[18],e[27]-=e[11],e[19]-=n,e[18]=e[15]-n,e[15]+=n,n=e[19],e[10]-=n,e[19]=e[14]-n,e[14]+=n,n=e[10],e[11]-=n,e[10]=e[23]-n,e[23]+=n,n=e[11],e[26]-=n,e[11]=e[22]-n,e[22]+=n,n=e[26],e[27]-=n,e[26]=e[7]-n,e[7]+=n,n=e[27],e[27]=e[6]-n,e[6]+=n,n=be.SQRT2*(e[0]-e[4]),e[0]+=e[4],e[4]=n,n=be.SQRT2*(e[1]-e[5]),e[1]+=e[5],e[5]=n,n=be.SQRT2*(e[16]-e[20]),e[16]+=e[20],e[20]=n,n=be.SQRT2*(e[17]-e[21]),e[17]+=e[21],e[21]=n,n=-be.SQRT2*(e[8]-e[12]),e[8]+=e[12],e[12]=n-e[8],n=-be.SQRT2*(e[9]-e[13]),e[9]+=e[13],e[13]=n-e[9],n=-be.SQRT2*(e[25]-e[29]),e[25]+=e[29],e[29]=n-e[25],n=-be.SQRT2*(e[24]+e[28]),e[24]-=e[28],e[28]=n-e[24],n=e[24]-e[16],e[24]=n,n=e[20]-n,e[20]=n,n=e[28]-n,e[28]=n,n=e[25]-e[17],e[25]=n,n=e[21]-n,e[21]=n,n=e[29]-n,e[29]=n,n=e[17]-e[1],e[17]=n,n=e[9]-n,e[9]=n,n=e[25]-n,e[25]=n,n=e[5]-n,e[5]=n,n=e[21]-n,e[21]=n,n=e[13]-n,e[13]=n,n=e[29]-n,e[29]=n,n=e[1]-e[0],e[1]=n,n=e[16]-n,e[16]=n,n=e[17]-n,e[17]=n,n=e[8]-n,e[8]=n,n=e[9]-n,e[9]=n,n=e[24]-n,e[24]=n,n=e[25]-n,e[25]=n,n=e[4]-n,e[4]=n,n=e[5]-n,e[5]=n,n=e[20]-n,e[20]=n,n=e[21]-n,e[21]=n,n=e[12]-n,e[12]=n,n=e[13]-n,e[13]=n,n=e[28]-n,e[28]=n,n=e[29]-n,e[29]=n,n=e[0],e[0]+=e[31],e[31]-=n,n=e[1],e[1]+=e[30],e[30]-=n,n=e[16],e[16]+=e[15],e[15]-=n,n=e[17],e[17]+=e[14],e[14]-=n,n=e[8],e[8]+=e[23],e[23]-=n,n=e[9],e[9]+=e[22],e[22]-=n,n=e[24],e[24]+=e[7],e[7]-=n,n=e[25],e[25]+=e[6],e[6]-=n,n=e[4],e[4]+=e[27],e[27]-=n,n=e[5],e[5]+=e[26],e[26]-=n,n=e[20],e[20]+=e[11],e[11]-=n,n=e[21],e[21]+=e[10],e[10]-=n,n=e[12],e[12]+=e[19],e[19]-=n,n=e[13],e[13]+=e[18],e[18]-=n,n=e[28],e[28]+=e[3],e[3]-=n,n=e[29],e[29]+=e[2],e[2]-=n}}function E(B,O){for(var e=0;e<3;e++){var i,d,N,h,o,f;h=B[O+2*3]*m[t.SHORT_TYPE][0]-B[O+5*3],i=B[O+0*3]*m[t.SHORT_TYPE][2]-B[O+3*3],d=h+i,N=h-i,h=B[O+5*3]*m[t.SHORT_TYPE][0]+B[O+2*3],i=B[O+3*3]*m[t.SHORT_TYPE][2]+B[O+0*3],o=h+i,f=-h+i,i=(B[O+1*3]*m[t.SHORT_TYPE][1]-B[O+4*3])*2069978111953089e-26,h=(B[O+4*3]*m[t.SHORT_TYPE][1]+B[O+1*3])*2069978111953089e-26,B[O+3*0]=d*190752519173728e-25+i,B[O+3*5]=-o*190752519173728e-25+h,N=N*.8660254037844387*1907525191737281e-26,o=o*.5*1907525191737281e-26+h,B[O+3*1]=N-o,B[O+3*2]=N+o,d=d*.5*1907525191737281e-26-i,f=f*.8660254037844387*1907525191737281e-26,B[O+3*3]=d+f,B[O+3*4]=d-f,O++}}function fe(B,O,e){var i,d;{var N,h,o,f,s,A,n,j;N=e[17]-e[9],o=e[15]-e[11],f=e[14]-e[12],s=e[0]+e[8],A=e[1]+e[7],n=e[2]+e[6],j=e[3]+e[5],B[O+17]=s+n-j-(A-e[4]),d=(s+n-j)*c[12+7]+(A-e[4]),i=(N-o-f)*c[12+6],B[O+5]=i+d,B[O+6]=i-d,h=(e[16]-e[10])*c[12+6],A=A*c[12+7]+e[4],i=N*c[12+0]+h+o*c[12+1]+f*c[12+2],d=-s*c[12+4]+A-n*c[12+5]+j*c[12+3],B[O+1]=i+d,B[O+2]=i-d,i=N*c[12+1]-h-o*c[12+2]+f*c[12+0],d=-s*c[12+5]+A-n*c[12+3]+j*c[12+4],B[O+9]=i+d,B[O+10]=i-d,i=N*c[12+2]-h+o*c[12+0]-f*c[12+1],d=s*c[12+3]-A+n*c[12+4]-j*c[12+5],B[O+13]=i+d,B[O+14]=i-d}{var l,u,v,p,T,r,a,q;l=e[8]-e[0],v=e[6]-e[2],p=e[5]-e[3],T=e[17]+e[9],r=e[16]+e[10],a=e[15]+e[11],q=e[14]+e[12],B[O+0]=T+a+q+(r+e[13]),i=(T+a+q)*c[12+7]-(r+e[13]),d=(l-v+p)*c[12+6],B[O+11]=i+d,B[O+12]=i-d,u=(e[7]-e[1])*c[12+6],r=e[13]-r*c[12+7],i=T*c[12+3]-r+a*c[12+4]+q*c[12+5],d=l*c[12+2]+u+v*c[12+0]+p*c[12+1],B[O+3]=i+d,B[O+4]=i-d,i=-T*c[12+5]+r-a*c[12+3]-q*c[12+4],d=l*c[12+1]+u-v*c[12+2]-p*c[12+0],B[O+7]=i+d,B[O+8]=i-d,i=-T*c[12+4]+r-a*c[12+5]-q*c[12+3],d=l*c[12+0]-u+v*c[12+1]-p*c[12+2],B[O+15]=i+d,B[O+16]=i-d}}this.mdct_sub48=function(B,O,e){for(var i=O,d=286,N=0;N<B.channels_out;N++){for(var h=0;h<B.mode_gr;h++){for(var o,f=B.l3_side.tt[h][N],s=f.xr,A=0,n=B.sb_sample[N][1-h],j=0,l=0;l<18/2;l++)for(Q(i,d,n[j]),Q(i,d+32,n[j+1]),j+=2,d+=64,o=1;o<32;o+=2)n[j-1][o]*=-1;for(o=0;o<32;o++,A+=18){var u=f.block_type,v=B.sb_sample[N][h],p=B.sb_sample[N][1-h];if(f.mixed_block_flag!=0&&o<2&&(u=0),B.amp_filter[o]<1e-12)$e.fill(s,A+0,A+18,0);else if(B.amp_filter[o]<1&&Z(),u==t.SHORT_TYPE){for(var l=-D/4;l<0;l++){var T=m[t.SHORT_TYPE][l+3];s[A+l*3+9]=v[9+l][C[o]]*T-v[8-l][C[o]],s[A+l*3+18]=v[14-l][C[o]]*T+v[15+l][C[o]],s[A+l*3+10]=v[15+l][C[o]]*T-v[14-l][C[o]],s[A+l*3+19]=p[2-l][C[o]]*T+p[3+l][C[o]],s[A+l*3+11]=p[3+l][C[o]]*T-p[2-l][C[o]],s[A+l*3+20]=p[8-l][C[o]]*T+p[9+l][C[o]]}E(s,A)}else{for(var r=Ce(18),l=-F/4;l<0;l++){var a,q;a=m[u][l+27]*p[l+9][C[o]]+m[u][l+36]*p[8-l][C[o]],q=m[u][l+9]*v[l+9][C[o]]-m[u][l+18]*v[8-l][C[o]],r[l+9]=a-q*ve[3+l+9],r[l+18]=a*ve[3+l+9]+q}fe(s,A,r)}if(u!=t.SHORT_TYPE&&o!=0)for(var l=7;l>=0;--l){var k,P;k=s[A+l]*U[20+l]+s[A+-1-l]*se[28+l],P=s[A+l]*se[28+l]-s[A+-1-l]*U[20+l],s[A+-1-l]=k,s[A+l]=P}}}if(i=e,d=286,B.mode_gr==1)for(var le=0;le<18;le++)re.arraycopy(B.sb_sample[N][1][le],0,B.sb_sample[N][0][le],0,32)}}}function b(){this.thm=new M,this.en=new M}t.ENCDELAY=576,t.POSTDELAY=1152,t.MDCTDELAY=48,t.FFTOFFSET=224+t.MDCTDELAY,t.DECDELAY=528,t.SBLIMIT=32,t.CBANDS=64,t.SBPSY_l=21,t.SBPSY_s=12,t.SBMAX_l=22,t.SBMAX_s=13,t.PSFB21=6,t.PSFB12=6,t.BLKSIZE=1024,t.HBLKSIZE=t.BLKSIZE/2+1,t.BLKSIZE_s=256,t.HBLKSIZE_s=t.BLKSIZE_s/2+1,t.NORM_TYPE=0,t.START_TYPE=1,t.SHORT_TYPE=2,t.STOP_TYPE=3,t.MPG_MD_LR_LR=0,t.MPG_MD_LR_I=1,t.MPG_MD_MS_LR=2,t.MPG_MD_MS_I=3,t.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function t(){var _=t.MPG_MD_MS_LR,D=null;this.psy=null;var F=null,m=null;this.setModules=function(C,Q,E,fe){D=C,this.psy=Q,F=Q,m=fe};var ve=new pe;function c(C){var Q,E;if(C.ATH.useAdjust==0){C.ATH.adjust=1;return}if(E=C.loudness_sq[0][0],Q=C.loudness_sq[1][0],C.channels_out==2?Z():(E+=E,Q+=Q),C.mode_gr==2&&(E=Math.max(E,Q)),E*=.5,E*=C.ATH.aaSensitivityP,E>.03125)C.ATH.adjust>=1?C.ATH.adjust=1:C.ATH.adjust<C.ATH.adjustLimit&&(C.ATH.adjust=C.ATH.adjustLimit),C.ATH.adjustLimit=1;else{var fe=31.98*E+625e-6;C.ATH.adjust>=fe?(C.ATH.adjust*=fe*.075+.925,C.ATH.adjust<fe&&(C.ATH.adjust=fe)):C.ATH.adjustLimit>=fe?C.ATH.adjust=fe:C.ATH.adjust<C.ATH.adjustLimit&&(C.ATH.adjust=C.ATH.adjustLimit),C.ATH.adjustLimit=fe}}function U(C){var Q,E;for(C.bitrate_stereoMode_Hist[C.bitrate_index][4]++,C.bitrate_stereoMode_Hist[15][4]++,C.channels_out==2&&Z(),Q=0;Q<C.mode_gr;++Q)for(E=0;E<C.channels_out;++E){var fe=C.l3_side.tt[Q][E].block_type|0;C.l3_side.tt[Q][E].mixed_block_flag!=0&&(fe=4),C.bitrate_blockType_Hist[C.bitrate_index][fe]++,C.bitrate_blockType_Hist[C.bitrate_index][5]++,C.bitrate_blockType_Hist[15][fe]++,C.bitrate_blockType_Hist[15][5]++}}function se(C,Q){var E=C.internal_flags,fe,B;if(E.lame_encode_frame_init==0){var O,e,i=Ce(2014),d=Ce(286+1152+576);for(E.lame_encode_frame_init=1,O=0,e=0;O<286+576*(1+E.mode_gr);++O)O<576*E.mode_gr?(i[O]=0,E.channels_out==2&&(d[O]=0)):(i[O]=Q[0][e],E.channels_out==2&&(d[O]=Q[1][e]),++e);for(B=0;B<E.mode_gr;B++)for(fe=0;fe<E.channels_out;fe++)E.l3_side.tt[B][fe].block_type=t.SHORT_TYPE;ve.mdct_sub48(E,i,d)}}this.lame_encode_mp3_frame=function(C,Q,E,fe,B,O){var e,i=Ue([2,2]);i[0][0]=new b,i[0][1]=new b,i[1][0]=new b,i[1][1]=new b;var d=Ue([2,2]);d[0][0]=new b,d[0][1]=new b,d[1][0]=new b,d[1][1]=new b;var N,h=[null,null],o=C.internal_flags,f=ie([2,4]),s=[.5,.5],A=[[0,0],[0,0]],n=[[0,0],[0,0]],j,l,u;if(h[0]=Q,h[1]=E,o.lame_encode_frame_init==0&&se(C,h),o.padding=0,(o.slot_lag-=o.frac_SpF)<0&&(o.slot_lag+=C.out_samplerate,o.padding=1),o.psymodel!=0){var v,p=[null,null],T=0,r=K(2);for(u=0;u<o.mode_gr;u++){for(l=0;l<o.channels_out;l++)p[l]=h[l],T=576+u*576-t.FFTOFFSET;if(C.VBR==ee.vbr_mtrh||C.VBR==ee.vbr_mt?Z():v=F.L3psycho_anal_ns(C,p,T,u,i,d,A[u],n[u],f[u],r),v!=0)return-4;for(C.mode==ue.JOINT_STEREO&&Z(),l=0;l<o.channels_out;l++){var a=o.l3_side.tt[u][l];a.block_type=r[l],a.mixed_block_flag=0}}}else Z();if(c(o),ve.mdct_sub48(o,h[0],h[1]),o.mode_ext=t.MPG_MD_LR_LR,C.force_ms?o.mode_ext=t.MPG_MD_MS_LR:C.mode==ue.JOINT_STEREO&&Z(),o.mode_ext==_?(N=d,j=n):(N=i,j=A),C.analysis&&o.pinfo!=null&&Z(),C.VBR==ee.vbr_off||C.VBR==ee.vbr_abr){var q,k;for(q=0;q<18;q++)o.nsPsy.pefirbuf[q]=o.nsPsy.pefirbuf[q+1];for(k=0,u=0;u<o.mode_gr;u++)for(l=0;l<o.channels_out;l++)k+=j[u][l];for(o.nsPsy.pefirbuf[18]=k,k=o.nsPsy.pefirbuf[9],q=0;q<9;q++)k+=(o.nsPsy.pefirbuf[q]+o.nsPsy.pefirbuf[18-q])*t.fircoef[q];for(k=670*5*o.mode_gr*o.channels_out/k,u=0;u<o.mode_gr;u++)for(l=0;l<o.channels_out;l++)j[u][l]*=k}return o.iteration_loop.iteration_loop(C,j,s,N),D.format_bitstream(C),e=D.copy_buffer(o,fe,B,O,1),C.bWriteVbrTag&&m.addVbrFrame(C),C.analysis&&o.pinfo!=null&&Z(),U(o),e}}function y(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function S(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[K(4),K(4)];for(var _=0;_<2;_++)for(var D=0;D<2;D++)this.tt[_][D]=new R}function M(){this.l=Ce(t.SBMAX_l),this.s=ie([t.SBMAX_s,3]);var _=this;this.assign=function(D){re.arraycopy(D.l,0,_.l,0,t.SBMAX_l);for(var F=0;F<t.SBMAX_s;F++)for(var m=0;m<3;m++)_.s[F][m]=D.s[F][m]}}function ae(){this.last_en_subshort=ie([4,9]),this.lastAttacks=K(4),this.pefirbuf=Ce(19),this.longfact=Ce(t.SBMAX_l),this.shortfact=Ce(t.SBMAX_s),this.attackthre=0,this.attackthre_s=0}x.MFSIZE=3*1152+t.ENCDELAY-t.MDCTDELAY,x.MAX_HEADER_BUF=256,x.MAX_BITS_PER_CHANNEL=4095,x.MAX_BITS_PER_GRANULE=7680,x.BPC=320;function x(){var _=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=ie([2,x.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new S,this.ms_ratio=Ce(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=K(2),this.CurrentStep=K(2),this.masking_lower=0,this.bv_scf=K(576),this.pseudohalf=K(H.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*x.BPC+1),this.itime=Ze(2),this.sideinfo_len=0,this.sb_sample=ie([2,2,18,t.SBLIMIT]),this.amp_filter=Ce(32);function D(){this.write_timing=0,this.ptr=0,this.buf=Se(_)}this.header=new Array(x.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new c1,this.minval_l=Ce(t.CBANDS),this.minval_s=Ce(t.CBANDS),this.nb_1=ie([4,t.CBANDS]),this.nb_2=ie([4,t.CBANDS]),this.nb_s1=ie([4,t.CBANDS]),this.nb_s2=ie([4,t.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Ce(4),this.loudness_sq=ie([2,2]),this.loudness_sq_save=Ce(2),this.mld_l=Ce(t.SBMAX_l),this.mld_s=Ce(t.SBMAX_s),this.bm_l=K(t.SBMAX_l),this.bo_l=K(t.SBMAX_l),this.bm_s=K(t.SBMAX_s),this.bo_s=K(t.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=e1([t.CBANDS,2]),this.s3ind_s=e1([t.CBANDS,2]),this.numlines_s=K(t.CBANDS),this.numlines_l=K(t.CBANDS),this.rnumlines_l=Ce(t.CBANDS),this.mld_cb_l=Ce(t.CBANDS),this.mld_cb_s=Ce(t.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Ce(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=K(2),this.nsPsy=new ae,this.VBR_seek_table=new y,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=e1([16,4+1]),this.bitrate_blockType_Hist=e1([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var F=0;F<this.en.length;F++)this.en[F]=new M;for(var F=0;F<this.thm.length;F++)this.thm[F]=new M;for(var F=0;F<this.header.length;F++)this.header[F]=new D}function ke(){var _=Ce(t.BLKSIZE),D=Ce(t.BLKSIZE_s/2),F=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function m(c,U,se){var C=0,Q,E,fe;se<<=1;var B=U+se;Q=4;do{var O,e,i,d,N,h,o;o=Q>>1,d=Q,N=Q<<1,h=N+d,Q=N<<1,E=U,fe=E+o;do{var f,s,A,n;s=c[E+0]-c[E+d],f=c[E+0]+c[E+d],n=c[E+N]-c[E+h],A=c[E+N]+c[E+h],c[E+N]=f-A,c[E+0]=f+A,c[E+h]=s-n,c[E+d]=s+n,s=c[fe+0]-c[fe+d],f=c[fe+0]+c[fe+d],n=be.SQRT2*c[fe+h],A=be.SQRT2*c[fe+N],c[fe+N]=f-A,c[fe+0]=f+A,c[fe+h]=s-n,c[fe+d]=s+n,fe+=Q,E+=Q}while(E<B);for(e=F[C+0],O=F[C+1],i=1;i<o;i++){var j,l;j=1-2*O*O,l=2*O*e,E=U+i,fe=U+d-i;do{var u,v,p,f,s,T,A,r,n,a;v=l*c[E+d]-j*c[fe+d],u=j*c[E+d]+l*c[fe+d],s=c[E+0]-u,f=c[E+0]+u,T=c[fe+0]-v,p=c[fe+0]+v,v=l*c[E+h]-j*c[fe+h],u=j*c[E+h]+l*c[fe+h],n=c[E+N]-u,A=c[E+N]+u,a=c[fe+N]-v,r=c[fe+N]+v,v=O*A-e*a,u=e*A+O*a,c[E+N]=f-u,c[E+0]=f+u,c[fe+h]=T-v,c[fe+d]=T+v,v=e*r-O*n,u=O*r+e*n,c[fe+N]=p-u,c[fe+0]=p+u,c[E+h]=s-v,c[E+d]=s+v,fe+=Q,E+=Q}while(E<B);j=e,e=j*F[C+0]-O*F[C+1],O=j*F[C+1]+O*F[C+0]}C+=2}while(Q<se)}var ve=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(c,U,se,C,Q){for(var E=0;E<3;E++){var fe=t.BLKSIZE_s/2,B=65535&576/3*(E+1),O=t.BLKSIZE_s/8-1;do{var e,i,d,N,h,o=ve[O<<2]&255;e=D[o]*C[se][Q+o+B],h=D[127-o]*C[se][Q+o+B+128],i=e-h,e=e+h,d=D[o+64]*C[se][Q+o+B+64],h=D[63-o]*C[se][Q+o+B+192],N=d-h,d=d+h,fe-=4,U[E][fe+0]=e+d,U[E][fe+2]=e-d,U[E][fe+1]=i+N,U[E][fe+3]=i-N,e=D[o+1]*C[se][Q+o+B+1],h=D[126-o]*C[se][Q+o+B+129],i=e-h,e=e+h,d=D[o+65]*C[se][Q+o+B+65],h=D[62-o]*C[se][Q+o+B+193],N=d-h,d=d+h,U[E][fe+t.BLKSIZE_s/2+0]=e+d,U[E][fe+t.BLKSIZE_s/2+2]=e-d,U[E][fe+t.BLKSIZE_s/2+1]=i+N,U[E][fe+t.BLKSIZE_s/2+3]=i-N}while(--O>=0);m(U[E],fe,t.BLKSIZE_s/2)}},this.fft_long=function(c,U,se,C,Q){var E=t.BLKSIZE/8-1,fe=t.BLKSIZE/2;do{var B,O,e,i,d,N=ve[E]&255;B=_[N]*C[se][Q+N],d=_[N+512]*C[se][Q+N+512],O=B-d,B=B+d,e=_[N+256]*C[se][Q+N+256],d=_[N+768]*C[se][Q+N+768],i=e-d,e=e+d,fe-=4,U[fe+0]=B+e,U[fe+2]=B-e,U[fe+1]=O+i,U[fe+3]=O-i,B=_[N+1]*C[se][Q+N+1],d=_[N+513]*C[se][Q+N+513],O=B-d,B=B+d,e=_[N+257]*C[se][Q+N+257],d=_[N+769]*C[se][Q+N+769],i=e-d,e=e+d,U[fe+t.BLKSIZE/2+0]=B+e,U[fe+t.BLKSIZE/2+2]=B-e,U[fe+t.BLKSIZE/2+1]=O+i,U[fe+t.BLKSIZE/2+3]=O-i}while(--E>=0);m(U,fe,t.BLKSIZE/2)},this.init_fft=function(c){for(var U=0;U<t.BLKSIZE;U++)_[U]=.42-.5*Math.cos(2*Math.PI*(U+.5)/t.BLKSIZE)+.08*Math.cos(4*Math.PI*(U+.5)/t.BLKSIZE);for(var U=0;U<t.BLKSIZE_s/2;U++)D[U]=.5*(1-Math.cos(2*Math.PI*(U+.5)/t.BLKSIZE_s))}}function Le(){var _=new ke,D=2.302585092994046,F=2,m=16,ve=2,c=16,U=.34,se=1/(14752*14752)/(t.BLKSIZE/2),C=.01,Q=.8,E=.6,fe=.3,B=3.5,O=21,e=.2302585093;function i(Y,I){for(var W=0,ge=0;ge<t.BLKSIZE/2;++ge)W+=Y[ge]*I.ATH.eql_w[ge];return W*=se,W}function d(Y,I,W,ge,Re,oe,Me,Te,He,Qe,Ve){var _1=Y.internal_flags;He<2?(_.fft_long(_1,ge[Re],He,Qe,Ve),_.fft_short(_1,oe[Me],He,Qe,Ve)):He==2&&Z(),I[0]=ge[Re+0][0],I[0]*=I[0];for(var r1=t.BLKSIZE/2-1;r1>=0;--r1){var l1=ge[Re+0][t.BLKSIZE/2-r1],p1=ge[Re+0][t.BLKSIZE/2+r1];I[t.BLKSIZE/2-r1]=(l1*l1+p1*p1)*.5}for(var n1=2;n1>=0;--n1){W[n1][0]=oe[Me+0][n1][0],W[n1][0]*=W[n1][0];for(var r1=t.BLKSIZE_s/2-1;r1>=0;--r1){var l1=oe[Me+0][n1][t.BLKSIZE_s/2-r1],p1=oe[Me+0][n1][t.BLKSIZE_s/2+r1];W[n1][t.BLKSIZE_s/2-r1]=(l1*l1+p1*p1)*.5}}{for(var ze=0,r1=11;r1<t.HBLKSIZE;r1++)ze+=I[r1];_1.tot_ener[He]=ze}Y.analysis&&Z(),Y.athaa_loudapprox==2&&He<2&&(_1.loudness_sq[Te][He]=_1.loudness_sq_save[He],_1.loudness_sq_save[He]=i(I,_1))}var N=8,h=23,o=15,f,s,A,n=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function j(){f=Math.pow(10,(N+1)/16),s=Math.pow(10,(h+1)/16),A=Math.pow(10,o/10)}var l=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],u=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],v=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function p(Y,I,W,ge,Re,oe){var Me;if(I>Y)if(I<Y*s)Me=I/Y;else return Y+I;else{if(Y>=I*s)return Y+I;Me=Y/I}if(Y+=I,ge+3<=3+3){if(Me>=f)return Y;var Te=0|be.FAST_LOG10_X(Me,16);return Y*u[Te]}var Te=0|be.FAST_LOG10_X(Me,16);if(oe!=0?I=Re.ATH.cb_s[W]*Re.ATH.adjust:I=Re.ATH.cb_l[W]*Re.ATH.adjust,Y<A*I){if(Y>I){var He,Qe;return He=1,Te<=13&&(He=v[Te]),Qe=be.FAST_LOG10_X(Y/I,10/15),Y*((l[Te]-He)*Qe+He)}return Te>13?Y:Y*v[Te]}return Y*l[Te]}function T(Y,I,W,ge,Re){var oe,Me,Te=0,He=0;for(oe=Me=0;oe<t.SBMAX_s;++Me,++oe){for(var Qe=Y.bo_s[oe],Ve=Y.npart_s,_1=Qe<Ve?Qe:Ve;Me<_1;)Te+=I[Me],He+=W[Me],Me++;if(Y.en[ge].s[oe][Re]=Te,Y.thm[ge].s[oe][Re]=He,Me>=Ve){++oe;break}{var r1=Y.PSY.bo_s_weight[oe],l1=1-r1;Te=r1*I[Me],He=r1*W[Me],Y.en[ge].s[oe][Re]+=Te,Y.thm[ge].s[oe][Re]+=He,Te=l1*I[Me],He=l1*W[Me]}}for(;oe<t.SBMAX_s;++oe)Y.en[ge].s[oe][Re]=0,Y.thm[ge].s[oe][Re]=0}function r(Y,I,W,ge){var Re,oe,Me=0,Te=0;for(Re=oe=0;Re<t.SBMAX_l;++oe,++Re){for(var He=Y.bo_l[Re],Qe=Y.npart_l,Ve=He<Qe?He:Qe;oe<Ve;)Me+=I[oe],Te+=W[oe],oe++;if(Y.en[ge].l[Re]=Me,Y.thm[ge].l[Re]=Te,oe>=Qe){++Re;break}{var _1=Y.PSY.bo_l_weight[Re],r1=1-_1;Me=_1*I[oe],Te=_1*W[oe],Y.en[ge].l[Re]+=Me,Y.thm[ge].l[Re]+=Te,Me=r1*I[oe],Te=r1*W[oe]}}for(;Re<t.SBMAX_l;++Re)Y.en[ge].l[Re]=0,Y.thm[ge].l[Re]=0}function a(Y,I,W,ge,Re,oe){var Me=Y.internal_flags,Te,He;for(He=Te=0;He<Me.npart_s;++He){for(var Qe=0,Ve=Me.numlines_s[He],_1=0;_1<Ve;++_1,++Te){var r1=I[oe][Te];Qe+=r1}W[He]=Qe}for(Te=He=0;He<Me.npart_s;He++){var l1=Me.s3ind_s[He][0],p1=Me.s3_ss[Te++]*W[l1];for(++l1;l1<=Me.s3ind_s[He][1];)p1+=Me.s3_ss[Te]*W[l1],++Te,++l1;{var n1=ve*Me.nb_s1[Re][He];ge[He]=Math.min(p1,n1)}if(Me.blocktype_old[Re&1]==t.SHORT_TYPE){var n1=c*Me.nb_s2[Re][He],ze=ge[He];ge[He]=Math.min(n1,ze)}Me.nb_s2[Re][He]=Me.nb_s1[Re][He],Me.nb_s1[Re][He]=p1}for(;He<=t.CBANDS;++He)W[He]=0,ge[He]=0}function q(Y,I,W,ge){var Re=Y.internal_flags;Y.short_blocks==We.short_block_coupled&&!(I[0]!=0&&I[1]!=0)&&(I[0]=I[1]=0);for(var oe=0;oe<Re.channels_out;oe++)ge[oe]=t.NORM_TYPE,Y.short_blocks==We.short_block_dispensed&&(I[oe]=1),Y.short_blocks==We.short_block_forced&&(I[oe]=0),I[oe]!=0?Re.blocktype_old[oe]==t.SHORT_TYPE&&(ge[oe]=t.STOP_TYPE):(ge[oe]=t.SHORT_TYPE,Re.blocktype_old[oe]==t.NORM_TYPE&&(Re.blocktype_old[oe]=t.START_TYPE),Re.blocktype_old[oe]==t.STOP_TYPE&&(Re.blocktype_old[oe]=t.SHORT_TYPE)),W[oe]=Re.blocktype_old[oe],Re.blocktype_old[oe]=ge[oe]}function k(Y,I,W){return W>=1?Y:W<=0?I:I>0?Math.pow(Y/I,W)*I:0}var P=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function le(Y,I){for(var W=309.07,ge=0;ge<t.SBMAX_s-1;ge++)for(var Re=0;Re<3;Re++){var oe=Y.thm.s[ge][Re];if(oe>0){var Me=oe*I,Te=Y.en.s[ge][Re];Te>Me&&(Te>Me*1e10?W+=P[ge]*(10*D):W+=P[ge]*be.FAST_LOG10(Te/Me))}}return W}var he=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function me(Y,I){for(var W=281.0575,ge=0;ge<t.SBMAX_l-1;ge++){var Re=Y.thm.l[ge];if(Re>0){var oe=Re*I,Me=Y.en.l[ge];Me>oe&&(Me>oe*1e10?W+=he[ge]*(10*D):W+=he[ge]*be.FAST_LOG10(Me/oe))}}return W}function Fe(Y,I,W,ge,Re){var oe,Me;for(oe=Me=0;oe<Y.npart_l;++oe){var Te=0,He=0,Qe;for(Qe=0;Qe<Y.numlines_l[oe];++Qe,++Me){var Ve=I[Me];Te+=Ve,He<Ve&&(He=Ve)}W[oe]=Te,ge[oe]=He,Re[oe]=Te*Y.rnumlines_l[oe]}}function Ge(Y,I,W,ge){var Re=n.length-1,oe=0,Me=W[oe]+W[oe+1];if(Me>0){var Te=I[oe];Te<I[oe+1]&&(Te=I[oe+1]),Me=20*(Te*2-Me)/(Me*(Y.numlines_l[oe]+Y.numlines_l[oe+1]-1));var He=0|Me;He>Re&&(He=Re),ge[oe]=He}else ge[oe]=0;for(oe=1;oe<Y.npart_l-1;oe++)if(Me=W[oe-1]+W[oe]+W[oe+1],Me>0){var Te=I[oe-1];Te<I[oe]&&(Te=I[oe]),Te<I[oe+1]&&(Te=I[oe+1]),Me=20*(Te*3-Me)/(Me*(Y.numlines_l[oe-1]+Y.numlines_l[oe]+Y.numlines_l[oe+1]-1));var He=0|Me;He>Re&&(He=Re),ge[oe]=He}else ge[oe]=0;if(Me=W[oe-1]+W[oe],Me>0){var Te=I[oe-1];Te<I[oe]&&(Te=I[oe]),Me=20*(Te*2-Me)/(Me*(Y.numlines_l[oe-1]+Y.numlines_l[oe]-1));var He=0|Me;He>Re&&(He=Re),ge[oe]=He}else ge[oe]=0}var Xe=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(Y,I,W,ge,Re,oe,Me,Te,He,Qe){var Ve=Y.internal_flags,_1=ie([2,t.BLKSIZE]),r1=ie([2,3,t.BLKSIZE_s]),l1=Ce(t.CBANDS+1),p1=Ce(t.CBANDS+1),n1=Ce(t.CBANDS+2),ze=K(2),s1=K(2),R1,Pe,Je,Ye,v1,L1,T1,i1,j1=ie([2,576]),C1,N1=K(t.CBANDS+2),V1=K(t.CBANDS+2);for($e.fill(V1,0),R1=Ve.channels_out,Y.mode==ue.JOINT_STEREO&&(R1=4),Y.VBR==ee.vbr_off?C1=Ve.ResvMax==0?0:Ve.ResvSize/Ve.ResvMax*.5:Y.VBR==ee.vbr_rh||Y.VBR==ee.vbr_mtrh||Y.VBR==ee.vbr_mt?C1=.6:C1=1,Pe=0;Pe<Ve.channels_out;Pe++){var D1=I[Pe],P1=W+576-350-O+192;for(Ye=0;Ye<576;Ye++){var G1,z1;for(G1=D1[P1+Ye+10],z1=0,v1=0;v1<(O-1)/2-1;v1+=2)G1+=Xe[v1]*(D1[P1+Ye+v1]+D1[P1+Ye+O-v1]),z1+=Xe[v1+1]*(D1[P1+Ye+v1+1]+D1[P1+Ye+O-v1-1]);j1[Pe][Ye]=G1+z1}Re[ge][Pe].en.assign(Ve.en[Pe]),Re[ge][Pe].thm.assign(Ve.thm[Pe]),R1>2&&Z()}for(Pe=0;Pe<R1;Pe++){var at,nt,E1=Ce(12),g1=[0,0,0,0],K1=Ce(12),it=1,st,lt=Ce(t.CBANDS),ot=Ce(t.CBANDS),w1=[0,0,0,0],_t=Ce(t.HBLKSIZE),ut=ie([3,t.HBLKSIZE_s]);for(Ye=0;Ye<3;Ye++)E1[Ye]=Ve.nsPsy.last_en_subshort[Pe][Ye+6],K1[Ye]=E1[Ye]/Ve.nsPsy.last_en_subshort[Pe][Ye+4],g1[0]+=E1[Ye];Pe==2&&Z();{var vt=j1[Pe&1],F1=0;for(Ye=0;Ye<9;Ye++){for(var yt=F1+64,M1=1;F1<yt;F1++)M1<Math.abs(vt[F1])&&(M1=Math.abs(vt[F1]));Ve.nsPsy.last_en_subshort[Pe][Ye]=E1[Ye+3]=M1,g1[1+Ye/3]+=M1,M1>E1[Ye+3-2]?M1=M1/E1[Ye+3-2]:E1[Ye+3-2]>M1*10?M1=E1[Ye+3-2]/(M1*10):M1=0,K1[Ye+3]=M1}}for(Y.analysis&&Z(),st=Pe==3?Ve.nsPsy.attackthre_s:Ve.nsPsy.attackthre,Ye=0;Ye<12;Ye++)w1[Ye/3]==0&&K1[Ye]>st&&(w1[Ye/3]=Ye%3+1);for(Ye=1;Ye<4;Ye++){var Q1;g1[Ye-1]>g1[Ye]?Q1=g1[Ye-1]/g1[Ye]:Q1=g1[Ye]/g1[Ye-1],Q1<1.7&&(w1[Ye]=0,Ye==1&&(w1[0]=0))}for(w1[0]!=0&&Ve.nsPsy.lastAttacks[Pe]!=0&&(w1[0]=0),(Ve.nsPsy.lastAttacks[Pe]==3||w1[0]+w1[1]+w1[2]+w1[3]!=0)&&(it=0,w1[1]!=0&&w1[0]!=0&&(w1[1]=0),w1[2]!=0&&w1[1]!=0&&(w1[2]=0),w1[3]!=0&&w1[2]!=0&&(w1[3]=0)),Pe<2?s1[Pe]=it:Z(),He[Pe]=Ve.tot_ener[Pe],nt=r1,at=_1,d(Y,_t,ut,at,Pe&1,nt,Pe&1,ge,Pe,I,W),Fe(Ve,_t,l1,lt,ot),Ge(Ve,lt,ot,N1),i1=0;i1<3;i1++){var Z1,B1;for(a(Y,ut,p1,n1,Pe,i1),T(Ve,p1,n1,Pe,i1),T1=0;T1<t.SBMAX_s;T1++){if(B1=Ve.thm[Pe].s[T1][i1],B1*=Q,w1[i1]>=2||w1[i1+1]==1){var W1=i1!=0?i1-1:2,M1=k(Ve.thm[Pe].s[T1][W1],B1,E*C1);B1=Math.min(B1,M1)}if(w1[i1]==1){var W1=i1!=0?i1-1:2,M1=k(Ve.thm[Pe].s[T1][W1],B1,fe*C1);B1=Math.min(B1,M1)}else if(i1!=0&&w1[i1-1]==3||i1==0&&Ve.nsPsy.lastAttacks[Pe]==3){var W1=i1!=2?i1+1:0,M1=k(Ve.thm[Pe].s[T1][W1],B1,fe*C1);B1=Math.min(B1,M1)}Z1=E1[i1*3+3]+E1[i1*3+4]+E1[i1*3+5],E1[i1*3+5]*6<Z1&&(B1*=.5,E1[i1*3+4]*6<Z1&&(B1*=.5)),Ve.thm[Pe].s[T1][i1]=B1}}for(Ve.nsPsy.lastAttacks[Pe]=w1[2],L1=0,Je=0;Je<Ve.npart_l;Je++){for(var H1=Ve.s3ind[Je][0],x1=l1[H1]*n[N1[H1]],U1=Ve.s3_ll[L1++]*x1;++H1<=Ve.s3ind[Je][1];)x1=l1[H1]*n[N1[H1]],U1=p(U1,Ve.s3_ll[L1++]*x1,H1,H1-Je,Ve,0);U1*=.158489319246111,Ve.blocktype_old[Pe&1]==t.SHORT_TYPE?n1[Je]=U1:n1[Je]=k(Math.min(U1,Math.min(F*Ve.nb_1[Pe][Je],m*Ve.nb_2[Pe][Je])),U1,C1),Ve.nb_2[Pe][Je]=Ve.nb_1[Pe][Je],Ve.nb_1[Pe][Je]=U1}for(;Je<=t.CBANDS;++Je)l1[Je]=0,n1[Je]=0;r(Ve,l1,n1,Pe)}for((Y.mode==ue.STEREO||Y.mode==ue.JOINT_STEREO)&&Z(),Y.mode==ue.JOINT_STEREO&&Z(),q(Y,s1,Qe,ze),Pe=0;Pe<R1;Pe++){var q1,X1=0,ft,J1;Pe>1?Z():(q1=Me,X1=0,ft=Qe[Pe],J1=Re[ge][Pe]),ft==t.SHORT_TYPE?q1[X1+Pe]=le(J1,Ve.masking_lower):q1[X1+Pe]=me(J1,Ve.masking_lower),Y.analysis&&(Ve.pinfo.pe[ge][Pe]=q1[X1+Pe])}return 0};function m1(Y){var I,W,ge,Re;return I=Y,I>=0?I*=3:I*=1.5,I>=.5&&I<=2.5?(Re=I-.5,W=8*(Re*Re-2*Re)):W=0,I+=.474,ge=15.811389+7.5*I-17.5*Math.sqrt(1+I*I),ge<=-60?0:(I=Math.exp((W+ge)*e),I/=.6609193,I)}function S1(Y){return Y<0&&(Y=0),Y=Y*.001,13*Math.atan(.76*Y)+3.5*Math.atan(Y*Y/(7.5*7.5))}function o1(Y,I,W,ge,Re,oe,Me,Te,He,Qe,Ve,_1){var r1=Ce(t.CBANDS+1),l1=Te/(_1>15?2*576:2*192),p1=K(t.HBLKSIZE),n1;Te/=He;var ze=0,s1=0;for(n1=0;n1<t.CBANDS;n1++){var R1,Pe;for(R1=S1(Te*ze),r1[n1]=Te*ze,Pe=ze;S1(Te*Pe)-R1<U&&Pe<=He/2;Pe++);for(Y[n1]=Pe-ze,s1=n1+1;ze<Pe;)p1[ze++]=n1;if(ze>He/2){ze=He/2,++n1;break}}r1[n1]=Te*ze;for(var Je=0;Je<_1;Je++){var Ye,v1,L1,T1,i1;L1=Qe[Je],T1=Qe[Je+1],Ye=0|Math.floor(.5+Ve*(L1-.5)),Ye<0&&(Ye=0),v1=0|Math.floor(.5+Ve*(T1-.5)),v1>He/2&&(v1=He/2),W[Je]=(p1[Ye]+p1[v1])/2,I[Je]=p1[v1];var j1=l1*T1;Me[Je]=(j1-r1[I[Je]])/(r1[I[Je]+1]-r1[I[Je]]),Me[Je]<0?Me[Je]=0:Me[Je]>1&&(Me[Je]=1),i1=S1(Te*Qe[Je]*Ve),i1=Math.min(i1,15.5)/15.5,oe[Je]=Math.pow(10,1.25*(1-Math.cos(Math.PI*i1))-2.5)}ze=0;for(var C1=0;C1<s1;C1++){var N1=Y[C1],R1,V1;R1=S1(Te*ze),V1=S1(Te*(ze+N1-1)),ge[C1]=.5*(R1+V1),R1=S1(Te*(ze-.5)),V1=S1(Te*(ze+N1-.5)),Re[C1]=V1-R1,ze+=N1}return s1}function h1(Y,I,W,ge,Re,oe){var Me=ie([t.CBANDS,t.CBANDS]),Te,He=0;if(oe)for(var Qe=0;Qe<I;Qe++)for(Te=0;Te<I;Te++){var Ve=m1(W[Qe]-W[Te])*ge[Te];Me[Qe][Te]=Ve*Re[Qe]}else Z();for(var Qe=0;Qe<I;Qe++){for(Te=0;Te<I&&!(Me[Qe][Te]>0);Te++);for(Y[Qe][0]=Te,Te=I-1;Te>0&&!(Me[Qe][Te]>0);Te--);Y[Qe][1]=Te,He+=Y[Qe][1]-Y[Qe][0]+1}for(var _1=Ce(He),r1=0,Qe=0;Qe<I;Qe++)for(Te=Y[Qe][0];Te<=Y[Qe][1];Te++)_1[r1++]=Me[Qe][Te];return _1}function A1(Y){var I=S1(Y);return I=Math.min(I,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*I))-2.5)}this.psymodel_init=function(Y){var I=Y.internal_flags,W,ge=!0,Re=13,oe=24,Me=0,Te=0,He=-8.25,Qe=-4.5,Ve=Ce(t.CBANDS),_1=Ce(t.CBANDS),r1=Ce(t.CBANDS),l1=Y.out_samplerate;switch(Y.experimentalZ){default:case 0:ge=!0;break;case 1:ge=!(Y.VBR==ee.vbr_mtrh||Y.VBR==ee.vbr_mt);break;case 2:ge=!1;break;case 3:Re=8,Me=-1.75,Te=-.0125,He=-8.25,Qe=-2.25;break}for(I.ms_ener_ratio_old=.25,I.blocktype_old[0]=I.blocktype_old[1]=t.NORM_TYPE,W=0;W<4;++W){for(var ze=0;ze<t.CBANDS;++ze)I.nb_1[W][ze]=1e20,I.nb_2[W][ze]=1e20,I.nb_s1[W][ze]=I.nb_s2[W][ze]=1;for(var p1=0;p1<t.SBMAX_l;p1++)I.en[W].l[p1]=1e20,I.thm[W].l[p1]=1e20;for(var ze=0;ze<3;++ze){for(var p1=0;p1<t.SBMAX_s;p1++)I.en[W].s[p1][ze]=1e20,I.thm[W].s[p1][ze]=1e20;I.nsPsy.lastAttacks[W]=0}for(var ze=0;ze<9;ze++)I.nsPsy.last_en_subshort[W][ze]=10}for(I.loudness_sq_save[0]=I.loudness_sq_save[1]=0,I.npart_l=o1(I.numlines_l,I.bo_l,I.bm_l,Ve,_1,I.mld_l,I.PSY.bo_l_weight,l1,t.BLKSIZE,I.scalefac_band.l,t.BLKSIZE/(2*576),t.SBMAX_l),W=0;W<I.npart_l;W++){var n1=Me;Ve[W]>=Re&&(n1=Te*(Ve[W]-Re)/(oe-Re)+Me*(oe-Ve[W])/(oe-Re)),r1[W]=Math.pow(10,n1/10),I.numlines_l[W]>0?I.rnumlines_l[W]=1/I.numlines_l[W]:I.rnumlines_l[W]=0}I.s3_ll=h1(I.s3ind,I.npart_l,Ve,_1,r1,ge);var ze=0;for(W=0;W<I.npart_l;W++){var s1;s1=Ke.MAX_VALUE;for(var R1=0;R1<I.numlines_l[W];R1++,ze++){var Pe=l1*ze/(1e3*t.BLKSIZE),Je;Je=this.ATHformula(Pe*1e3,Y)-20,Je=Math.pow(10,.1*Je),Je*=I.numlines_l[W],s1>Je&&(s1=Je)}I.ATH.cb_l[W]=s1,s1=-20+Ve[W]*20/10,s1>6&&(s1=100),s1<-15&&(s1=-15),s1-=8,I.minval_l[W]=Math.pow(10,s1/10)*I.numlines_l[W]}for(I.npart_s=o1(I.numlines_s,I.bo_s,I.bm_s,Ve,_1,I.mld_s,I.PSY.bo_s_weight,l1,t.BLKSIZE_s,I.scalefac_band.s,t.BLKSIZE_s/(2*192),t.SBMAX_s),ze=0,W=0;W<I.npart_s;W++){var s1,n1=He;Ve[W]>=Re&&(n1=Qe*(Ve[W]-Re)/(oe-Re)+He*(oe-Ve[W])/(oe-Re)),r1[W]=Math.pow(10,n1/10),s1=Ke.MAX_VALUE;for(var R1=0;R1<I.numlines_s[W];R1++,ze++){var Pe=l1*ze/(1e3*t.BLKSIZE_s),Je;Je=this.ATHformula(Pe*1e3,Y)-20,Je=Math.pow(10,.1*Je),Je*=I.numlines_s[W],s1>Je&&(s1=Je)}I.ATH.cb_s[W]=s1,s1=-7+Ve[W]*7/12,Ve[W]>12&&(s1*=1+Math.log(1+s1)*3.1),Ve[W]<12&&(s1*=1+Math.log(1-s1)*2.3),s1<-15&&(s1=-15),s1-=8,I.minval_s[W]=Math.pow(10,s1/10)*I.numlines_s[W]}I.s3_ss=h1(I.s3ind_s,I.npart_s,Ve,_1,r1,ge),j(),_.init_fft(I),I.decay=Math.exp(-1*D/(C*l1/192));{var Ye;Ye=B,Y.exp_nspsytune&2&&(Ye=1),Math.abs(Y.msfix)>0&&(Ye=Y.msfix),Y.msfix=Ye;for(var v1=0;v1<I.npart_l;v1++)I.s3ind[v1][1]>I.npart_l-1&&(I.s3ind[v1][1]=I.npart_l-1)}var L1=576*I.mode_gr/l1;if(I.ATH.decay=Math.pow(10,-12/10*L1),I.ATH.adjust=.01,I.ATH.adjustLimit=1,Y.ATHtype!=-1){var Pe,T1=Y.out_samplerate/t.BLKSIZE,i1=0;for(Pe=0,W=0;W<t.BLKSIZE/2;++W)Pe+=T1,I.ATH.eql_w[W]=1/Math.pow(10,this.ATHformula(Pe,Y)/10),i1+=I.ATH.eql_w[W];for(i1=1/i1,W=t.BLKSIZE/2;--W>=0;)I.ATH.eql_w[W]*=i1}{for(var v1=ze=0;v1<I.npart_s;++v1)for(W=0;W<I.numlines_s[v1];++W)++ze;for(var v1=ze=0;v1<I.npart_l;++v1)for(W=0;W<I.numlines_l[v1];++W)++ze}for(ze=0,W=0;W<I.npart_l;W++){var Pe=l1*(ze+I.numlines_l[W]/2)/(1*t.BLKSIZE);I.mld_cb_l[W]=A1(Pe),ze+=I.numlines_l[W]}for(;W<t.CBANDS;++W)I.mld_cb_l[W]=1;for(ze=0,W=0;W<I.npart_s;W++){var Pe=l1*(ze+I.numlines_s[W]/2)/(1*t.BLKSIZE_s);I.mld_cb_s[W]=A1(Pe),ze+=I.numlines_s[W]}for(;W<t.CBANDS;++W)I.mld_cb_s[W]=1;return 0};function I1(Y,I){Y<-.3&&(Y=3410),Y/=1e3,Y=Math.max(.1,Y);var W=3.64*Math.pow(Y,-.8)-6.8*Math.exp(-.6*Math.pow(Y-3.4,2))+6*Math.exp(-.15*Math.pow(Y-8.7,2))+(.6+.04*I)*.001*Math.pow(Y,4);return W}this.ATHformula=function(Y,I){var W;switch(I.ATHtype){case 0:W=I1(Y,9);break;case 1:W=I1(Y,-1);break;case 2:W=I1(Y,0);break;case 3:W=I1(Y,1)+6;break;case 4:W=I1(Y,I.ATHcurve);break;default:W=I1(Y,0);break}return W}}function te(){var _=this,D=128*1024;te.V9=410,te.V8=420,te.V7=430,te.V6=440,te.V5=450,te.V4=460,te.V3=470,te.V2=480,te.V1=490,te.V0=500,te.R3MIX=1e3,te.STANDARD=1001,te.EXTREME=1002,te.INSANE=1003,te.STANDARD_FAST=1004,te.EXTREME_FAST=1005,te.MEDIUM=1006,te.MEDIUM_FAST=1007;var F=16384+D;te.LAME_MAXMP3BUFFER=F;var m,ve,c,U,se,C=new Le,Q,E;this.enc=new t,this.setModules=function(r,a,q,k,P,le,he,me,Fe){m=r,ve=a,c=q,U=k,se=P,Q=le,E=me,this.enc.setModules(ve,C,U,Q)};function fe(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=Ce(t.SBMAX_l),this.bo_s_weight=Ce(t.SBMAX_s)}function B(){this.lowerlimit=0}function O(r,a){this.lowpass=a}var e=4294479419;function i(r){var a;return r.class_id=e,a=r.internal_flags=new x,r.mode=ue.NOT_SET,r.original=1,r.in_samplerate=44100,r.num_channels=2,r.num_samples=-1,r.bWriteVbrTag=!0,r.quality=-1,r.short_blocks=null,a.subblock_gain=-1,r.lowpassfreq=0,r.highpassfreq=0,r.lowpasswidth=-1,r.highpasswidth=-1,r.VBR=ee.vbr_off,r.VBR_q=4,r.ATHcurve=-1,r.VBR_mean_bitrate_kbps=128,r.VBR_min_bitrate_kbps=0,r.VBR_max_bitrate_kbps=0,r.VBR_hard_min=0,a.VBR_min_bitrate=1,a.VBR_max_bitrate=13,r.quant_comp=-1,r.quant_comp_short=-1,r.msfix=-1,a.resample_ratio=1,a.OldValue[0]=180,a.OldValue[1]=180,a.CurrentStep[0]=4,a.CurrentStep[1]=4,a.masking_lower=1,a.nsPsy.attackthre=-1,a.nsPsy.attackthre_s=-1,r.scale=-1,r.athaa_type=-1,r.ATHtype=-1,r.athaa_loudapprox=-1,r.athaa_sensitivity=0,r.useTemporal=null,r.interChRatio=-1,a.mf_samples_to_encode=t.ENCDELAY+t.POSTDELAY,r.encoder_padding=0,a.mf_size=t.ENCDELAY-t.MDCTDELAY,r.findReplayGain=!1,r.decode_on_the_fly=!1,a.decode_on_the_fly=!1,a.findReplayGain=!1,a.findPeakSample=!1,a.RadioGain=0,a.AudiophileGain=0,a.noclipGainChange=0,a.noclipScale=-1,r.preset=0,r.write_id3tag_automatic=!0,0}this.lame_init=function(){var r=new f1;return i(r),r.lame_allocated_gfp=1,r};function d(r){return r>1?0:r<=0?1:Math.cos(Math.PI/2*r)}this.nearestBitrateFullIndex=function(r){var a=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],q=0,k=0,P=0,le=0;le=a[16],P=16,k=a[16],q=16;for(var he=0;he<16;he++)if(Math.max(r,a[he+1])!=r){le=a[he+1],P=he+1,k=a[he],q=he;break}return le-r>r-k?q:P};function N(r,a){switch(r){case 44100:return a.version=1,0;case 48e3:return a.version=1,1;case 32e3:return a.version=1,2;case 22050:return a.version=0,0;case 24e3:return a.version=0,1;case 16e3:return a.version=0,2;case 11025:return a.version=0,0;case 12e3:return a.version=0,1;case 8e3:return a.version=0,2;default:return a.version=0,-1}}function h(r,a,q){q<16e3&&(a=2);for(var k=V.bitrate_table[a][1],P=2;P<=14;P++)V.bitrate_table[a][P]>0&&Math.abs(V.bitrate_table[a][P]-r)<Math.abs(k-r)&&(k=V.bitrate_table[a][P]);return k}function o(r,a,q){q<16e3&&(a=2);for(var k=0;k<=14;k++)if(V.bitrate_table[a][k]>0&&V.bitrate_table[a][k]==r)return k;return-1}function f(r,a){var q=[new O(8,2e3),new O(16,3700),new O(24,3900),new O(32,5500),new O(40,7e3),new O(48,7500),new O(56,1e4),new O(64,11e3),new O(80,13500),new O(96,15100),new O(112,15600),new O(128,17e3),new O(160,17500),new O(192,18600),new O(224,19400),new O(256,19700),new O(320,20500)],k=_.nearestBitrateFullIndex(a);r.lowerlimit=q[k].lowpass}function s(r){var a=r.internal_flags,q=32;if(a.lowpass1>0){for(var k=999,P=0;P<=31;P++){var le=P/31;le>=a.lowpass2&&(q=Math.min(q,P)),a.lowpass1<le&&le<a.lowpass2&&(k=Math.min(k,P))}k==999?a.lowpass1=(q-.75)/31:a.lowpass1=(k-.75)/31,a.lowpass2=q/31}a.highpass2>0&&Z(),a.highpass2>0&&Z();for(var P=0;P<32;P++){var he,me,le=P/31;a.highpass2>a.highpass1?Z():he=1,a.lowpass2>a.lowpass1?me=d((le-a.lowpass1)/(a.lowpass2-a.lowpass1+1e-20)):me=1,a.amp_filter[P]=he*me}}function A(r){var a=r.internal_flags;switch(r.quality){default:case 9:a.psymodel=0,a.noise_shaping=0,a.noise_shaping_amp=0,a.noise_shaping_stop=0,a.use_best_huffman=0,a.full_outer_loop=0;break;case 8:r.quality=7;case 7:a.psymodel=1,a.noise_shaping=0,a.noise_shaping_amp=0,a.noise_shaping_stop=0,a.use_best_huffman=0,a.full_outer_loop=0;break;case 6:a.psymodel=1,a.noise_shaping==0&&(a.noise_shaping=1),a.noise_shaping_amp=0,a.noise_shaping_stop=0,a.subblock_gain==-1&&(a.subblock_gain=1),a.use_best_huffman=0,a.full_outer_loop=0;break;case 5:a.psymodel=1,a.noise_shaping==0&&(a.noise_shaping=1),a.noise_shaping_amp=0,a.noise_shaping_stop=0,a.subblock_gain==-1&&(a.subblock_gain=1),a.use_best_huffman=0,a.full_outer_loop=0;break;case 4:a.psymodel=1,a.noise_shaping==0&&(a.noise_shaping=1),a.noise_shaping_amp=0,a.noise_shaping_stop=0,a.subblock_gain==-1&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break;case 3:a.psymodel=1,a.noise_shaping==0&&(a.noise_shaping=1),a.noise_shaping_amp=1,a.noise_shaping_stop=1,a.subblock_gain==-1&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break;case 2:a.psymodel=1,a.noise_shaping==0&&(a.noise_shaping=1),a.substep_shaping==0&&(a.substep_shaping=2),a.noise_shaping_amp=1,a.noise_shaping_stop=1,a.subblock_gain==-1&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break;case 1:a.psymodel=1,a.noise_shaping==0&&(a.noise_shaping=1),a.substep_shaping==0&&(a.substep_shaping=2),a.noise_shaping_amp=2,a.noise_shaping_stop=1,a.subblock_gain==-1&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break;case 0:a.psymodel=1,a.noise_shaping==0&&(a.noise_shaping=1),a.substep_shaping==0&&(a.substep_shaping=2),a.noise_shaping_amp=2,a.noise_shaping_stop=1,a.subblock_gain==-1&&(a.subblock_gain=1),a.use_best_huffman=1,a.full_outer_loop=0;break}}function n(r){var a=r.internal_flags;r.frameNum=0,r.write_id3tag_automatic&&E.id3tag_write_v2(r),a.bitrate_stereoMode_Hist=e1([16,4+1]),a.bitrate_blockType_Hist=e1([16,4+1+1]),a.PeakSample=0,r.bWriteVbrTag&&Q.InitVbrTag(r)}this.lame_init_params=function(r){var a=r.internal_flags;if(a.Class_ID=0,a.ATH==null&&(a.ATH=new u1),a.PSY==null&&(a.PSY=new fe),a.rgdata==null&&(a.rgdata=new Ie),a.channels_in=r.num_channels,a.channels_in==1&&(r.mode=ue.MONO),a.channels_out=r.mode==ue.MONO?1:2,a.mode_ext=t.MPG_MD_MS_LR,r.mode==ue.MONO&&(r.force_ms=!1),r.VBR==ee.vbr_off&&r.VBR_mean_bitrate_kbps!=128&&r.brate==0&&(r.brate=r.VBR_mean_bitrate_kbps),r.VBR==ee.vbr_off||r.VBR==ee.vbr_mtrh||r.VBR==ee.vbr_mt||(r.free_format=!1),r.VBR==ee.vbr_off&&r.brate==0&&Z(),r.VBR==ee.vbr_off&&r.compression_ratio>0&&Z(),r.out_samplerate!=0&&(r.out_samplerate<16e3?(r.VBR_mean_bitrate_kbps=Math.max(r.VBR_mean_bitrate_kbps,8),r.VBR_mean_bitrate_kbps=Math.min(r.VBR_mean_bitrate_kbps,64)):r.out_samplerate<32e3?(r.VBR_mean_bitrate_kbps=Math.max(r.VBR_mean_bitrate_kbps,8),r.VBR_mean_bitrate_kbps=Math.min(r.VBR_mean_bitrate_kbps,160)):(r.VBR_mean_bitrate_kbps=Math.max(r.VBR_mean_bitrate_kbps,32),r.VBR_mean_bitrate_kbps=Math.min(r.VBR_mean_bitrate_kbps,320))),r.lowpassfreq==0){var q=16e3;switch(r.VBR){case ee.vbr_off:{var k=new B;f(k,r.brate),q=k.lowerlimit;break}case ee.vbr_abr:{var k=new B;f(k,r.VBR_mean_bitrate_kbps),q=k.lowerlimit;break}case ee.vbr_rh:Z();default:Z()}r.mode==ue.MONO&&(r.VBR==ee.vbr_off||r.VBR==ee.vbr_abr)&&(q*=1.5),r.lowpassfreq=q|0}switch(r.out_samplerate==0&&Z(),r.lowpassfreq=Math.min(20500,r.lowpassfreq),r.lowpassfreq=Math.min(r.out_samplerate/2,r.lowpassfreq),r.VBR==ee.vbr_off&&(r.compression_ratio=r.out_samplerate*16*a.channels_out/(1e3*r.brate)),r.VBR==ee.vbr_abr&&Z(),r.bWriteVbrTag||(r.findReplayGain=!1,r.decode_on_the_fly=!1,a.findPeakSample=!1),a.findReplayGain=r.findReplayGain,a.decode_on_the_fly=r.decode_on_the_fly,a.decode_on_the_fly&&(a.findPeakSample=!0),a.findReplayGain&&Z(),a.decode_on_the_fly&&!r.decode_only&&Z(),a.mode_gr=r.out_samplerate<=24e3?1:2,r.framesize=576*a.mode_gr,r.encoder_delay=t.ENCDELAY,a.resample_ratio=r.in_samplerate/r.out_samplerate,r.VBR){case ee.vbr_mt:case ee.vbr_rh:case ee.vbr_mtrh:{var P=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];r.compression_ratio=P[r.VBR_q]}break;case ee.vbr_abr:r.compression_ratio=r.out_samplerate*16*a.channels_out/(1e3*r.VBR_mean_bitrate_kbps);break;default:r.compression_ratio=r.out_samplerate*16*a.channels_out/(1e3*r.brate);break}r.mode==ue.NOT_SET&&(r.mode=ue.JOINT_STEREO),r.highpassfreq>0?Z():(a.highpass1=0,a.highpass2=0),r.lowpassfreq>0?(a.lowpass2=2*r.lowpassfreq,r.lowpasswidth>=0?Z():a.lowpass1=(1-0)*2*r.lowpassfreq,a.lowpass1/=r.out_samplerate,a.lowpass2/=r.out_samplerate):Z(),s(r),a.samplerate_index=N(r.out_samplerate,r),a.samplerate_index<0&&Z(),r.VBR==ee.vbr_off?r.free_format?a.bitrate_index=0:(r.brate=h(r.brate,r.version,r.out_samplerate),a.bitrate_index=o(r.brate,r.version,r.out_samplerate),a.bitrate_index<=0&&Z()):a.bitrate_index=1,r.analysis&&(r.bWriteVbrTag=!1),a.pinfo!=null&&(r.bWriteVbrTag=!1),ve.init_bit_stream_w(a);for(var le=a.samplerate_index+3*r.version+6*(r.out_samplerate<16e3?1:0),he=0;he<t.SBMAX_l+1;he++)a.scalefac_band.l[he]=U.sfBandIndex[le].l[he];for(var he=0;he<t.PSFB21+1;he++){var me=(a.scalefac_band.l[22]-a.scalefac_band.l[21])/t.PSFB21,Fe=a.scalefac_band.l[21]+he*me;a.scalefac_band.psfb21[he]=Fe}a.scalefac_band.psfb21[t.PSFB21]=576;for(var he=0;he<t.SBMAX_s+1;he++)a.scalefac_band.s[he]=U.sfBandIndex[le].s[he];for(var he=0;he<t.PSFB12+1;he++){var me=(a.scalefac_band.s[13]-a.scalefac_band.s[12])/t.PSFB12,Fe=a.scalefac_band.s[12]+he*me;a.scalefac_band.psfb12[he]=Fe}a.scalefac_band.psfb12[t.PSFB12]=192,r.version==1?a.sideinfo_len=a.channels_out==1?4+17:4+32:a.sideinfo_len=a.channels_out==1?4+9:4+17,r.error_protection&&(a.sideinfo_len+=2),n(r),a.Class_ID=e;{var Ge;for(Ge=0;Ge<19;Ge++)a.nsPsy.pefirbuf[Ge]=700*a.mode_gr*a.channels_out;r.ATHtype==-1&&(r.ATHtype=4)}switch(r.VBR){case ee.vbr_mt:r.VBR=ee.vbr_mtrh;case ee.vbr_mtrh:{r.useTemporal==null&&(r.useTemporal=!1),c.apply_preset(r,500-r.VBR_q*10,0),r.quality<0&&(r.quality=LAME_DEFAULT_QUALITY),r.quality<5&&(r.quality=0),r.quality>5&&(r.quality=5),a.PSY.mask_adjust=r.maskingadjust,a.PSY.mask_adjust_short=r.maskingadjust_short,r.experimentalY?a.sfb21_extra=!1:a.sfb21_extra=r.out_samplerate>44e3,a.iteration_loop=new VBRNewIterationLoop(se);break}case ee.vbr_rh:{c.apply_preset(r,500-r.VBR_q*10,0),a.PSY.mask_adjust=r.maskingadjust,a.PSY.mask_adjust_short=r.maskingadjust_short,r.experimentalY?a.sfb21_extra=!1:a.sfb21_extra=r.out_samplerate>44e3,r.quality>6&&(r.quality=6),r.quality<0&&(r.quality=LAME_DEFAULT_QUALITY),a.iteration_loop=new VBROldIterationLoop(se);break}default:{var Xe;a.sfb21_extra=!1,r.quality<0&&(r.quality=LAME_DEFAULT_QUALITY),Xe=r.VBR,Xe==ee.vbr_off&&(r.VBR_mean_bitrate_kbps=r.brate),c.apply_preset(r,r.VBR_mean_bitrate_kbps,0),r.VBR=Xe,a.PSY.mask_adjust=r.maskingadjust,a.PSY.mask_adjust_short=r.maskingadjust_short,Xe==ee.vbr_off?a.iteration_loop=new d1(se):Z();break}}return r.VBR!=ee.vbr_off&&Z(),r.tune&&Z(),A(r),r.athaa_type<0?a.ATH.useAdjust=3:a.ATH.useAdjust=r.athaa_type,a.ATH.aaSensitivityP=Math.pow(10,r.athaa_sensitivity/-10),r.short_blocks==null&&(r.short_blocks=We.short_block_allowed),r.short_blocks==We.short_block_allowed&&(r.mode==ue.JOINT_STEREO||r.mode==ue.STEREO)&&(r.short_blocks=We.short_block_coupled),r.quant_comp<0&&(r.quant_comp=1),r.quant_comp_short<0&&(r.quant_comp_short=0),r.msfix<0&&(r.msfix=0),r.exp_nspsytune=r.exp_nspsytune|1,r.internal_flags.nsPsy.attackthre<0&&(r.internal_flags.nsPsy.attackthre=Le.NSATTACKTHRE),r.internal_flags.nsPsy.attackthre_s<0&&(r.internal_flags.nsPsy.attackthre_s=Le.NSATTACKTHRE_S),r.scale<0&&(r.scale=1),r.ATHtype<0&&(r.ATHtype=4),r.ATHcurve<0&&(r.ATHcurve=4),r.athaa_loudapprox<0&&(r.athaa_loudapprox=2),r.interChRatio<0&&(r.interChRatio=0),r.useTemporal==null&&(r.useTemporal=!0),a.slot_lag=a.frac_SpF=0,r.VBR==ee.vbr_off&&(a.slot_lag=a.frac_SpF=(r.version+1)*72e3*r.brate%r.out_samplerate|0),U.iteration_init(r),C.psymodel_init(r),0};function j(r,a){(r.in_buffer_0==null||r.in_buffer_nsamples<a)&&(r.in_buffer_0=Ce(a),r.in_buffer_1=Ce(a),r.in_buffer_nsamples=a)}this.lame_encode_flush=function(r,a,q,k){var P=r.internal_flags,le=g([2,1152]),he=0,me,Fe,Ge,Xe,m1=P.mf_samples_to_encode-t.POSTDELAY,S1=l(r);if(P.mf_samples_to_encode<1)return 0;for(me=0,r.in_samplerate!=r.out_samplerate&&Z(),Ge=r.framesize-m1%r.framesize,Ge<576&&(Ge+=r.framesize),r.encoder_padding=Ge,Xe=(m1+Ge)/r.framesize;Xe>0&&he>=0;){var o1=S1-P.mf_size,h1=r.frameNum;o1*=r.in_samplerate,o1/=r.out_samplerate,o1>1152&&(o1=1152),o1<1&&(o1=1),Fe=k-me,k==0&&(Fe=0),he=this.lame_encode_buffer(r,le[0],le[1],o1,a,q,Fe),q+=he,me+=he,Xe-=h1!=r.frameNum?1:0}return P.mf_samples_to_encode=0,he<0||(Fe=k-me,k==0&&(Fe=0),ve.flush_bitstream(r),he=ve.copy_buffer(P,a,q,Fe,1),he<0)?he:(q+=he,me+=he,Fe=k-me,k==0&&(Fe=0),r.write_id3tag_automatic&&Z(),me)},this.lame_encode_buffer=function(r,a,q,k,P,le,he){var me=r.internal_flags,Fe=[null,null];if(me.Class_ID!=e)return-3;if(k==0)return 0;j(me,k),Fe[0]=me.in_buffer_0,Fe[1]=me.in_buffer_1;for(var Ge=0;Ge<k;Ge++)Fe[0][Ge]=a[Ge],me.channels_in>1&&(Fe[1][Ge]=q[Ge]);return u(r,Fe[0],Fe[1],k,P,le,he)};function l(r){var a=t.BLKSIZE+r.framesize-t.FFTOFFSET;return a=Math.max(a,512+r.framesize-32),a}function u(r,a,q,k,P,le,he){var me=r.internal_flags,Fe=0,Ge,Xe,m1,S1,o1,h1=[null,null],A1=[null,null];if(me.Class_ID!=e)return-3;if(k==0)return 0;if(o1=ve.copy_buffer(me,P,le,he,0),o1<0)return o1;if(le+=o1,Fe+=o1,A1[0]=a,A1[1]=q,qe.NEQ(r.scale,0)&&qe.NEQ(r.scale,1))for(Xe=0;Xe<k;++Xe)A1[0][Xe]*=r.scale,me.channels_out==2&&(A1[1][Xe]*=r.scale);if(qe.NEQ(r.scale_left,0)&&qe.NEQ(r.scale_left,1))for(Xe=0;Xe<k;++Xe)A1[0][Xe]*=r.scale_left;if(qe.NEQ(r.scale_right,0)&&qe.NEQ(r.scale_right,1))for(Xe=0;Xe<k;++Xe)A1[1][Xe]*=r.scale_right;r.num_channels==2&&me.channels_out==1&&Z(),S1=l(r),h1[0]=me.mfbuf[0],h1[1]=me.mfbuf[1];for(var I1=0;k>0;){var Y=[null,null],I=0,W=0;Y[0]=A1[0],Y[1]=A1[1];var ge=new p;if(T(r,h1,Y,I1,k,ge),I=ge.n_in,W=ge.n_out,me.findReplayGain&&!me.decode_on_the_fly&&m.AnalyzeSamples(me.rgdata,h1[0],me.mf_size,h1[1],me.mf_size,W,me.channels_out)==X.GAIN_ANALYSIS_ERROR)return-6;if(k-=I,I1+=I,me.channels_out==2,me.mf_size+=W,me.mf_samples_to_encode<1&&Z(),me.mf_samples_to_encode+=W,me.mf_size>=S1){var Re=he-Fe;if(he==0&&(Re=0),Ge=v(r,h1[0],h1[1],P,le,Re),Ge<0)return Ge;for(le+=Ge,Fe+=Ge,me.mf_size-=r.framesize,me.mf_samples_to_encode-=r.framesize,m1=0;m1<me.channels_out;m1++)for(Xe=0;Xe<me.mf_size;Xe++)h1[m1][Xe]=h1[m1][Xe+r.framesize]}}return Fe}function v(r,a,q,k,P,le){var he=_.enc.lame_encode_mp3_frame(r,a,q,k,P,le);return r.frameNum++,he}function p(){this.n_in=0,this.n_out=0}function T(r,a,q,k,P,le){var he=r.internal_flags;if(he.resample_ratio<.9999||he.resample_ratio>1.0001)Z();else{le.n_out=Math.min(r.framesize,P),le.n_in=le.n_out;for(var me=0;me<le.n_out;++me)a[0][he.mf_size+me]=q[0][k+me],he.channels_out==2&&(a[1][he.mf_size+me]=q[1][k+me])}}}function ne(){this.setModules=function(_,D){}}function De(){this.setModules=function(_,D,F){}}function G(){}function J(){this.setModules=function(_,D){}}function je(_,D,F){_!=1&&Z("fix cc: only supports mono");var m=new te,ve=new ne,c=new X,U=new qe,se=new Ee,C=new w,Q=new _e,E=new Oe,fe=new Ne,B=new J,O=new ye,e=new we,i=new De,d=new G;m.setModules(c,U,se,C,Q,E,fe,B,d),U.setModules(c,d,fe,E),B.setModules(U,fe),se.setModules(m),Q.setModules(U,O,C,e),C.setModules(e,O,m.enc.psy),O.setModules(U),e.setModules(C),E.setModules(m,U,fe),ve.setModules(i,d),i.setModules(fe,B,se);var N=m.lame_init();N.num_channels=_,N.in_samplerate=D,N.out_samplerate=D,N.brate=F,N.mode=ue.STEREO,N.quality=3,N.bWriteVbrTag=!1,N.disable_reservoir=!0,N.write_id3tag_automatic=!1,m.lame_init_params(N);var h=1152,o=0|1.25*h+7200,f=Se(o);this.encodeBuffer=function(s,A){_==1&&(A=s),s.length>h&&(h=s.length,o=0|1.25*h+7200,f=Se(o));var n=m.lame_encode_buffer(N,s,A,s.length,f,0,o);return new Int8Array(f.subarray(0,n))},this.flush=function(){var s=m.lame_encode_flush(N,f,0,o);return new Int8Array(f.subarray(0,s))}}H.SFBMAX=t.SBMAX_s*3,Be.Mp3Encoder=je}Be(),z.lamejs=Be});var tt={},Vt={get exports(){return tt},set exports(z){tt=z}};(function(z){(function(Be){var Ae=typeof window=="object"&&!!window.document,Z=Ae?window:Object,Se=Z.Recorder,ce=Se.i18n;Be(Z,Se,ce,ce.$T,Ae),z.exports&&(z.exports=Z.RecordApp)})(function(Be,Ae,Z,Se,ce){var K={LM:"2023-12-01 20:18",Current:0,Platforms:{}},Ce=K.Platforms,Ze="RecordApp",ie="RequestPermission",e1="RegisterPlatform",g=Be[Ze];if(g&&g.LM==K.LM){g.CLog(Se("uXtA::\u91CD\u590D\u5BFC\u5165{1}",0,Ze),3);return}Be[Ze]=K,Ae[Ze]=K,K.__SID_=0;var Ue=K.__SID=function(){return++K.__SID_},$e=K.__Sync=function(ue,Ne,we){return K.__SID_!=ue?(Ne&&re(Se("kIBu::\u540C\u65F6\u591A\u6B21\u8C03\u7528\uFF1A{1}\uFF0C\u65E7\u7684\u56DE\u8C03\u88AB\u4E22\u5F03",0,Ne)+(we?", error: "+we:""),3),!1):!0},re=function(){var ue=arguments;ue[0]="["+(re.Tag||Ze)+"]["+(K.Current&&K.Current.Key||"?")+"]"+ue[0],Ae.CLog.apply(null,ue)};K.CLog=re,K[e1]=function(ue,Ne){Ne.Key=ue,Ce[ue]&&re(Se("ha2K::\u91CD\u590D\u6CE8\u518C{1}",0,ue),3),Ce[ue]=Ne},K.__StopOnlyClearMsg=function(){return Se("wpTL::\u4EC5\u6E05\u7406\u8D44\u6E90")};var be="Default-H5";(function(){var ue={Support:function(Ne){Ne(!0)},CanProcess:function(){return!0}};K[e1](be,ue),ue[ie]=function(Ne,we,X){var Ee=K.__Rec;Ee&&(Ee.close(),K.__Rec=null);var ye=Ae();ye.open(function(){we()},X)},ue.Start=function(Ne,we,X,Ee){var ye=K.__Rec;ye!=null&&ye.stop(),K.__Rec=ye=Ae(we),ye.appSet=we,ye.dataType="arraybuffer",ye.open(function(){$e(Ne)&&ye.start(),X()},Ee)},ue.Stop=function(Ne,we,X){var Ee=K.__Rec,ye=we?"":K.__StopOnlyClearMsg();if(!Ee){Ae.IsOpen()&&(Ee=Ae(),Ee.open(),Ee.close()),X(Se("bpvP::\u672A\u5F00\u59CB\u5F55\u97F3")+(ye?" ("+ye+")":""));return}var Oe=function(){if($e(Ne)){Ee.close();for(var de in Ee.set)Ee.appSet[de]=Ee.set[de]}},qe=function(de){Oe(),X(de)};if(!we){qe(ye);return}Ee.stop(function(de,V,t1){Oe(),we(de,V,t1)},qe)}})(),K.GetCurrentRecOrNull=function(){return K.__Rec||null},K.Pause=function(){var ue=K.Current,Ne="Pause";if(!(ue&&ue[Ne]&&ue[Ne]()!==!1)){var we=K.__Rec;we&&We(Ne)&&we.pause()}},K.Resume=function(){var ue=K.Current,Ne="Resume";if(!(ue&&ue[Ne]&&ue[Ne]()!==!1)){var we=K.__Rec;we&&We(Ne)&&we.resume()}};var We=function(ue){var Ne=K.Current;if(Ne&&Ne.CanProcess())return 1;re(Se("fLJD::\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301\u5B9E\u65F6\u56DE\u8C03\uFF0C\u65E0\u6CD5\u8FDB\u884C{1}",0,ue),3)};K.Install=function(ue,Ne){var we=K.Current;if(we){ue&&ue();return}var X=K.__reqs||(K.__reqs=[]);X.push({s:ue,f:Ne}),ue=function(){Ee("s",arguments)},Ne=function(){Ee("f",arguments)};var Ee=function(t1,a1){var xe=[].concat(X);X.length=0;for(var u1=0;u1<xe.length;u1++){var f1=xe[u1][t1];f1&&f1.apply(null,a1)}};if(!(X.length>1)){var ye=[be],Oe;for(var qe in Ce)qe!=be&&ye.push(qe);ye.reverse();var de=function(t1){Oe=ye[t1],we=Ce[Oe],we.Support(function(a1){if(!a1)return de(t1+1);we.Install?we.Install(V,Ne):V()})},V=function(){K.Current=we,re("Install platform: "+Oe),ue()};de(0)}},K[ie]=function(ue,Ne){var we=Ue(),X=Ze+"."+ie,Ee=function(ye,Oe){Oe=!!Oe;var qe=ye+", isUserNotAllow:"+Oe;$e(we,X,qe)&&(re(Se("YnzX::\u5F55\u97F3\u6743\u9650\u8BF7\u6C42\u5931\u8D25\uFF1A")+qe,1),Ne&&Ne(ye,Oe))};re(ie+"..."),K.Install(function(){if($e(we,X)){var ye=ee();if(ye){Ee(ye);return}K.Current[ie](we,function(){$e(we,X)&&(re(ie+" Success"),ue&&ue())},Ee)}},Ee)};var Ke=function(){return Se("nwKR::\u9700\u5148\u8C03\u7528{1}",0,ie)},ee=function(){var ue="";return K.Current.Key==be&&!ce&&(ue=Se("citA::\u5F53\u524D\u4E0D\u662F\u6D4F\u89C8\u5668\u73AF\u5883\uFF0C\u9700\u5F15\u5165\u9488\u5BF9\u6B64\u5E73\u53F0\u7684\u652F\u6301\u6587\u4EF6\uFF08{1}\uFF09\uFF0C\u6216\u8C03\u7528{2}\u81EA\u884C\u5B9E\u73B0\u63A5\u5165",0,"src/app-support/app-xxx-support.js",Ze+"."+e1)),ue};K.Start=function(ue,Ne,we){var X=Ue(),Ee=Ze+".Start",ye=function(xe){$e(X,Ee,xe)&&(re(Se("ecp9::\u5F00\u59CB\u5F55\u97F3\u5931\u8D25\uFF1A")+xe,1),we&&we(xe))};re("Start...");var Oe=K.Current;if(!Oe){ye(Ke());return}ue||(ue={});var qe={type:"mp3",sampleRate:16e3,bitRate:16,onProcess:function(){}};for(var de in qe)ue[de]||(ue[de]=qe[de]);for(var de in Ce){var V=Ce[de];V.AllStart_Clean&&V.AllStart_Clean(ue)}var t1=!1;if(Oe.Start_Check&&(t1=Oe.Start_Check(ue)),t1===!1){var a1=Ae(ue);t1=a1.envCheck({envName:Oe.Key,canProcess:Oe.CanProcess()}),t1||(t1=ee())}if(t1){ye(Se("EKmS::\u4E0D\u80FD\u5F55\u97F3\uFF1A")+t1);return}K._SRec=0,Oe.Start(X,ue,function(){$e(X,Ee)&&(re(Se("k7Qo::\u5DF2\u5F00\u59CB\u5F55\u97F3"),ue),K._STime=Date.now(),Ne&&Ne())},ye)},K.Stop=function(ue,Ne){var we=Ue(),X=Ze+".Stop",Ee=function(de){if($e(we,X,de)){re(Se("Douz::\u7ED3\u675F\u5F55\u97F3\u5931\u8D25\uFF1A")+de,ue?1:0);try{Ne&&Ne(de)}finally{ye()}}},ye=function(){K._SRec=K.__Rec,K.__Rec=null};re("Stop... "+Se("wqSH::\u548CStart\u65F6\u5DEE\uFF1A{1}ms",0,K._STime?Date.now()-K._STime:-1)+" Recorder.LM:"+Ae.LM+" "+Ze+".LM:"+K.LM);var Oe=Date.now(),qe=K.Current;if(!qe){Ee(Ke());return}qe.Stop(we,ue?function(de,V,t1){if($e(we,X)){re(Se("g3VX::\u7ED3\u675F\u5F55\u97F3 \u8017\u65F6{1}ms \u97F3\u9891\u65F6\u957F{2}ms \u6587\u4EF6\u5927\u5C0F{3}b {4}",0,Date.now()-Oe,V,de.byteLength,t1));try{ue(de,V,t1)}finally{ye()}}}:null,Ee)}})})(Vt);var y1=tt;(function(z){var Be=typeof window=="object"&&!!window.document,Ae=Be?window:Object,Z="https://github.com/xiangyuecn/Recorder/tree/master/app-support-sample/demo_UniApp";if(Ae.RecordApp){var Se=Ae.Recorder,ce=Se.i18n;(function(K,Ce,Ze,ie,e1){var g=Ce.RecordApp,Ue=g.CLog,$e=function(){};g.UniSupportLM="2023-12-08 20:55";var re="app-uni-support.js",be=!1,We=!1,Ke=!1;(function(){if(e1){be=!0;var we=navigator.userAgent.replace(/[_\d]/g," ");We=!/\bandroid\b/i.test(we)&&/\bios\b|\biphone\b/i.test(we)}else typeof plus=="object"&&(plus.os.name=="Android"?be=!0:plus.os.name=="iOS"&&(We=be=!0)),(Ke=be)||Ue("App !plus",1)})(),g.UniIsApp=function(){return be?We?2:1:0};var ee=g.UniBtoa=function(we){if(typeof uni=="object"&&uni.arrayBufferToBase64)return uni.arrayBufferToBase64(we);for(var X=new Uint8Array(we),Ee="",ye=0,Oe=X.length;ye<Oe;ye++)Ee+=String.fromCharCode(X[ye]);return btoa(Ee)},ue=g.UniAtob=function(we){if(typeof uni=="object"&&uni.base64ToArrayBuffer)return uni.base64ToArrayBuffer(we);for(var X=atob(we),Ee=new Uint8Array(X.length),ye=0,Oe=X.length;ye<Oe;ye++)Ee[ye]=X.charCodeAt(ye);return Ee.buffer};g.UniB64Enc=function(we){if(typeof uni=="object"&&uni.arrayBufferToBase64){var X=g.UniStr2Buf(we);return uni.arrayBufferToBase64(X)}return btoa(unescape(encodeURIComponent(we)))},g.UniB64Dec=function(we){if(typeof uni=="object"&&uni.base64ToArrayBuffer){var X=uni.base64ToArrayBuffer(we);return g.UniBuf2Str(X)}return decodeURIComponent(escape(atob(we)))},g.UniStr2Buf=function(we){for(var X=unescape(encodeURIComponent(we)),Ee=new Uint8Array(X.length),ye=0,Oe=X.length;ye<Oe;ye++)Ee[ye]=X.charCodeAt(ye);return Ee.buffer},g.UniBuf2Str=function(we){for(var X=new Uint8Array(we),Ee="",ye=0,Oe=X.length;ye<Oe;ye++)Ee+=String.fromCharCode(X[ye]);return decodeURIComponent(escape(Ee))};var Ne=g.UniJsSource={IsSource:!1,pcm_sum:function(we){for(var X=0,Ee=0;Ee<we.length;Ee++)X+=Math.abs(we[Ee]);return X}};(function(we){(function(){var X=Oe;(function(b,t){for(var y=Oe,S=f1();;)try{if(parseInt(y(649))/1*(parseInt(y(699))/2)+-parseInt(y(407))/3*(parseInt(y(560))/4)+parseInt(y(574))/5*(parseInt(y(689))/6)+parseInt(y(501))/7+-parseInt(y(468))/8+parseInt(y(662))/9+-parseInt(y(548))/10*(-parseInt(y(654))/11)===440219)break;S.push(S.shift())}catch(M){S.push(S.shift())}})();var Ee={Support:function(b){var t=Oe;return be?void(!e1||g[t(339)]?b(!0):b(!1)):(Ue(ie(t(406)),3),void b(!1))},CanProcess:function(){return!0}};g[X(461)](X(e1?421:653),Ee),be&&(Ue[X(432)]=X(e1?335:587)),g[X(674)]||(g[X(674)]={id:0,pageShow:{}});var ye=function(){return be&&!e1&&!g[X(349)]};function Oe(b,t){var y=f1();return(Oe=function(S,M){return y[S-=335]})(b,t)}g[X(470)]=function(b){var t=X,y=g[t(674)][t(555)]={};if(ye()){y[t(563)]=qe(b);var S=g[t(583)];if(S){for(var M=getCurrentPages(),ae=!0,x=0,ke=M[t(344)];x<ke;x++)if(M[x][t(672)].id==S){ae=!1;break}ae&&(g[t(371)]=null,g[t(583)]=null,g[t(361)]=null)}}},g[X(631)]=function(b){var t=X;if(ye()){g[t(341)]=!0,g[t(414)]=1,setTimeout(function(){g[t(414)]=0});var y=b[t(609)];if(y&&y[t(602)]&&y[t(602)][t(346)]){var S=b[t(352)]||b.$&&b.$[t(455)],M=V(b);M&&S?(S==g[t(371)]&&M==g[t(583)]||Ue(ie(t(585))+t(399)+M+t(438)+S),g[t(371)]=S,g[t(583)]!=M&&(g[t(583)]=M,g[t(361)]=y[t(602)][t(346)]())):Ue(ie(t(666))+t(378),1)}else Ue(ie(t(620)),1)}},g[X(497)]=function(b){var t=X;if(be&&e1){if(b[t(482)])var y=window[t(518)],S=b[t(352)]||b[t(482)][t(424)][t(663)],M=b[t(482)][t(351)];if(M)if(M[t(394)]=b,y&&S){var ae=t(517)+y+t(438)+S;g[t(681)]=ae,M[t(465)](t(525),ae),g[t(674)][ae]?Ue(ie(t(507))+t(474)+ae,3):(g[t(674)][ae]=1,Ue(ie(t(388))+t(512)+ae))}else Ue(ie(t(664))+t(378),1);else Ue(ie(t(423)),1)}};var qe=function(b,t,y){var S=X;if(b){if(b[S(669)])return b[S(669)];var M=V(b),ae=b[S(352)]||b.$&&b.$[S(455)]}return t&&(y||t1(),S(453)==t?(M=g[S(484)],ae=g[S(594)]):(M=g[S(583)],ae=g[S(371)])),M&&ae?S(517)+M+S(438)+ae:""},de=function(b){var t=X;return t(679)===b||t(453)===b?{Rec_WvCid:qe(null,b)}:{Rec_WvCid:b||"?"}},V=function(b){var t=X,y=b[t(609)];return(y=y&&y[t(672)])&&y.id||0},t1=function(b){var t=X;if(!g[t(361)])return ie(t(644));var y=qe(null,1,1),S=g[t(674)][t(555)][t(563)];if(b){if(!g[t(484)])return ie(t(337));if(qe(null,t(453),1)!=y)return ie(t(687))}return S&&S!=y&&Ue(ie(t(483),0,S,y),3),""};g[X(554)]=function(b,t,y){var S=X,M="";M||Ke||(M=ie(S(538)));var ae=!M&&function(ne,De){var G=S;if(ne&&ne[G(669)])var J=/^wv_(\d+)_/[G(637)](ne[G(669)]),je=J&&J[1];else{var _=ne&&ne[G(609)],D=_&&_[G(602)];je=(_=_&&_[G(672)])&&_.id}if(je){if(je==g[G(583)])return g[G(361)];if(D)return D[G(346)]();var F=plus[G(374)][G(600)](je);if(F)return F}return De?(t1(),g[G(361)]):null}(b,b==null);if(M||ae||(M=ie(S(b==null?363:513))),M)return M+=ie(S(387)),Ue(M+S(401)+t[S(439)](0,200),1),M;var x=g[S(674)][S(555)];if(x[S(505)]||(x[S(505)]=1,xe()),y){var ke=("a"+Math[S(413)]())[S(514)](".",""),Le=0,te=function(){var ne=S;if(Le!=0&&Le>=y[ne(457)])ae[ne(364)](ne(586)+ke+ne(528)+ke+ne(469)+t+ne(422));else{var De=g[ne(597)](te),G=Le;Le+=524288;var J=y[ne(701)](G,Le);ae[ne(364)](ne(530)+ke+ne(541)+ke+ne(578)+y[ne(457)]+ne(622)+ee(J)+ne(418)+De+ne(491))}};te()}else ae[S(364)](t)},g[X(441)]=function(b,t,y){var S=X,M="";M||Ke||(M=ie(S(633)));var ae=!M&&qe(b,b==null);if(M||ae||(M=ie(S(b==null?381:375))),M)return M+=ie(S(366)),Ue(M+S(401)+t[S(439)](0,200),1),M;g[S(554)](b,S(539)+ae+S(702)+t+S(389),y)};var a1=X(584),xe=function(){var b=X;if(Ke&&b(542)!=typeof UniServiceJSBridge){var t=g[b(499)];if(t){var y="";try{y=uni[b(458)](a1)}catch(S){}if(t==y)return;Ue(ie(b(504)),3)}t="r"+Math[b(413)]();try{uni[b(608)](a1,t)}catch(S){}g[b(499)]=t,UniServiceJSBridge[b(340)](a1),UniServiceJSBridge[b(638)](a1,function(S){var M=b,ae=S[M(579)]||"";if(M(355)!=ae)if(M(629)!=ae)if(ae[M(566)](M(520))==-1)ae[M(566)](M(480))==-1?Ue(ie(M(383))+JSON[M(405)](S),1):g[M(591)](S);else{var x=g[M(674)][ae];x&&x(S)}else _e(S);else H(S)})}};g[X(597)]=function(b){var t=X,y=g[t(674)],S=++y.id,M=t(520)+S;return y[M]=function(ae){delete y[M],b(ae)},M},g[X(359)]=function(b){UniViewJSBridge[X(444)](a1,b)},g[X(498)]=function(b,t,y){var S=X;if(e1&&be){var M=g[S(681)];if(M){var ae=g[S(674)],x=0,ke=++ae.id;ae[S(480)+ke]=function(ne){x=ne,te()};var Le=0,te=function(){var ne=S;if(Le!=0&&Le>=b[ne(457)])return delete ae[ne(480)+ke],void t(x);var De=Le;Le+=524288;var G=b[ne(701)](De,Le);g[ne(359)]({action:ne(De?577:643),wvCid:M,wvID:ke,mainID:x,b64:ee(G)})};te()}else y(ie(S(547)))}else y(ie(S(695)))},g[X(591)]=function(b){var t=X,y=b[t(657)],S=g[t(674)],M=t(480);t(643)==b[t(579)]&&(y=++S.id,S[M+y]={memory:new Uint8Array(2097152),mOffset:0});var ae=S[M+y];if(ae){var x=new Uint8Array(ue(b[t(570)])),ke=x[t(344)];if(ae[t(417)]+ke>ae[t(336)][t(344)]){var Le=new Uint8Array(ae[t(336)][t(344)]+Math[t(677)](2097152,ke));Le[t(440)](ae[t(336)][t(626)](0,ae[t(417)])),ae[t(336)]=Le}ae[t(336)][t(440)](x,ae[t(417)]),ae[t(417)]+=ke,g[t(554)](de(b[t(671)]),t(427)+M+b[t(408)]+t(519)+y+t(627))}else Ue(ie(t(403)),3)},g[X(571)]=function(b){var t=X;if(!Ke)return null;var y=g[t(674)],S=y[t(480)+b];return delete y[t(480)+b],S?S[t(336)][t(599)][t(701)](0,S[t(417)]):null},g[X(661)]=function(b,t,y,S){var M=X;if(y=y||$e,S=S||$e,be){var ae=function(x){var ke=Oe;S(ie(ke(356),0,b)+x[ke(445)])};plus.io[M(464)](plus.io[M(593)],function(x){var ke=M;x[ke(428)][ke(385)](b,{create:!0},function(Le){var te=ke;Le[te(354)](function(ne){var De=te;ne[De(595)]=function(){y(Le[De(556)])},ne[De(565)]=ae;try{ne[De(348)](ee(t))}catch(G){ae(G)}},ae)},ae)},ae)}else S(ie(M(489)))};var u1=function(b){var t=X;if(g[t(531)]){var y="";!y&&e1&&(y=ie(t(426))),!y&&g[t(531)][t(619)]?(d1(),g[t(612)]||(y=ie(t(393),0,Ie))):y||g[t(531)][t(462)]||(y=ie(t(601))),y&&(g[t(531)]=null,Ue(y,1)),g[t(494)]=y}if(Ke){var S=ie(t(419),0,K),M=g[t(531)];M&&(!b&&g[t(459)]||(g[t(459)]=1,M[t(619)]?Ue(ie(t(588))+S):Ue(ie(t(524))+S))),g[t(349)]?M?!b&&g[t(590)]||(g[t(590)]=1,Ue(ie(t(544))+S)):Ue(ie(t(437))+S,1):g[t(341)]&&(g[t(361)]?!b&&g[t(429)]||(g[t(429)]=1,Ue(ie(t(367))+S)):Ue(ie(t(365))+S,1))}};function f1(){var b=we;return(f1=function(){return b})()}g[X(605)]=function(b,t,y,S){var M=X;{var ae,x;{if(Ke){var ke=[];for(ae=0,x=t[M(344)];ae<x;ae++)ke[M(493)](M(562)+t[ae]+M(396)+(ae+1)+M(676));return ke[M(493)](y),void g[M(441)](b,ke[M(404)](`
`))}Ue(ie(M(376)),1)}}};var d1=function(){var b=X;if(!g[b(612)]){Ie=g[b(531)][b(515)]||b(545);try{g[b(612)]=uni[b(628)](Ie)}catch(t){}}},Ie="*",c1=function(){var b=X,t=g[b(531)],y=t&&t[b(619)]?Ie:b(618);w(b(635),{},null,null,function(S){var M=b;M(415)==S[M(579)]?S[M(490)]?Ue("["+y+"]["+S[M(416)]+"]"+S[M(445)],1):Ue("["+y+"]["+S[M(416)]+"]"+S[M(445)]):M(425)==S[M(579)]?g[M(398)](S[M(442)],S[M(684)]):Ue(ie(M(495),0,y)+M(345)+S[M(579)],3)})},w=function(b,t,y,S,M){var ae=X,x=g[ae(531)];if(x){var ke={action:b,args:t||{}};M||(M=function(te){var ne=ae;ne(395)==te[ne(559)]?y&&y(te[ne(557)],te):S&&S(te[ne(445)])}),x[ae(619)]?g[ae(612)][ae(462)](ke,M):x[ae(462)](ke,M)}else{var Le=g[ae(494)]||ie(ae(400));S&&S(Le)}};Ee[X(443)]=function(b,t){u1(),b()},Ee[X(693)]=function(){return L(X(693))},Ee[X(362)]=function(){return L(X(362))};var L=function(b){var t=X;if(!ye())return!1;var y=pe[t(673)];if(y){var S=t1(1);S?Ue(S,1):g[t(554)](de(y[t(463)]),t(543)+b+"()")}else Ue(ie(t(648),0,b),3)};Ee[X(481)]=function(b,t,y){var S=X,M=pe[S(673)];pe[S(673)]=null,M&&ye()&&g[S(554)](de(M[S(463)]),S(473)),!ye()||g[S(414)]?(g[S(484)]=g[S(583)],g[S(594)]=g[S(371)],u1(!0),function(ae){var x=S;if(!Ke)return ae();var ke=g[x(553)]=g[x(553)]||{},Le=function(G,J,je){Ue(ie(x(511),0,re)+G,J||0),je||ae()},te=g[x(531)];if(te||ke[x(696)])return ke[x(696)]=ke[x(696)]||(te[x(619)]?2:1),ke[x(696)]==2?Le(ie(x(487))):Le(ie(x(436)));var ne=x(460)+(ke[x(516)]=ke[x(516)]||uni[x(615)]()[x(516)]||"0")+x(642);if(g[x(510)]){if(g[x(510)]==ne)return Le(ne);Ue(ie(x(472),0,ne),3)}var De=function(G){var J=x;Le(J(430)+re+J(373)+ne+J(537)+K+" ",3,G)};if(ke[x(670)])return De();De(1),ke[x(670)]=1,uni[x(338)]({title:x(533),content:"\u6587\u4EF6"+re+x(675),showCancel:!1,confirmText:x(485),complete:function(){ae()}})}(function(){R(b,t,y)})):y(ie(S(452)))};var R=function(b,t,y){var S=X;if(e1)return g[S(339)]?void t():void y(ie(S(454)));var M=function(te){var ne=S;if(We){Ue(ie(ne(343)));var De=function(){var G=ne;if(g[G(446)])te();else{var J=plus[G(529)][G(357)](G(625))[G(698)](),je=J[G(360)]();je==1970168948?J[G(678)](De):je==1735552628?(Ue(ie(G(552))),te()):(Ue(ie(G(450))+G(658)+je,1),y(ie(G(368)),!0)),plus[G(529)][G(667)](J)}};De()}else Ue(ie(ne(447))),plus[ne(561)][ne(692)]([ne(567)],function(G){var J=ne;0<G[J(700)][J(344)]?(Ue(ie(J(496))+JSON[J(405)](G)),te()):(Ue(ie(J(656)),1,G),y(ie(J(690)),!0))},function(G){var J=ne;Ue(ie(J(580))+G[J(445)],1,G),y(ie(J(435))+G[J(445)])})},ae=function(te){var ne=S;c1(),w(ne(360),{},te,y)};if(g[S(349)])M(function(){ae(t)});else{var x=de(S(453)),ke=function(te){var ne=S,De=t1(1);if(De)y(ie(ne(668))+De);else{var G=g[ne(597)](function(J){var je=ne;J.ok?te():y(J[je(527)])});g[ne(554)](x,ne(551)+G+ne(660)+JSON[ne(405)](ie(ne(502)))+ne(467)+JSON[ne(405)](ie(ne(410),0,ne(603)+re+'"'))+ne(683)+a1+ne(522))}},Le=function(te){var ne=S;if(g[ne(686)](b)){var De=g[ne(597)](function(G){var J=ne;G.ok?t():y(G[J(527)],G[J(358)])});g[ne(554)](x,ne(370)+!!te+ne(572)+De+ne(521)+De+ne(492))}else y(ne(372))};g[S(531)]?ke(function(){M(function(){ae(function(){Le(!0)})})}):ke(function(){M(function(){Le()})})}};Ee[X(694)]=function(b,t,y,S){var M=X,ae=pe[M(673)];if(pe[M(673)]=null,ae&&ye()&&g[M(554)](de(ae[M(463)]),M(473)),!ye()||g[M(414)]){pe[M(449)]=t;var x=Ce(t);if(x[M(440)][M(582)]=!0,x[M(535)]=M(596),pe[M(697)]=!1,pe[M(673)]=x,g[M(630)]=x,e1)return g[M(339)]?void y():void S(ie(M(379)));var ke=function(De){var G=M,J=JSON[G(433)](JSON[G(405)](Le));J[G(569)]=J[G(569)]||48e3,J[G(581)]=J[G(684)],J[G(684)]=J[G(569)],We||J[G(380)]!=null||(J[G(380)]=g[G(477)]||"1"),c1(),w(G(624),J,function(){var je=G;g[je(665)]=setInterval(function(){w(je(451),{},function(){})},5e3),De()},S)};clearInterval(g[M(665)]);var Le={};for(var te in t)/_renderjs$/[M(691)](te)||(Le[te]=t[te]);if(Le=JSON[M(433)](JSON[M(405)](Le)),g[M(349)])ke(y);else{x[M(440)][M(386)]=M(655);var ne=function(De,G){var J=M,je=t1(1);if(je)S(ie(J(607))+je);else{x[J(463)]=qe(null,J(453)),pe[J(697)]=G;var _=[J(617)+JSON[J(405)](Le)+";"];_[J(493)](J(486)+(t[J(592)]||0)+J(647)+(t[J(598)]||0)+J(409)),(t[J(650)]||t[J(471)])&&_[J(493)](J(478)+(t[J(471)]||0)+J(456));var D=g[J(597)](function(F){var m=J;F.ok?De():S(F[m(527)])});_[J(493)](J(546)+D+J(391)+D+J(575)),g[J(441)](de(x[J(463)]),_[J(404)](`
`))}};g[M(531)]?ne(function(){var De=M;g[De(686)](b)?ke(y):S(De(372))},!0):ne(y)}}else S(ie(M(688)))},Ee[X(509)]=function(b){return!!ye()&&""},Ee[X(606)]=function(b){var t=X;if(!ye())for(var y in b)/_renderjs$/[t(691)](y)&&delete b[y]};var H=function(b){var t=X,y=pe[t(673)];y&&(y[t(440)][t(684)]=b[t(347)],y[t(440)][t(488)]=b[t(646)]);for(var S=b[t(540)],M=0,ae=S[t(344)];M<ae;M++)pe(S[M],b[t(684)])},_e=function(b){var t=X,y=pe[t(673)];if(y){var S=new Uint8Array(ue(b[t(534)]));y[t(440)][t(650)]&&y[t(440)][t(650)](S)}else Ue(ie(t(549)),3)},pe=function(b,t){var y=X,S=pe[y(673)];if(S){if(S[y(589)]||S[y(479)]({envName:Ee[y(382)],canProcess:Ee[y(573)]()},t),S[y(589)]=1,b instanceof Int16Array)var M=new Int16Array(b);else M=new Int16Array(ue(b));var ae=Ne[y(342)](M);S[y(500)](M,ae)}else Ue(ie(y(639)),3)};g[X(398)]=function(b,t){var y=X;if(pe[y(697)]){var S=pe[y(673)];return S?void g[y(554)](de(S[y(463)]),y(651)+b+'",'+t+")"):void Ue(ie(y(621)),3)}pe(b,t)},Ee[X(390)]=function(b,t,y){var S=X,M=function(G){var J=Oe;g[J(686)](b)&&(pe[J(673)]=null,ae&&x&&ye()&&g[J(554)](de(ae[J(463)]),J(473))),y(G)},ae=pe[S(673)],x=!0,ke=t?"":g[S(550)](),Le=function(){var G=S;if(g[G(686)](b))if(pe[G(673)]=null,ae){if(Ue(G(434)+ae[G(523)]+G(420)+ae[G(634)]+G(402)+JSON[G(405)](pe[G(449)])),!t)return te(),void M(ke);ae[G(350)](function(J,je,_){te(),t(J,je,_)},function(J){te(),M(J)})}else M(ie(G(369))+(ke?" ("+ke+")":""));else M(G(372))},te=function(){var G=S;if(g[G(686)](b))for(var J in pe[G(673)]=null,ae[G(440)])pe[G(449)][J]=ae[G(440)][J]};if(e1)return g[S(339)]?void Le():void M(ie(S(645)));var ne=function(G){w(S(448),{},G,M)};if(clearInterval(g[S(665)]),g[S(349)])ne(Le);else{var De=function(G){var J=S;if(ae){var je=t1(1);if(je)M(ie(J(568))+je);else{var _=g[J(597)](function(F){var m=J;if(x=!1,F.ok){ae[m(440)][m(386)]=pe[m(449)][m(386)],ae[m(440)][m(684)]=F[m(347)],ae[m(440)][m(488)]=F[m(646)],te();var ve=g[m(571)](F[m(652)]);ve?t(ve,F[m(475)],F[m(506)]):M(ie(m(682)))}else M(F[m(527)])}),D=J(616)+(t&&pe[J(449)][J(641)]||0)+J(680)+!t+J(564)+_+J(353)+_+J(685);g[J(441)](de(ae[J(463)]),D)}}else M(ie(J(532))+(ke?" ("+ke+")":""))};g[S(531)]?ne(function(){var G=S;g[G(686)](b)?De():M(G(372))}):De()}}})()})(["UniNativeRecordReceivePCM"," WvCid=wv_","H753::\u672A\u914D\u7F6ERecordApp.UniNativeUtsPlugin\u539F\u751F\u5F55\u97F3\u63D2\u4EF6","   jsCode="," set:","CjMb::\u65E0\u6548\u7684BigBytes\u56DE\u4F20\u6570\u636E","join","stringify","4ATo::Recorder-UniCore\u76EE\u524D\u53EA\u652F\u6301\uFF1AH5\u3001APP(Android iOS)\u3001MP-WEIXIN\uFF0C\u5176\u4ED6\u5E73\u53F0\u73AF\u5883\u9700\u8981\u81EA\u884C\u7F16\u5199\u9002\u914D\u6587\u4EF6\u5B9E\u73B0\u63A5\u5165","441rSzzgB","wvID",`;
		set.onProcess=function(buffers,power,duration,sampleRate,newIdx){
			var newBuffers=[],recSet=RecordApp.__Rec.set;
			for(var i=newIdx;i<buffers.length;i++)newBuffers.push(RecordApp.UniBtoa(buffers[i].buffer));//@@Fast
			RecordApp.UniWebViewSendToMain({action:"recProcess",recSet_sr:recSet.sampleRate,recSet_bit:recSet.bitRate,sampleRate:sampleRate,newBuffers:newBuffers});
			procFn&&procFn.apply(This,arguments);
		};`,"AN0e::\u9700\u5728renderjs\u4E2Dimport {1}","apply","width","random","__callWvActivate","onLog","tag","mOffset",`"));
			cur.memory.set(buf,cur.mOffset);
			cur.mOffset+=buf.byteLength;
			RecordApp.UniWebViewSendToMain({action:"`,"1f2V:: | RecordApp\u7684uni-app\u652F\u6301\u6587\u6863\u548C\u793A\u4F8B\uFF1A{1} "," srcSR:","UniApp-Renderjs",`
			})()`,"4jKV::RecordApp.UniRenderjsRegister \u9700\u5728renderjs\u4E2D\u8C03\u7528\u5E76\u4E14\u4F20\u5165\u5F53\u524D\u6A21\u5757\u7684this","$vm","onRecord","l6sY::renderjs\u4E2D\u4E0D\u652F\u6301\u8BBE\u7F6ERecordApp.UniNativeUtsPlugin",`(function(){
		var fn=RecordApp.__UniData["`,"root","__0hyi","\u5F53\u524D\u672A\u83B7\u5F97\u6388\u6743\u8BB8\u53EF\u3002\u6587\u4EF6","querySelectorAll","Tag","parse","rec encode: pcm:","Mvl7::\u8C03\u7528plus\u7684\u6743\u9650\u8BF7\u6C42\u51FA\u9519\uFF1A","e71S::\u5DF2\u8D2D\u4E70uts\u63D2\u4EF6\uFF0C\u83B7\u5F97\u6388\u6743\u8BB8\u53EF","fqhr::\u5F53\u524D\u5DF2\u914D\u7F6ERecordApp.UniWithoutAppRenderjs\uFF0C\u5FC5\u987B\u63D0\u4F9B\u539F\u751F\u5F55\u97F3\u63D2\u4EF6\u6216uts\u63D2\u4EF6\u624D\u80FD\u5F55\u97F3\uFF0C\u8BF7\u53C2\u8003RecordApp.UniNativeUtsPlugin\u914D\u7F6E","_cid_","substr","set","UniWebViewVueCall","pcmDataBase64","Install","publishHandler","message","DisableIOSPlusReqPermission","7Noe::\u6B63\u5728\u8C03\u7528plus.android.requestPermissions\u8BF7\u6C42Android\u539F\u751F\u5F55\u97F3\u6743\u9650","recordStop","param","iKhe::plus.ios\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\uFF0C\u72B6\u6001\u503C: ","recordAlive","PkQ2::\u9700\u5148\u8C03\u7528RecordApp.UniWebViewActivate\uFF0C\u7136\u540E\u624D\u53EF\u4EE5\u8C03\u7528RequestPermission","@req","Jk72::\u4E0D\u5E94\u5F53\u51FA\u73B0\u7684\u975EH5\u6743\u9650\u8BF7\u6C42","uid",`;
			set.takeoffEncodeChunk=function(bytes){
				RecordApp.UniWebViewSendToMain({action:"recEncodeChunk",bytes:RecordApp.UniBtoa(bytes.buffer)});
				takeFn&&takeFn.apply(This,arguments);
			};`,"byteLength","getStorageSync","__nnM6","\u6211\u5DF2\u83B7\u5F97UniAppID=","RegisterPlatform","request","__wvCid","requestFileSystem","setAttribute","100%",`;
			}
			if(!err && !RecordApp.Platforms["UniApp-Renderjs"]){
				err=`,"6246736XWmZWR",`;
				`,"UniPageOnShow","takeoffEncodeChunk_renderjs","aPoj::UniAppUseLicense\u586B\u5199\u65E0\u6548\uFF0C\u5982\u679C\u5DF2\u83B7\u53D6\u5230\u4E86\u5546\u7528\u6388\u6743\uFF0C\u8BF7\u586B\u5199\uFF1A{1}\uFF0C\u5426\u5219\u8BF7\u4F7F\u7528\u7A7A\u5B57\u7B26\u4E32","RecordApp.Stop()"," wvCid=","duration","MiniProgramWx_onShow","Default_Android_AudioSource","var takeFn=","envStart","bigBytes_","RequestPermission","$ownerInstance","SWsy::\u68C0\u6D4B\u5230\u6709\u5176\u4ED6\u9875\u9762\u6216\u7EC4\u4EF6\u8C03\u7528\u4E86RecordApp.UniPageOnShow\uFF08WvCid={1}\uFF09\uFF0C\u4F46\u672A\u8C03\u7528\u8FC7RecordApp.UniWebViewActivate\uFF08\u5F53\u524DWvCid={2}\uFF09\uFF0C\u90E8\u5206\u529F\u80FD\u4F1A\u7EE7\u7EED\u4F7F\u7528\u4E4B\u524DActivate\u7684WebView\u548C\u7EC4\u4EF6\uFF0C\u8BF7\u786E\u4FDD\u8FD9\u662F\u7B26\u5408\u4F60\u7684\u4E1A\u52A1\u903B\u8F91\uFF0C\u4E0D\u662F\u56E0\u4E3A\u5FD8\u8BB0\u4E86\u8C03\u7528UniWebViewActivate","__uniAppReqWebViewId","\u6211\u77E5\u9053\u5566","var procFn=","w37G::\u5DF2\u8D2D\u4E70\u539F\u751F\u5F55\u97F3\u63D2\u4EF6\uFF0C\u83B7\u5F97\u6388\u6743\u8BB8\u53EF","bitRate","kxOd::\u975EApp\u73AF\u5883\uFF0C\u4E0D\u652F\u6301\u4FDD\u5B58\u672C\u5730\u6587\u4EF6","isError",`"});
		})()`,`",errMsg:errMsg,isUserNotAllow:isUserNotAllow});
			});
		})()`,"push","__uniNupErr","dl4f::{1}\u56DE\u4F20\u4E86\u672A\u77E5\u5185\u5BB9\uFF0C","Bgls::\u5DF2\u83B7\u5F97Android\u539F\u751F\u5F55\u97F3\u6743\u9650\uFF1A","UniRenderjsRegister","UniWebViewSendBigBytesToMain","__uniAppMainReceiveBind","envIn","1152655uPwqVo","TSmQ::\u9700\u8981\u5728\u9875\u9762\u4E2D\u63D0\u4F9B\u4E00\u4E2Arenderjs\uFF0C\u5728\u91CC\u9762import\u5BFC\u5165RecordApp\u3001\u5F55\u97F3\u683C\u5F0F\u7F16\u7801\u5668\u3001\u53EF\u89C6\u5316\u63D2\u4EF6\u7B49","canvas","vEgr::\u4E0D\u5E94\u8BE5\u51FA\u73B0\u7684MainReceiveBind\u91CD\u590D\u7ED1\u5B9A","mrBind","mime","mzKj::RecordApp.UniRenderjsRegister \u91CD\u590D\u6CE8\u518C\u5F53\u524D\u9875\u9762renderjs\u6A21\u5757\uFF0C\u4E00\u4E2A\u7EC4\u4EF6\u5185\u53EA\u5141\u8BB8\u4E00\u4E2Arenderjs\u6A21\u5757\u8FDB\u884C\u6CE8\u518C","import 'recorder-core/src/app-support/app-miniProgram-wx-support.js'","Start_Check","UniAppUseLicense","FabE::\u3010\u5728App\u5185\u4F7F\u7528{1}\u7684\u6388\u6743\u8BB8\u53EF\u3011"," WvCid=","qDo1::\u672A\u627E\u5230\u6B64\u9875\u9762renderjs\u6240\u5728\u7684WebView","replace","nativePluginName","appId","wv_","__WebVieW_Id__",`"];
		if(fn)fn(`,"mainCb_",`",ok:1});
			},function(errMsg,isUserNotAllow){
				RecordApp.UniWebViewSendToMain({action:"`,`",val);
		})()`,"recSize","nnM6::\u5F53\u524D\u5F55\u97F3\u7531uts\u63D2\u4EF6\u63D0\u4F9B\u652F\u6301","rec_wv_cid_key","k7im::\u672A\u627E\u5230Canvas\uFF1A{1}\uFF0C\u8BF7\u786E\u4FDD\u6B64DOM\u5DF2\u6302\u8F7D\uFF08\u53EF\u5C1D\u8BD5\u7528$nextTick\u7B49\u5F85DOM\u66F4\u65B0\uFF09","errMsg",".memory.buffer; delete window.","ios",`(function(){
			var cur=window.`,"UniNativeUtsPlugin","pP4O::\u672A\u5F00\u59CB\u5F55\u97F3","\u672A\u83B7\u5F97\u5546\u7528\u6388\u6743\u65F6\uFF0CApp\u4E0A\u4EC5\u4F9B\u6D4B\u8BD5\u54C8","bytes","dataType"," canvas","' \uFF0C\u5C31\u4E0D\u4F1A\u5F39\u63D0\u793A\u6846\u4E86\uFF1B\u6216\u8005\u8D2D\u4E70\u4E86\u914D\u5957\u7684\u539F\u751F\u5F55\u97F3\u63D2\u4EF6\u6216uts\u63D2\u4EF6\uFF0C\u8BBE\u7F6ERecordApp.UniNativeUtsPlugin\u53C2\u6570\u540E\uFF0C\u4E5F\u4E0D\u4F1A\u5F39\u63D0\u793A\u6846\u3002\u3010\u83B7\u53D6\u6388\u6743\u65B9\u5F0F\u4E00\u3011\u8054\u7CFB\u4F5C\u8005\u52A0\u5165VIP\u652F\u6301QQ\u7FA4\uFF0C\u5165\u7FA4\u540E\u5373\u83B7\u5F97\u6388\u6743\uFF0C\u5728\u7FA4\u6587\u4EF6\u4E2D\u53EF\u4E0B\u8F7D\u6B64js\u6587\u4EF6\u6700\u65B0\u6E90\u7801\uFF1B\u3010\u83B7\u53D6\u6388\u6743\u65B9\u5F0F\u4E8C\u3011\u8054\u7CFB\u4F5C\u8005\u6216\u5230DCloud\u63D2\u4EF6\u5E02\u573A\u8D2D\u4E70\u914D\u5957\u7684\u539F\u751F\u5F55\u97F3\u63D2\u4EF6\u6216uts\u63D2\u4EF6\uFF0C\u8D2D\u4E70\u540E\u5373\u83B7\u5F97\u6388\u6743\uFF08\u5176\u4E2Duts\u63D2\u4EF6\u8FD8\u5728\u5F00\u53D1\u4E2D\u4E0D\u53EF\u8D2D\u4E70\uFF09\uFF1B\u8D2D\u4E70\u540E\u53EF\u8054\u7CFB\u4F5C\u8005\u62C9\u4F60\u8FDB\u5165VIP\u652F\u6301QQ\u7FA4\u3002\u5BA2\u670D\u8054\u7CFB\u65B9\u5F0F\uFF1AQQ 1251654593 \uFF0C\u6216\u8005\u76F4\u63A5\u8054\u7CFB\u4F5C\u8005QQ 753610399 \uFF08\u56DE\u590D\u53EF\u80FD\u6CA1\u6709\u5BA2\u670D\u53CA\u65F6\uFF09\u3002\u8BE6\u7EC6\u8BF7\u53C2\u8003\u6587\u6863: ","TfJX::\u5F53\u524D\u4E0D\u662FApp\u903B\u8F91\u5C42",`(function(){
		if(!window.RecordApp){ window["console"].error("renderjs\u4E2D\u672Aimport\u5BFC\u5165RecordApp"); return; }
		var wvCid="`,"newBuffers","=window.","undefined","RecordApp.","xYRb::\u5F53\u524DRecordApp\u8FD0\u884C\u5728\u903B\u8F91\u5C42\u4E2D\uFF08\u6027\u80FD\u4F1A\u7565\u4F4E\u4E00\u4E9B\uFF0C\u53EF\u89C6\u5316\u7B49\u63D2\u4EF6\u4E0D\u53EF\u7528\uFF09","RecorderNativePlugin",`RecordApp.Start(set,function(){
			startFn&&startFn.call(This);
			RecordApp.UniWebViewSendToMain({action:"`,"kE91::renderjs\u4E2D\u7684mounted\u5185\u9700\u8981\u8C03\u7528RecordApp.UniRenderjsRegister\u624D\u80FD\u8C03\u7528RecordApp.UniWebViewSendBigBytesToMain","9183050kYRtQd","MTdp::\u672A\u5F00\u59CB\u5F55\u97F3\uFF0C\u4F46\u6536\u5230renderjs\u56DE\u4F20\u7684onRecEncodeChunk","__StopOnlyClearMsg",`(function(){
			var err="",val={action:"`,"j15C::\u5DF2\u83B7\u5F97iOS\u539F\u751F\u5F55\u97F3\u6743\u9650","__FabE","UniWebViewEval","pageShow","fullPath","value","Platforms","status","6276tIOEaT","android",`
				var cls="`,"sWvCid",`;
			var errFn=function(errMsg){
				RecordApp.UniWebViewSendToMain({action:"`,"onerror","indexOf","android.permission.RECORD_AUDIO","H6cq::\u65E0\u6CD5\u8C03\u7528Stop\uFF1A","nativeSampleRateTarget","b64","UniMainTakeBigBytes",`;\r
			RecordApp.Current=null; //\u9700\u5148\u91CD\u7F6E\uFF0C\u4E0D\u7136native\u53D8\u5316\u540Einstall\u4E0D\u4E00\u81F4
			RecordApp.RequestPermission(function(){
				RecordApp.UniWebViewSendToMain({action:"`,"CanProcess","2060fqGwsm",`",errMsg:errMsg});
		});`,"fields","bigBytes_chunk","||{memory:new Uint8Array(","action","0JQw::plus.android\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\u51FA\u9519\uFF1A","nativeSampleRateRecSet","disableEnvInFix","__uniAppWebViewId","RecordApp__uniAppMainReceive","WpKg::RecordApp.UniWebViewActivate \u5DF2\u5207\u6362\u5F53\u524D\u9875\u9762\u6216\u7EC4\u4EF6\u7684renderjs\u6240\u5728\u7684WebView",`(function(){
				var BigBytes=window.`,"RecApp Main","XSYY::\u5F53\u524D\u5F55\u97F3\u7531\u539F\u751F\u5F55\u97F3\u63D2\u4EF6\u63D0\u4F9B\u652F\u6301","_appStart","__xYRb","__UniMainReceiveBigBytes","onProcess_renderjs","PUBLIC_DOWNLOADS","__uniAppReqComponentId","onwrite","arraybuffer","UniMainCallBack","start_renderjs","buffer","getWebviewById","TGMm::\u63D0\u4F9B\u7684RecordApp.UniNativeUtsPlugin\u503C\u4E0D\u662FRecordApp\u7684uts\u539F\u751F\u5F55\u97F3\u63D2\u4EF6","$scope",'"@/uni_modules/Recorder-UniCore/',"parentNode","UniFindCanvas","AllStart_Clean","Bjx9::\u65E0\u6CD5\u8C03\u7528Start\uFF1A","setStorageSync","$root","appendChild","height","__uniNP","style","miniProgram-wx","getSystemInfoSync",`(function(){
			var stopFn=`,"var set=","RecorderUtsPlugin","nativePlugin","GwCz::RecordApp.UniWebViewActivate \u9700\u8981\u4F20\u5165\u5F53\u524D\u9875\u9762\u6216\u7EC4\u4EF6\u7684this\u5BF9\u8C61\u4F5C\u4E3A\u53C2\u6570","byzO::\u672A\u5F00\u59CB\u5F55\u97F3\uFF0C\u4F46\u6536\u5230UniNativeUtsPlugin PCM\u6570\u636E",`),mOffset:0};
			var buf=new Uint8Array(RecordApp.UniAtob("`,"select","recordStart","AVAudioSession","subarray",`);
	})()`,"requireNativePlugin","recEncodeChunk","__Rec","UniWebViewActivate","el2","lU1W::\u5F53\u524D\u4E0D\u662FApp\u903B\u8F91\u5C42","srcSampleRate","jsCall","getAttribute","exec","subscribe","BjGP::\u672A\u5F00\u59CB\u5F55\u97F3\uFF0C\u4F46\u6536\u5230Uni Native PCM\u6570\u636E","createSelectorQuery","stop_renderjs","\u7684\u5546\u7528\u6388\u6743","bigBytes_start","AGd7::\u9700\u8981\u5148\u8C03\u7528RecordApp.UniWebViewActivate\u65B9\u6CD5","TPhg::\u4E0D\u5E94\u5F53\u51FA\u73B0\u7684\u975EH5\u5F55\u97F3Stop","recSet_bit",`;
		var startFn=`,"0FGq::\u672A\u5F00\u59CB\u5F55\u97F3\uFF0C\u4E0D\u53EF\u4EE5\u8C03\u7528{1}","118731lqCFoi","takeoffEncodeChunk",'RecordApp.UniNativeRecordReceivePCM("',"dataId","UniApp-Main","11RvLazV","unknown","Ruxl::plus.android\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\uFF1A\u65E0\u6743\u9650","mainID","denied ","node",`",ok:1};
			if(!err && !window.RecordApp){
				err=`,"UniSaveLocalFile","2079459LTrVAx","ownerId","Uc9E::RecordApp.UniRenderjsRegister \u53D1\u751F\u4E0D\u5E94\u8BE5\u51FA\u73B0\u7684\u9519\u8BEF\uFF08\u53EF\u80FD\u9700\u8981\u5347\u7EA7\u63D2\u4EF6\u4EE3\u7801\uFF09\uFF1A","_X3Ij_alive","ipB3::RecordApp.UniWebViewActivate \u53D1\u751F\u4E0D\u5E94\u8BE5\u51FA\u73B0\u7684\u9519\u8BEF\uFF08\u53EF\u80FD\u9700\u8981\u5347\u7EA7\u63D2\u4EF6\u4EE3\u7801\uFF09\uFF1A","deleteObject","ksoA::\u65E0\u6CD5\u8C03\u7528RequestPermission\uFF1A","Rec_WvCid","show","wvCid","$page","rec","__UniData","\u5728uni-app\u4E2D\u7F16\u8BD1\u5230App\u5E73\u53F0\u65F6\u4EC5\u4F9B\u6D4B\u8BD5\u7528\uFF0C\u4E0D\u53EF\u7528\u4E8E\u6B63\u5F0F\u53D1\u5E03\u6216\u5546\u7528\uFF0C\u6B63\u5F0F\u53D1\u5E03\u6216\u5546\u7528\u9700\u5148\u8054\u7CFB\u4F5C\u8005\u83B7\u5F97\u6388\u6743\u8BB8\u53EF\uFF08\u7F16\u8BD1\u5230\u5176\u4ED6\u5E73\u53F0\u65F6\u65E0\u6B64\u6388\u6743\u9650\u5236\uFF0C\u6BD4\u5982\uFF1AH5\u3001\u5C0F\u7A0B\u5E8F\uFF0C\u5747\u4E3A\u514D\u8D39\u6388\u6743\uFF09\u3002\u672C\u5BF9\u8BDD\u6846\u4EC5\u5728\u7B2C\u4E00\u6B21\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\u65F6\u4F1A\u5F39\u51FA\u4E00\u6B21\uFF0C\u5982\u4F55\u53BB\u9664\u672C\u5F39\u6846\u3001\u5982\u4F55\u83B7\u53D6\u5546\u7528\u6388\u6743\u3001\u66F4\u591A\u4FE1\u606F\u8BF7\u770B\u63A7\u5236\u53F0\u65E5\u5FD7",`=el2;
			`,"max","requestRecordPermission","@act",`;
			var clear=`,"__UniWvCid","gomD::\u4E0D\u5E94\u8BE5\u51FA\u73B0\u7684renderjs\u53D1\u56DE\u7684\u6587\u4EF6\u6570\u636E\u4E22\u5931",`;
			}
			if(err){
				val.ok=0; val.errMsg=err;
			}
			UniViewJSBridge.publishHandler("`,"sampleRate",`",ok:1,recSet_sr:recSet.sampleRate,recSet_bit:recSet.bitRate,dataId:dataId,duration:duration,mime:mime});
				},errFn);
			},errFn);
		})()`,"__Sync","VsdN::\u9700\u91CD\u65B0\u8C03\u7528RecordApp.RequestPermission\u65B9\u6CD5","XCMU::\u9700\u5148\u8C03\u7528RecordApp.UniWebViewActivate\uFF0C\u7136\u540E\u624D\u53EF\u4EE5\u8C03\u7528Start","276ZePydw","l7WP::\u7528\u6237\u62D2\u7EDD\u4E86\u5F55\u97F3\u6743\u9650","test","requestPermissions","Pause","Start","MujG::\u53EA\u5141\u8BB8\u5728renderjs\u4E2D\u8C03\u7528RecordApp.UniWebViewSendBigBytesToMain","uts","nativeToRjs","sharedInstance","2nlUyJq","granted","slice",`",vm=RecordApp.__uniWvCallVm;
		if(!vm || RecordApp.__uniWvCallWvCid!=wvCid){
			if(!RecordApp.__UniData[wvCid]){ RecordApp.CLog("renderjs\u4E2D\u7684mounted\u5185\u9700\u8981\u8C03\u7528RecordApp.UniRenderjsRegister",1); return; }
			var el=document.querySelector("[rec_wv_cid_key='"+wvCid+"']");
			vm=el&&el.__rModule;
			if(!vm){ RecordApp.CLog("\u6CA1\u6709\u627E\u5230\u7EC4\u4EF6\u7684renderjs\u6A21\u5757 WvCid="+wvCid,1); return; }
			RecordApp.__uniWvCallVm=vm;
			RecordApp.__uniWvCallWvCid=wvCid;
		}; (function(){ var This=this;
			`,"RecApp Renderjs","memory","7ot0::\u9700\u5148\u8C03\u7528RecordApp.RequestPermission\u65B9\u6CD5","showModal","UniAppUseNative","unsubscribe","__hasWvActivate","pcm_sum","Y3rC::\u6B63\u5728\u8C03\u7528plus.ios@AVAudioSession\u8BF7\u6C42iOS\u539F\u751F\u5F55\u97F3\u6743\u9650","length","action=","$getAppWebview","recSet_sr","writeAsBinary","UniWithoutAppRenderjs","stop","$el","_$id",`",errMsg:errMsg});
			};
			RecordApp.Stop(clear?null:function(arrBuf,duration,mime){
				stopFn&&stopFn.apply(This,arguments);
				var recSet=RecordApp.__Rec.set,t1=Date.now();
				RecordApp.CLog("\u5F00\u59CB\u4F20\u8F93"+arrBuf.byteLength+"\u5B57\u8282\u7684\u6570\u636E\u56DE\u903B\u8F91\u5C42\uFF0C\u53EF\u80FD\u4F1A\u6BD4\u8F83\u6162\uFF0C\u63A8\u8350\u4F7F\u7528takeoffEncodeChunk\u5B9E\u65F6\u83B7\u53D6\u97F3\u9891\u6587\u4EF6\u6570\u636E\u53EF\u907F\u514DStop\u65F6\u4EA7\u751F\u8D85\u5927\u6570\u636E\u56DE\u4F20");
				RecordApp.UniWebViewSendBigBytesToMain(arrBuf,function(dataId){//\u6570\u636E\u53EF\u80FD\u5F88\u5927
					RecordApp.CLog("\u5B8C\u6210\u4F20\u8F93"+arrBuf.byteLength+"\u5B57\u8282\u7684\u6570\u636E\u56DE\u903B\u8F91\u5C42\uFF0C\u8017\u65F6"+(Date.now()-t1)+"ms");
					RecordApp.UniWebViewSendToMain({action:"`,"createWriter","recProcess","UqfI::\u4FDD\u5B58\u6587\u4EF6{1}\u5931\u8D25\uFF1A","importClass","isUserNotAllow","UniWebViewSendToMain","recordPermission","__uniAppWebView","Resume","peIm::\u5F53\u524D\u8FD8\u672A\u8C03\u7528\u8FC7RecordApp.UniWebViewActivate","evalJS","S3eF::\u672A\u627E\u5230\u5F53\u524D\u9875\u9762renderjs\u6240\u5728\u7684WebView\uFF0C\u5982\u679C\u786E\u5B9E\u6CA1\u6709renderjs\uFF0C\u8BF7\u8BBE\u7F6ERecordApp.UniWithoutAppRenderjs=true","TtoS::\uFF0C\u4E0D\u53EF\u4EE5\u8C03\u7528RecordApp.UniWebViewVueCall","0hyi::\u5F53\u524DRecordApp\u8FD0\u884C\u5728renderjs\u6240\u5728\u7684WebView\u4E2D\uFF08\u903B\u8F91\u5C42\u4E2D\u53EA\u80FD\u505A\u6709\u9650\u7684\u5B9E\u65F6\u5904\u7406\uFF0C\u53EF\u89C6\u5316\u7B49\u63D2\u4EF6\u5747\u9700\u8981\u5728renderjs\u4E2D\u8FDB\u884C\u8C03\u7528\uFF09","0caE::\u7528\u6237\u62D2\u7EDD\u4E86\u5F55\u97F3\u6743\u9650","YP4V::\u672A\u5F00\u59CB\u5F55\u97F3",`(function(){
			RecordApp.UniAppUseNative=`,"__uniAppComponentId","Incorrect sync status","\u5728uni-app\u4E2D\u7F16\u8BD1\u5230App\u5E73\u53F0\u65F6\u4EC5\u4F9B\u6D4B\u8BD5\u7528\uFF08App\u5E73\u53F0\u5305\u62EC\uFF1AAndroid App\u3001iOS App\uFF09\uFF0C\u4E0D\u53EF\u7528\u4E8E\u6B63\u5F0F\u53D1\u5E03\u6216\u5546\u7528\uFF0C\u6B63\u5F0F\u53D1\u5E03\u6216\u5546\u7528\u9700\u5148\u8054\u7CFB\u4F5C\u8005\u83B7\u53D6\u5230\u5546\u7528\u6388\u6743\u8BB8\u53EF\uFF08\u7F16\u8BD1\u5230\u5176\u4ED6\u5E73\u53F0\u65F6\u65E0\u6B64\u6388\u6743\u9650\u5236\uFF0C\u6BD4\u5982\uFF1AH5\u3001\u5C0F\u7A0B\u5E8F\uFF0C\u5747\u4E3A\u514D\u8D39\u6388\u6743\uFF09\u3002\u672A\u83B7\u5F97\u6388\u6743\u65F6\uFF0C\u5728App\u6253\u5F00\u540E\u7B2C\u4E00\u6B21\u8C03\u7528RecordApp.RequestPermission\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\u65F6\uFF0C\u4F1A\u5148\u5F39\u51FA\u5546\u7528\u6388\u6743\u63D0\u793A\u6846\uFF1B\u83B7\u53D6\u5230\u6388\u6743\u8BB8\u53EF\u540E\uFF0C\u8BF7\u5728\u8C03\u7528RequestPermission\u524D\u8BBE\u7F6E RecordApp.UniAppUseLicense='","webview","6Iql::\u672A\u627E\u5230\u6B64\u9875\u9762renderjs\u6240\u5728\u7684WebView Cid","yI24::RecordApp.UniFindCanvas\u672A\u9002\u914D\u5F53\u524D\u73AF\u5883","RXs7::\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u4E2D\u9700\u8981\uFF1A{1}","!id || !cid","rSLO::\u4E0D\u5E94\u5F53\u51FA\u73B0\u7684\u975EH5\u5F55\u97F3Start","android_audioSource","mSbR::\u5F53\u524D\u8FD8\u672A\u8C03\u7528\u8FC7RecordApp.UniWebViewActivate","Key","ZHwv::[MainReceive]\u4ECErenderjs\u53D1\u56DE\u672A\u77E5\u6570\u636E\uFF1A","none","getFile","type","igw2::\uFF0C\u4E0D\u53EF\u4EE5\u8C03\u7528RecordApp.UniWebViewEval","7kJS::RecordApp.UniRenderjsRegister \u5DF2\u6CE8\u518C\u5F53\u524D\u9875\u9762renderjs\u6A21\u5757",`
		}).call(vm);
	})()`,"Stop",`",ok:1});
		},function(errMsg){
			RecordApp.UniWebViewSendToMain({action:"`,"display","SCW9::\u914D\u7F6E\u4E86RecordApp.UniNativeUtsPlugin\uFF0C\u4F46\u5F53\u524DApp\u672A\u6253\u5305\u8FDB\u539F\u751F\u5F55\u97F3\u63D2\u4EF6[{1}]","__rModule","success",`";
				var els=this.$ownerInstance.$el.querySelectorAll(cls+" canvas"),el=els[0],el2=els[1];
				if(!el){
					RecordApp.CLog(Recorder.i18n.$T("dzX0::\u672A\u627E\u5230Canvas\uFF1A{1}\uFF0C\u8BF7\u786E\u4FDD\u6B64DOM\u5DF2\u6302\u8F7D\uFF08\u53EF\u5C1D\u8BD5\u7528$nextTick\u7B49\u5F85DOM\u66F4\u65B0\uFF09",0,cls),1);
				}else if(!el2){
					el.style.display="none";
					el2=document.createElement("canvas");
					el2.setAttribute("el2","1"); el2.style.width=el2.style.height="100%";
					el.parentNode.appendChild(el2);
				}else if(!el2.getAttribute("el2")){
					el2=el;
				}
				var canvas`,"createElement"])})(Z,Se,0,ce.$T,Be)}else O1("error","at uni_modules/Recorder-UniCore/app-uni-support.js:36",`\u9700\u8981\u5148\u5F15\u5165RecordApp\uFF0C\u8BF7\u6309\u4E0B\u9762\u4EE3\u7801\u5F15\u5165\uFF1A
1. \u9879\u76EE\u6839\u76EE\u5F55 npm install recorder-core
2. \u9875\u9762\u4E2D\u6309\u987A\u5E8Fimport
import Recorder from 'recorder-core'
import RecordApp from 'recorder-core/src/app-support/app.js'
import \u4F60\u9700\u8981\u7684\u97F3\u9891\u683C\u5F0F\u7F16\u7801\u5668\u3001\u53EF\u89C6\u5316\u63D2\u4EF6
\u53C2\u8003\u6587\u6863\uFF1A`+Z)})();var Dt=null,Pt={components:{TestPlayer:Nt},data(){return{recType:"mp3",recSampleRate:16e3,recBitRate:16,recpowerx:"0px",recpowert:"",reclogs:[]}},mounted(){y1.Current=null,y1.UniWithoutAppRenderjs=!0,y1.UniNativeUtsPlugin=Dt,this.reclog("\u6B63\u5728\u6267\u884CInstall\uFF0C\u8BF7\u52FF\u64CD\u4F5C...","#f60"),y1.Install(()=>{this.reclog("Install\u6210\u529F\uFF0C\u73AF\u5883\uFF1A"+y1.Current.Key,2),this.reclog("\u8BF7\u5148\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\uFF0C\u7136\u540E\u518D\u5F00\u59CB\u5F55\u97F3")},z=>{this.reclog("RecordApp.Install\u51FA\u9519\uFF1A"+z,1)})},unmounted(){var z="unmounted";y1.Stop(null,()=>{y1.Current=null,y1.UniWithoutAppRenderjs=!1,y1.UniNativeUtsPlugin=null,O1("log","at pages/recTest/page_nvue.nvue:138",z+" \u5DF2\u6062\u590D\u73AF\u5883")})},methods:{recReq(){this.reclog("\u6B63\u5728\u8BF7\u6C42\u5F55\u97F3\u6743\u9650..."),y1.RequestPermission(()=>{this.reclog(y1.Current.Key+" \u5DF2\u83B7\u5F97\u5F55\u97F3\u6743\u9650\uFF0C\u53EF\u4EE5\u5F00\u59CB\u5F55\u97F3\u4E86",2)},(z,Be)=>{this.reclog((y1.Current&&y1.Current.Key||"[?]")+(Be?"isUserNotAllow,":"")+"\u8BF7\u6C42\u5F55\u97F3\u6743\u9650\u5931\u8D25\uFF1A"+z,1),y1.UniNativeUtsPlugin||this.reclog("\u672C\u9875\u9762\u7684\u6E90\u7801\u4E2D\u672A\u5F15\u5165\u539F\u751F\u5F55\u97F3\u63D2\u4EF6\u6216uts\u63D2\u4EF6\uFF0C\u8BF7\u5148\u4FEE\u6539\u672C\u9875\u9762\u6E90\u7801\u540E\u518D\u6D4B\u8BD5\uFF1A\u5230`import * as RecUtsPlugin from ...`\u8FD9\u6BB5\u4EE3\u7801\uFF0C\u6839\u636E\u6CE8\u91CA\u91CC\u9762\u7684\u63D0\u793A\u5F15\u5165\u63D2\u4EF6","#fa0")})},recStart(){this.$refs.player.setPlayBytes(null),this.reclog(y1.Current.Key+" \u6B63\u5728\u6253\u5F00..."),y1.Start({type:this.recType,sampleRate:+this.recSampleRate,bitRate:+this.recBitRate,onProcess:(z,Be,Ae,Z,Se,ce)=>{this.recpowerx=~~(300*Be/100)+"px",this.recpowert=this.formatTime(Ae,1)+" / "+Be},takeoffEncodeChunk:this.takeoffEncodeChunkSet?z=>{}:null},()=>{this.reclog(y1.Current.Key+" \u5F55\u5236\u4E2D\uFF1A"+this.recType+" "+this.recSampleRate+" "+this.recBitRate+"kbps",2)},z=>{this.reclog(y1.Current.Key+" \u5F00\u59CB\u5F55\u97F3\u5931\u8D25\uFF1A"+z,1)})},recPause(){y1.GetCurrentRecOrNull()&&(y1.Pause(),this.reclog("\u5DF2\u6682\u505C"))},recResume(){y1.GetCurrentRecOrNull()&&(y1.Resume(),this.reclog("\u7EE7\u7EED\u5F55\u97F3\u4E2D..."))},recStop(){this.reclog("\u6B63\u5728\u7ED3\u675F\u5F55\u97F3..."),y1.Stop((z,Be,Ae)=>{var Z=(y1.GetCurrentRecOrNull()||{set:{type:this.recType}}).set;this.reclog("\u5DF2\u5F55\u5236["+Ae+"]\uFF1A"+this.formatTime(Be,1)+" "+z.byteLength+"\u5B57\u8282 "+Z.sampleRate+"hz "+Z.bitRate+"kbps",2),this.$refs.player.useNvuePlayer=!0,this.$refs.player.setPlayBytes(z,"",Be,Ae,Z,Ut)},z=>{this.reclog("\u7ED3\u675F\u5F55\u97F3\u5931\u8D25\uFF1A"+z,1)})},reclog(z,Be){var Ae=new Date,Z=("0"+Ae.getHours()).substr(-2)+":"+("0"+Ae.getMinutes()).substr(-2)+":"+("0"+Ae.getSeconds()).substr(-2),Se="["+Z+"]"+z;O1("log","at pages/recTest/page_nvue.nvue:224",Se),this.reclogs.splice(0,0,{txt:Se,color:Be})},formatTime(z,Be){var Ae=z%1e3;z=(z-Ae)/1e3;var Z=z%60;z=(z-Z)/60;var Se=z%60;z=(z-Se)/60;var ce=z,K="";return ce>0&&(K+=(ce<10?"0":"")+ce+":"),K+=(Se<10?"0":"")+Se+":",K+=(Z<10?"0":"")+Z,Be&&(K+="\u2033"+("00"+Ae).substr(-3)),K}}};function Ft(z,Be,Ae,Z,Se,ce){let K=(0,$.resolveComponent)("button"),Ce=(0,$.resolveComponent)("TestPlayer");return(0,$.openBlock)(),(0,$.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("view",{style:{padding:"5px 10px 0"}},[(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-text",{style:{"font-size":"24px",color:"#0b1"}},"\u5728nvue\u539F\u751F\u9875\u9762\u4E2D\u5F55\u97F3")]),(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-text",{style:{"font-size":"13px",color:"#f60"}},"App\u4E2D\u7531\u4E8Envue\u539F\u751F\u9875\u9762\u6CA1\u6709\u50CFvue\u9875\u9762\u4E2Drenderjs\u4E00\u6837\u7684WebView\u73AF\u5883\uFF0C\u65E0\u6CD5\u76F4\u63A5\u7531Recorder H5\u6765\u63D0\u4F9B\u5F55\u97F3\u652F\u6301\uFF0C\u56E0\u6B64RecordApp\u9700\u8981\u642D\u914D\u4F7F\u7528\u539F\u751F\u5F55\u97F3\u63D2\u4EF6\u6216uts\u63D2\u4EF6\u6765\u8FDB\u884C\u5F55\u97F3\u3002\u672C\u9875\u9762\u7F16\u8BD1\u6210H5\u65F6\u4F9D\u65E7\u4F7F\u7528Recorder H5\u8FDB\u884C\u5F55\u97F3\u3002")])]),(0,$.createElementVNode)("view",{style:{display:"flex","flex-direction":"row",padding:"10px 10px 0"}},[(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-text",null,"\u7C7B\u578B\uFF1A"+(0,$.toDisplayString)(Se.recType),1)]),(0,$.createElementVNode)("view",{style:{width:"10px"}}),(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-text",null,"\u91C7\u6837\u7387\uFF1A")]),(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-input",{type:"number",modelValue:Se.recSampleRate,onInput:Be[0]||(Be[0]=Ze=>Se.recSampleRate=Ze.detail.value),style:{width:"60px",display:"inline-block",border:"1px solid #ddd"}},null,40,["modelValue"])]),(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-text",null,"hz")]),(0,$.createElementVNode)("view",{style:{width:"10px"}}),(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-text",null,"\u6BD4\u7279\u7387\uFF1A")]),(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-input",{type:"number",modelValue:Se.recBitRate,onInput:Be[1]||(Be[1]=Ze=>Se.recBitRate=Ze.detail.value),style:{width:"60px",display:"inline-block",border:"1px solid #ddd"}},null,40,["modelValue"])]),(0,$.createElementVNode)("view",null,[(0,$.createElementVNode)("u-text",null,"kbps")])]),(0,$.createElementVNode)("view",{style:{display:"flex","flex-direction":"row","padding-top":"10px"}},[(0,$.createElementVNode)("view",{style:{width:"10px"}}),(0,$.createElementVNode)("view",{style:{flex:"1"}},[(0,$.createVNode)(K,{type:"warn",onClick:ce.recReq,style:{"font-size":"16px",padding:"0"}},{default:(0,$.withCtx)(()=>[(0,$.createTextVNode)("\u8BF7\u6C42\u5F55\u97F3\u6743\u9650")]),_:1},8,["onClick"])]),(0,$.createElementVNode)("view",{style:{width:"10px"}}),(0,$.createElementVNode)("view",{style:{flex:"1"}},[(0,$.createVNode)(K,{type:"primary",onClick:ce.recStart,style:{"font-size":"16px",padding:"0"}},{default:(0,$.withCtx)(()=>[(0,$.createTextVNode)("\u5F00\u59CB\u5F55\u97F3")]),_:1},8,["onClick"])]),(0,$.createElementVNode)("view",{style:{width:"10px"}}),(0,$.createElementVNode)("view",{style:{flex:"1"}},[(0,$.createVNode)(K,{onClick:ce.recStop,style:{"font-size":"16px",padding:"0"}},{default:(0,$.withCtx)(()=>[(0,$.createTextVNode)("\u505C\u6B62\u5F55\u97F3")]),_:1},8,["onClick"])]),(0,$.createElementVNode)("view",{style:{width:"10px"}})]),(0,$.createElementVNode)("view",{style:{display:"flex","flex-direction":"row",padding:"10px 10px 0"}},[(0,$.createVNode)(K,{size:"mini",type:"default",onClick:ce.recPause},{default:(0,$.withCtx)(()=>[(0,$.createTextVNode)("\u6682\u505C")]),_:1},8,["onClick"]),(0,$.createVNode)(K,{size:"mini",type:"default",onClick:ce.recResume},{default:(0,$.withCtx)(()=>[(0,$.createTextVNode)("\u7EE7\u7EED")]),_:1},8,["onClick"]),(0,$.createElementVNode)("view",{style:{flex:"1"}})]),(0,$.createElementVNode)("view",{style:{padding:"5px 0 0 10px"}},[(0,$.createElementVNode)("view",{style:{height:"40px",width:"300px",background:"#999",position:"relative"}},[(0,$.createElementVNode)("view",{style:(0,$.normalizeStyle)([{height:"40px",background:"#0B1",position:"absolute"},{width:Se.recpowerx}])},null,4),(0,$.createElementVNode)("view",{style:{"padding-left":"50px",position:"relative"}},[(0,$.createElementVNode)("u-text",{style:{"line-height":"40px"}},(0,$.toDisplayString)(Se.recpowert),1)])]),(0,$.createElementVNode)("view",{style:{"padding-top":"5px"}}),(0,$.createElementVNode)("view",{class:"recwave"},[(0,$.createElementVNode)("u-text",{style:{color:"#999","font-size":"12px"}},"\u4E0D\u80FD\u663E\u793A\u53EF\u89C6\u5316\u6CE2\u5F62\uFF0C\u56E0\u4E3A\u9700\u8981\u63D0\u4F9B\u517C\u5BB9H5\u7684canvas\uFF0Cnvue\u91CC\u9762\u6CA1\u6709\u8FD9\u79CDcanvas")])]),(0,$.createElementVNode)("view",{style:{"padding-top":"10px"}},[(0,$.createVNode)(Ce,{ref:"player"},null,512)]),(0,$.createElementVNode)("view",{style:{"padding-top":"10px"}},[((0,$.openBlock)(!0),(0,$.createElementBlock)($.Fragment,null,(0,$.renderList)(Se.reclogs,Ze=>((0,$.openBlock)(),(0,$.createElementBlock)("view",{key:Ze.idx,style:{"border-bottom":"1px dashed #666",padding:"5px 0"}},[(0,$.createElementVNode)("u-text",{style:(0,$.normalizeStyle)({fontSize:"16px",color:Ze.color==1?"red":Ze.color==2?"green":Ze.color})},(0,$.toDisplayString)(Ze.txt),5)]))),128))])])])}var Y1=wt(Pt,[["render",Ft]]);var rt=plus.webview.currentWebview();if(rt){let z=parseInt(rt.id),Be="pages/recTest/page_nvue",Ae={};try{Ae=JSON.parse(rt.__query__)}catch(Se){}Y1.mpType="page";let Z=Vue.createPageApp(Y1,{$store:getApp({allowDefault:!0}).$store,__pageId:z,__pagePath:Be,__pageQuery:Ae});Z.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...Y1.styles||[]])),Z.mount("#root")}})();
