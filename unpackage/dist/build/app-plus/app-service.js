if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e,t){"use strict";const a=(e,t)=>{const a=e.__vccOpts||e;for(const[o,n]of t)a[o]=n;return a};const o=a({name:"homeHead",data:()=>({})},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"home-head"},[e.createElementVNode("image",{class:"home-icon",src:"/static/homepage/image.png"}),e.createElementVNode("text",{class:"home-title"},"明道-掌上之眼助慧行")])])}],["__scopeId","data-v-dda48245"]]);function n(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}function r(e,a){return t.isString(e)?a:e}class s{constructor(e,t){this.options=e,this.animation=uni.createAnimation({...e}),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let a=this.currentStepAnimates[this.next],o={};if(o=a||{styles:{},config:{}},i.includes(e)){o.styles.transform||(o.styles.transform="");let a="";"rotate"===e&&(a="deg"),o.styles.transform+=`${e}(${t+a}) `}else o.styles[e]=`${t}`;this.currentStepAnimates[this.next]=o}_animateRun(e={},t={}){let a=this.$.$refs.ani.ref;if(a)return new Promise(((o,n)=>{nvueAnimation.transition(a,{styles:e,...t},(e=>{o()}))}))}_nvueNextAnimate(e,t=0,a){let o=e[t];if(o){let{styles:n,config:r}=o;this._animateRun(n,r).then((()=>{t+=1,this._nvueNextAnimate(e,t,a)}))}else this.currentStepAnimates={},"function"==typeof a&&a(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const i=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function c(e,t){if(t)return clearTimeout(t.timer),new s(e,t)}i.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{s.prototype[e]=function(...t){return this.animation[e](...t),this}}));const l=a({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e={...this.styles,"transition-duration":this.duration/1e3+"s"},t="";for(let a in e){t+=this.toLine(a)+":"+e[a]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=c(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let t in e)try{"object"==typeof e[t]?this.animation[t](...e[t]):this.animation[t](e[t])}catch(a){n("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:148",`方法 ${t} 不存在`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=c(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},a=(e,a)=>{"fade"===a?t.opacity=this.animationType(e)[a]:t.transform+=this.animationType(e)[a]+" "};return"string"==typeof this.modeClass?a(e,this.modeClass):this.modeClass.forEach((t=>{a(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let a=null;"fade"===t?a=e?0:1:(a=e?"-100%":"0","zoom-in"===t&&(a=e?.8:1),"zoom-out"===t&&(a=e?1.2:1),"slide-right"===t&&(a=e?"100%":"0"),"slide-bottom"===t&&(a=e?"100%":"0")),this.animation[this.animationMode()[t]](a)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((a=>{t(e,a)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,a,o,n,r,s){return e.withDirectives((e.openBlock(),e.createElementBlock("view",{ref:"ani",animation:r.animationData,class:e.normalizeClass(o.customClass),style:e.normalizeStyle(s.transformStyles),onClick:a[0]||(a[0]=(...e)=>s.onClick&&s.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])),[[e.vShow,r.isShow]])}]]);const p=a({name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},borderRadius:{type:String}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup(e){}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{backgroundColor:"transparent",borderRadius:this.borderRadius||"0",position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},computed:{getStyles(){let e={backgroundColor:this.bg};return this.borderRadius,e=Object.assign(e,{borderRadius:this.borderRadius}),e},isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:e,windowHeight:t,windowTop:a,safeArea:o,screenHeight:n,safeAreaInsets:r}=uni.getSystemInfoSync();this.popupWidth=e,this.popupHeight=t+(a||0),o&&this.safeArea?this.safeAreaInsets=r.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},activated(){this.setH5Visible(!this.showPopup)},deactivated(){this.setH5Visible(!0)},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(e=!0){},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){if(this.showPopup)return;e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):n("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:298","缺少类型：",e)},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center",borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("uni-transition"),l);return s.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-popup",[s.popupstyle,i.isDesktop?"fixforpc-z-index":""]])},[e.createElementVNode("view",{onTouchstart:a[1]||(a[1]=(...e)=>i.touchstart&&i.touchstart(...e))},[s.maskShow?(e.openBlock(),e.createBlock(c,{key:"1",name:"mask","mode-class":"fade",styles:s.maskClass,duration:s.duration,show:s.showTrans,onClick:i.onTap},null,8,["styles","duration","show","onClick"])):e.createCommentVNode("",!0),e.createVNode(c,{key:"2","mode-class":s.ani,name:"content",styles:s.transClass,duration:s.duration,show:s.showTrans,onClick:i.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup__wrapper",[s.popupstyle]]),style:e.normalizeStyle(i.getStyles),onClick:a[0]||(a[0]=(...e)=>i.clear&&i.clear(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)])),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],2)):e.createCommentVNode("",!0)}],["__scopeId","data-v-ee521468"]]),u=uni.createInnerAudioContext();u.autoplay=!1,u.src="";const d=a({name:"homeFoot",data:()=>({chatMsg:"",holding:!0,recoging:!1,holderText:"正在听，请说出你的问题...",recogText:""}),methods:{TestPage(){uni.navigateTo({url:"/pages/test/test"})},navigateHome(){let e=getCurrentPages(),t=e[e.length-1].route;const a="/pages/index/index";n("log","at components/home-foot/home-foot.vue:58",t,a),a!=t&&uni.navigateTo({url:a})},navigatePerson(){let e=getCurrentPages(),t=e[e.length-1].route;const a="/pages/personal/personal";n("log","at components/home-foot/home-foot.vue:68",t,a),a!=t&&uni.navigateTo({url:a})},assist(){const e=getCurrentPages();n("log","at components/home-foot/home-foot.vue:79",e[e.length-1]),this.recoging=!1,this.holding=!0,this.holderText="正在听，请说出你的问题...",this.$refs.popup.open(),n("log","at components/home-foot/home-foot.vue:86","开始录音"),recorderManager.start()},stopMic(){var e=this;n("log","at components/home-foot/home-foot.vue:91","录音结束"),this.holderText="正在识别...",recorderManager.stop(),recorderManager.onStop((function(t){n("log","at components/home-foot/home-foot.vue:95",JSON.stringify(t)),uni.uploadFile({url:"http://8.137.38.90:8000/speechtotext",filePath:t.tempFilePath,name:"mp3",formData:{},success:t=>{n("log","at components/home-foot/home-foot.vue:102","上传成功："+JSON.stringify(t));const a=JSON.parse(t.data);e.chatMsg=a.text,e.close()},fail:t=>{n("error","at components/home-foot/home-foot.vue:107","上传录音失败："+t),e.close()}})}))},close(){const e=getCurrentPages();n("log","at components/home-foot/home-foot.vue:116",e[e.length-1]);var t=-1;const a=["/pages/smart-travel/smart-travel","/pages/photo-recog/photo_nvue","/pages/smart-chat/smart-chat","/pages/assist-read/photo_nvue"];if(this.recoging=!0,this.holding=!1,this.chatMsg.includes("出行"))this.recogText="即将为你打开智能出行...",t=0;else if(this.chatMsg.includes("识图")||this.chatMsg.includes("拍照"))this.recogText="即将为你打开拍照识图...",t=1;else if(this.chatMsg.includes("助手")||this.chatMsg.includes("健康"))this.recogText="即将为你打开智能健康助手...",t=2;else if(this.chatMsg.includes("阅读"))this.recogText="即将为你打开辅助阅读...",t=3;else{this.recogText="抱歉，我没听清...",setTimeout((()=>{n("log","at components/home-foot/home-foot.vue:142","Timeout Here!"),this.$refs.popup.close()}),5e3);const e=this.recogText,t=encodeURI(e);n("log","at components/home-foot/home-foot.vue:148",t),u.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t\t\t&spd=6&ctp=1&amp&pdt=301&tex="+t,n("log","at components/home-foot/home-foot.vue:151",u.src),u.play(),n("log","at components/home-foot/home-foot.vue:153","play over!!!")}setTimeout((()=>{this.$refs.popup.close(),uni.navigateTo({url:a[t]})}),3e3);const o=this.recogText,r=encodeURI(o);n("log","at components/home-foot/home-foot.vue:166",r),u.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t\t&spd=6&ctp=1&amp&pdt=301&tex="+r,n("log","at components/home-foot/home-foot.vue:169",u.src),u.play(),n("log","at components/home-foot/home-foot.vue:171","play over!!!")}}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("uni-popup"),p);return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("footer",{class:"footer-container"},[e.createElementVNode("div",{class:"footer-parter-left"},[e.createElementVNode("img",{src:"https://img-insight.oss-cn-chengdu.aliyuncs.com/home-icon.png",class:"icon-footer",id:"home-icon",onClick:a[0]||(a[0]=(...e)=>i.navigateHome&&i.navigateHome(...e))}),e.createElementVNode("text",{class:"footer-words",style:{color:"#08DF86"}}," 首页 ")]),e.createElementVNode("div",{class:"footer-parter-center"},[e.createElementVNode("img",{src:"https://img-insight.oss-cn-chengdu.aliyuncs.com/segment.png",class:"icon-footer-center",onTouchstart:a[1]||(a[1]=(...e)=>i.assist&&i.assist(...e)),onTouchend:a[2]||(a[2]=(...e)=>i.close&&i.close(...e))},null,32),e.createElementVNode("text",{class:"footer-words"}," 智能助手 ")]),e.createElementVNode("div",{class:"footer-parter-right"},[e.createElementVNode("img",{src:"https://img-insight.oss-cn-chengdu.aliyuncs.com/user.png",class:"icon-footer",id:"user-icon",onClick:a[3]||(a[3]=(...e)=>i.navigatePerson&&i.navigatePerson(...e))}),e.createElementVNode("text",{class:"footer-words"}," 个人 ")]),e.createVNode(c,{ref:"popup",type:"bottom",class:"popup"},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"popup"},[s.holding?(e.openBlock(),e.createElementBlock("text",{key:0,class:"holderText"},e.toDisplayString(s.holderText),1)):e.createCommentVNode("",!0),s.recoging?(e.openBlock(),e.createElementBlock("text",{key:1,class:"responseText"},e.toDisplayString(s.recogText),1)):e.createCommentVNode("",!0),e.createElementVNode("image",{class:"popup-gif",src:"/static/homepage/sound.gif"})])])),_:1},512)])])}],["__scopeId","data-v-d9ddc0aa"]]);const h=a({data:()=>({holding:!0,recoging:!1}),onLoad(){}},[["render",function(t,a,n,s,i,c){const l=r(e.resolveDynamicComponent("home-head"),o),p=r(e.resolveDynamicComponent("home-foot"),d);return e.openBlock(),e.createElementBlock("view",{class:"main-container"},[e.createVNode(l),e.createElementVNode("div",{class:"content"},[e.createElementVNode("div",{class:"content-first-row"},[e.createElementVNode("navigator",{id:"link-to-smart-travel",url:"/pages/test-camera/cover_nvue"}," 智能出行 "),e.createElementVNode("navigator",{id:"link-to-snap-recognize",url:"/pages/photo-recog/photo_nvue"},[e.createElementVNode("img",{src:"https://img-insight.oss-cn-chengdu.aliyuncs.com/snap-icon.png"}),e.createTextVNode(" 拍照识图 ")])]),e.createElementVNode("div",{class:"content-second-row"},[e.createElementVNode("navigator",{id:"link-to-health-assistant",url:"/pages/smart-chat/smart-chat"},[e.createElementVNode("text",null,"智能健康助手"),e.createElementVNode("image",{src:"https://img-insight.oss-cn-chengdu.aliyuncs.com/poe.png"})]),e.createElementVNode("navigator",{id:"link-to-assist-read",url:"/pages/assist-read/photo_nvue"},[e.createElementVNode("text",null,"辅助阅读"),e.createElementVNode("image",{src:"/static/homepage/book.png"})])])]),e.createVNode(p)])}]]);const m=a({data:()=>({pathList:[{path:"/pages/recTest/native_test",lebal:"测试音频"},{path:"/pages/test-camera/cover_nvue",lebal:"测试摄像头"},{path:"/pages/test_api/test-upload",lebal:"测试API"},{path:"/pages/test-page/test-page",lebal:"测试Page"}]}),methods:{TestPage(e){uni.navigateTo({url:e})}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("div",{class:"container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.pathList,((t,a)=>(e.openBlock(),e.createElementBlock("button",{key:a,onClick:e=>s.TestPage(t.path)},e.toDisplayString(t.lebal),9,["onClick"])))),128))])])}]]);var g,f,v,w={};g={get exports(){return w},set exports(e){w=e}},f="object"==typeof window&&!!window.document,function(e,t){var a=function(){},o=function(e){return"number"==typeof e},r=function(e){return new M(e)},s=r.LM="2023-12-24 18:09",i="https://github.com/xiangyuecn/Recorder",c="Recorder",l="getUserMedia",p="srcSampleRate",u="sampleRate",d="bitRate",h="catch",m=e[c];if(m&&m.LM==s)m.CLog(m.i18n.$T("K8zP::重复导入{1}",0,c),3);else{r.IsOpen=function(){var e=r.Stream;if(e){var t=(e.getTracks&&e.getTracks()||e.audioTracks||[])[0];if(t){var a=t.readyState;return"live"==a||a==t.LIVE}}return!1},r.BufferSize=4096,r.Destroy=function(){for(var e in S(c+" Destroy"),_(),g)g[e]()};var g={};r.BindDestroy=function(e,t){g[e]=t},r.Support=function(){if(!t)return!1;var e=navigator.mediaDevices||{};return e[l]||(e=navigator)[l]||(e[l]=e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia),!!e[l]&&(r.Scope=e,!!r.GetContext())},r.GetContext=function(e){if(!t)return null;var a=window.AudioContext;if(a||(a=window.webkitAudioContext),!a)return null;var o=r.Ctx;if(o&&"closed"!=o.state||(o=r.Ctx=new a,r.NewCtxs=r.NewCtxs||[],r.BindDestroy("Ctx",(function(){var e=r.Ctx;e&&e.close&&(e.close(),r.Ctx=0);var t=r.NewCtxs;r.NewCtxs=[];for(var a=0;a<t.length;a++)t[a].close()}))),e&&o.close)try{o=new a,r.NewCtxs.push(o)}catch(n){S("GetContext tryNew Error",1,n)}return o},r.CloseNewCtx=function(e){if(e&&e!=r.Ctx){e.close&&e.close();for(var t=r.NewCtxs||[],a=t.length,o=0;o<t.length;o++)if(t[o]==e){t.splice(o,1);break}S(B("mSxV::剩{1}个GetContext未close",0,a+"-1="+t.length),t.length?3:0)}};var f=function(e){var t=e.state,a="ctx.state="+t;return"suspended"==t&&(a+=B("nMIy::（注意：ctx不是running状态，rec.open和start至少要有一个在用户操作(触摸、点击等)时进行调用，否则将在rec.start时尝试进行ctx.resume，可能会产生兼容性问题(仅iOS)，请参阅文档中runningContext配置）")),a},v="ConnectEnableWebM";r[v]=!0;var w="ConnectEnableWorklet";r[w]=!1;var y=function(e,t){var a=e.BufferSize||r.BufferSize,o=e.Stream,n=o._RC||o._c||r.GetContext(!0);o._c=n;var s,i,l,p=function(e){var t=o._m=n.createMediaStreamSource(o),a=n.destination,r="createMediaStreamDestination";n[r]&&(a=o._d=n[r]()),t.connect(e),e.connect(a)},d="",m=o._call,g=function(e){for(var t in m){for(var a=e.length,o=new Int16Array(a),n=0,r=0;r<a;r++){var s=Math.max(-1,Math.min(1,e[r]));s=s<0?32768*s:32767*s,o[r]=s,n+=Math.abs(s)}for(var i in m)m[i](o,n);return}},f="ScriptProcessor",y="audioWorklet",b=c+" "+y,_="RecProc",x="MediaRecorder",N=x+".WebM.PCM",V=n.createScriptProcessor||n.createJavaScriptNode,A=B("ZGlf::。由于{1}内部1秒375次回调，在移动端可能会有性能问题导致回调丢失录音变短，PC端无影响，暂不建议开启{1}。",0,y),T=function(){i=o.isWorklet=!1,k(o),S(B("7TU0::Connect采用老的{1}，",0,f)+P.get(r[w]?B("JwCL::但已设置{1}尝试启用{2}",2):B("VGjB::可设置{1}尝试启用{2}",2),[c+"."+w+"=true",y])+d+A,3);var e=o._p=V.call(n,a,1,1);p(e),e.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);g(t)}},R=function(){s=o.isWebM=!1,C(o),i=o.isWorklet=!V||r[w];var e=window.AudioWorkletNode;if(i&&n[y]&&e){var t=function(){var e=function(e){return e.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,b)},t="class "+_+" extends AudioWorkletProcessor{";return t+="constructor "+e((function(e){DEL_super(e);var t=this,a=e.processorOptions.bufferSize;t.bufferSize=a,t.buffer=new Float32Array(2*a),t.pos=0,t.port.onmessage=function(e){e.data.kill&&(t.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",e)})),t+="process "+e((function(e,t,a){var o=this,n=o.bufferSize,r=o.buffer,s=o.pos;if((e=(e[0]||[])[0]||[]).length){r.set(e,s);var i=~~((s+=e.length)/n)*n;if(i){this.port.postMessage({val:r.slice(0,i)});var c=r.subarray(i,s);(r=new Float32Array(2*n)).set(c),s=c.length,o.buffer=r}o.pos=s}return!o.kill})),t=(t+='}try{registerProcessor("'+_+'", '+_+')}catch(e){$C.error("'+b+' Reg Error",e)}').replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(t)))},u=function(){return i&&o._na},v=o._na=function(){""!==l&&(clearTimeout(l),l=setTimeout((function(){l=0,u()&&(S(B("MxX1::{1}未返回任何音频，恢复使用{2}",0,y,f),3),V&&T())}),500))},k=function(){if(u()){var t=o._n=new e(n,_,{processorOptions:{bufferSize:a}});p(t),t.port.onmessage=function(e){l&&(clearTimeout(l),l=""),u()?g(e.data.val):i||S(B("XUap::{1}多余回调",0,y),3)},S(B("yOta::Connect采用{1}，设置{2}可恢复老式{3}",0,y,c+"."+w+"=false",f)+d+A,3)}};n.resume()[m&&"finally"]((function(){if(u())if(n[_])k();else{var e=t();n[y].addModule(e).then((function(e){u()&&(n[_]=1,k(),l&&v())}))[h]((function(e){S(y+".addModule Error",1,e),u()&&T()}))}}))}else T()};!function(){var e=window[x],i="ondataavailable",p="audio/webm; codecs=pcm";s=o.isWebM=r[v];var h=e&&i in e.prototype&&e.isTypeSupported(p);if(d=h?"":B("VwPd::（此浏览器不支持{1}）",0,N),t&&s&&h){var m=function(){return s&&o._ra};o._ra=function(){""!==l&&(clearTimeout(l),l=setTimeout((function(){m()&&(S(B("vHnb::{1}未返回任何音频，降级使用{2}",0,x,y),3),R())}),500))};var w=Object.assign({mimeType:p},r.ConnectWebMOptions),b=o._r=new e(o,w),k=o._rd={sampleRate:n[u]};b[i]=function(e){var t=new FileReader;t.onloadend=function(){if(m()){var e=E(new Uint8Array(t.result),k);if(!e)return;if(-1==e)return void R();l&&(clearTimeout(l),l=""),g(e)}else s||S(B("O9P7::{1}多余回调",0,x),3)},t.readAsArrayBuffer(e.data)},b.start(~~(a/48)),S(B("LMEm::Connect采用{1}，设置{2}可恢复使用{3}或老式{4}",0,N,c+"."+v+"=false",y,f))}else R()}()},b=function(e){e._na&&e._na(),e._ra&&e._ra()},k=function(e){e._na=null,e._n&&(e._n.port.postMessage({kill:!0}),e._n.disconnect(),e._n=null)},C=function(e){e._ra=null,e._r&&(e._r.stop(),e._r=null)},_=function(e){var t=(e=e||r)==r,a=e.Stream;a&&(a._m&&(a._m.disconnect(),a._m=null),!a._RC&&a._c&&r.CloseNewCtx(a._c),a._RC=null,a._c=null,a._d&&(x(a._d.stream),a._d=null),a._p&&(a._p.disconnect(),a._p.onaudioprocess=a._p=null),k(a),C(a),t&&x(a)),e.Stream=0},x=r.StopS_=function(e){for(var t=e.getTracks&&e.getTracks()||e.audioTracks||[],a=0;a<t.length;a++){var o=t[a];o.stop&&o.stop()}e.stop&&e.stop()};r.SampleData=function(e,t,a,o,n){var s="SampleData";o||(o={});var i=o.index||0,c=o.offset||0,l=o.filter;if(l&&l.fn&&l.sr!=t&&(l=null,S(B("d48C::{1}的filter采样率变了，重设滤波",0,s),3)),!l){var p=a>3*t/4?0:a/2*3/4;l={fn:p?r.IIRFilter(!0,t,p):0}}l.sr=t;var u=l.fn,d=o.frameNext||[];n||(n={});var h=n.frameSize||1;n.frameType&&(h="mp3"==n.frameType?1152:1);var m=e.length;i>m+1&&S(B("tlbC::{1}似乎传入了未重置chunk {2}",0,s,i+">"+m),3);for(var g=0,f=i;f<m;f++)g+=e[f].length;g=Math.max(0,g-Math.floor(c));var v=t/a;v>1?g=Math.floor(g/v):(v=1,a=t),g+=d.length;var w=new Int16Array(g),y=0;for(f=0;f<d.length;f++)w[y]=d[f],y++;for(;i<m;i++){for(var b=e[i],k=(f=c,b.length),C=u&&u.Embed,_=0,x=0,N=0,V=0,E=0,A=0;E<k;E++,A++)if(A<k&&(C?(N=b[A],V=C.b0*N+C.b1*C.x1+C.b0*C.x2-C.a1*C.y1-C.a2*C.y2,C.x2=C.x1,C.x1=N,C.y2=C.y1,C.y1=V):V=u?u(b[A]):b[A]),_=x,x=V,0!=A){var T=Math.floor(f);if(E==T){var R=_+((Math.ceil(f)<k?x:_)-_)*(f-T);R>32767?R=32767:R<-32768&&(R=-32768),w[y]=R,y++,f+=v}}else E--;c=Math.max(0,f-k)}d=null;var I=w.length%h;if(I>0){var P=2*(w.length-I);d=new Int16Array(w.buffer.slice(P)),w=new Int16Array(w.buffer.slice(0,P))}return{index:i,offset:c,filter:l,frameNext:d,sampleRate:a,data:w}},r.IIRFilter=function(e,t,a){var o=2*Math.PI*a/t,n=Math.sin(o),r=Math.cos(o),s=n/2,i=1+s,c=-2*r/i,l=(1-s)/i;if(e)var p=(1-r)/2/i,u=(1-r)/i;else p=(1+r)/2/i,u=-(1+r)/i;var d=0,h=0,m=0,g=0,f=0,v=function(e){return m=p*e+u*d+p*h-c*g-l*f,h=d,d=e,f=g,g=m,m};return v.Embed={x1:0,x2:0,y1:0,y2:0,b0:p,b1:u,a1:c,a2:l},v},r.PowerLevel=function(e,t){var a=e/t||0;return a<1251?Math.round(a/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(a/1e4)/Math.log(10)))))},r.PowerDBFS=function(e){var t=Math.max(.1,e||0),a=32767;return t=Math.min(t,a),t=20*Math.log(t/a)/Math.log(10),Math.max(-100,Math.round(t))},r.CLog=function(e,t){if("object"==typeof console){var a=new Date,n=("0"+a.getMinutes()).substr(-2)+":"+("0"+a.getSeconds()).substr(-2)+"."+("00"+a.getMilliseconds()).substr(-3),s=this&&this.envIn&&this.envCheck&&this.id,i=["["+n+" "+c+(s?":"+s:"")+"]"+e],l=arguments,p=r.CLog,u=2,d=p.log||console.log;for(o(t)?d=1==t?p.error||console.error:3==t?p.warn||console.warn:d:u=1;u<l.length;u++)i.push(l[u]);N?d&&d("[IsLoser]"+i[0],i.length>1?i:""):d.apply(console,i)}};var S=function(){r.CLog.apply(this,arguments)},N=!0;try{N=!console.log.apply}catch(D){}var V=0;r.Sync={O:9,C:9},r.prototype=M.prototype={CLog:S,_streamStore:function(){return this.set.sourceStream?this:r},_streamCtx:function(){var e=this._streamStore().Stream;return e&&e._c},open:function(e,o){var n=this,c=n.set,p=n._streamStore(),d=0;e=e||a;var m=function(e,t){t=!!t,n.CLog(B("5tWi::录音open失败：")+e+",isUserNotAllow:"+t,1),d&&r.CloseNewCtx(d),o&&o(e,t)};n._streamTag=l;var g=function(){n.CLog("open ok, id:"+n.id+" stream:"+n._streamTag),e(),n._SO=0},v=p.Sync,w=++v.O,b=v.C;n._O=n._O_=w,n._SO=n._S;var k=function(){if(b!=v.C||!n._O){var e=B("dFm8::open被取消");return w==v.O?n.close():e=B("VtJO::open被中断"),m(e),!0}};if(t){var C=n.envCheck({envName:"H5",canProcess:!0});if(C)m(B("A5bm::不能录音：")+C);else if(c.sourceStream){if(n._streamTag="set.sourceStream",!r.GetContext())return void m(B("1iU7::不支持此浏览器从流中获取录音"));_(p);var x=n.Stream=c.sourceStream;x._RC=c.runningContext,x._call={};try{y(p)}catch(D){return _(p),void m(B("BTW2::从流中打开录音失败：")+D.message)}g()}else{var S=function(e,t){try{window.top.a}catch(D){return void m(B("Nclz::无权录音(跨域，请尝试给iframe添加麦克风访问策略，如{1})",0,'allow="camera;microphone"'))}/Permission|Allow/i.test(e)?m(B("gyO5::用户拒绝了录音权限"),!0):!1===window.isSecureContext?m(B("oWNo::浏览器禁止不安全页面录音，可开启https解决")):/Found/i.test(e)?m(t+B("jBa9::，无可用麦克风")):m(t)};if(r.IsOpen())g();else if(r.Support()){var N=c.runningContext;N||(N=d=r.GetContext(!0));var V=function(e){setTimeout((function(){e._call={};var t=r.Stream;t&&(_(),e._call=t._call),r.Stream=e,e._c=N,e._RC=c.runningContext,k()||(r.IsOpen()?(t&&n.CLog(B("upb8::发现同时多次调用open"),1),y(p,1),g()):m(B("Q1GA::录音功能无效：无音频流")))}),100)},E=function(e){var t=e.name||e.message||e.code+":"+e;n.CLog(B("xEQR::请求录音权限错误"),1,e),S(t,B("bDOG::无法录音：")+t)},A=c.audioTrackSet||{};A[u]=N[u];var T={audio:A};try{var R=r.Scope[l](T,V,E)}catch(D){n.CLog(l,3,D),T={audio:!0},R=r.Scope[l](T,V,E)}n.CLog(l+"("+JSON.stringify(T)+") "+f(N)+B("RiWe::，未配置noiseSuppression和echoCancellation时浏览器可能会自动打开降噪和回声消除，移动端可能会降低系统播放音量（关闭录音后可恢复），请参阅文档中audioTrackSet配置")+"("+i+") LM:"+s+" UA:"+navigator.userAgent),R&&R.then&&R.then(V)[h](E)}else S("",B("COxc::此浏览器不支持录音"))}}else m(B.G("NonBrowser-1",["open"])+B("EMJq::，可尝试使用RecordApp解决方案")+"("+i+"/tree/master/app-support-sample)")},close:function(e){e=e||a;var t=this,o=t._streamStore();t._stop();var n=" stream:"+t._streamTag,r=o.Sync;if(t._O=0,t._O_!=r.O)return t.CLog(B("hWVz::close被忽略（因为同时open了多个rec，只有最后一个会真正close）")+n,3),void e();r.C++,_(o),t.CLog("close,"+n),e()},mock:function(e,t){var a=this;return a._stop(),a.isMock=1,a.mockEnvInfo=null,a.buffers=[e],a.recSize=e.length,a._setSrcSR(t),a._streamTag="mock",a},_setSrcSR:function(e){var t=this,a=t.set,o=a[u];o>e?a[u]=e:o=0,t[p]=e,t.CLog(p+": "+e+" set."+u+": "+a[u]+(o?" "+B("UHvm::忽略")+": "+o:""),o?3:0)},envCheck:function(e){var t,a=this,o=a.set,n="CPU_BE";if(t||r[n]||"function"!=typeof Int8Array||new Int8Array(new Int32Array([1]).buffer)[0]||(U(n),t=B("Essp::不支持{1}架构",0,n)),!t){var s=o.type,i=a[s+"_envCheck"];o.takeoffEncodeChunk&&(i?e.canProcess||(t=B("7uMV::{1}环境不支持实时处理",0,e.envName)):t=B("2XBl::{1}类型不支持设置takeoffEncodeChunk",0,s)+(a[s]?"":B("LG7e::(未加载编码器)"))),!t&&i&&(t=a[s+"_envCheck"](e,o))}return t||""},envStart:function(e,t){var a=this,o=a.set;if(a.isMock=e?1:0,a.mockEnvInfo=e,a.buffers=[],a.recSize=0,e&&(a._streamTag="env$"+e.envName),a.state=1,a.envInLast=0,a.envInFirst=0,a.envInFix=0,a.envInFixTs=[],a._setSrcSR(t),a.engineCtx=0,a[o.type+"_start"]){var n=a.engineCtx=a[o.type+"_start"](o);n&&(n.pcmDatas=[],n.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(e,t){var a=this,o=a.set,s=a.engineCtx;if(1==a.state){var i=a[p],c=e.length,l=r.PowerLevel(t,c),d=a.buffers,h=d.length;d.push(e);var m=d,g=h,f=Date.now(),v=Math.round(c/i*1e3);a.envInLast=f,1==a.buffers.length&&(a.envInFirst=f-v);var w=a.envInFixTs;w.splice(0,0,{t:f,d:v});for(var y=f,b=0,k=0;k<w.length;k++){var C=w[k];if(f-C.t>3e3){w.length=k;break}y=C.t,b+=C.d}var _=w[1],x=f-y;if(x-b>x/3&&(_&&x>1e3||w.length>=6)){var S=f-_.t-v;if(S>v/5){var N=!o.disableEnvInFix;if(a.CLog("["+f+"]"+P.get(B(N?"4Kfd::补偿{1}ms":"bM5i::未补偿{1}ms",1),[S]),3),a.envInFix+=S,N){var V=new Int16Array(S*i/1e3);c+=V.length,d.push(V)}}}var E=a.recSize,A=c,T=E+A;if(a.recSize=T,s){var R=r.SampleData(d,i,o[u],s.chunkInfo);s.chunkInfo=R,T=(E=s.pcmSize)+(A=R.data.length),s.pcmSize=T,d=s.pcmDatas,h=d.length,d.push(R.data),i=R[u]}var I=Math.round(T/i*1e3),U=d.length,M=m.length,L=function(){for(var e=O?0:-A,t=null==d[0],n=h;n<U;n++){var r=d[n];null==r?t=1:(e+=r.length,s&&r.length&&a[o.type+"_encode"](s,r))}if(t&&s)for(n=g,m[0]&&(n=0);n<M;n++)m[n]=null;t&&(e=O?A:0,d[0]=null),s?s.pcmSize+=e:a.recSize+=e},O=0,W="rec.set.onProcess";try{O=o.onProcess(d,l,I,i,h,L)}catch(D){n("error","at node_modules/recorder-core/src/recorder-core.js:1197",W+B("gFUF::回调出错是不允许的，需保证不会抛异常"),D)}var j=Date.now()-f;if(j>10&&a.envInFirst-f>1e3&&a.CLog(W+B("2ghS::低性能，耗时{1}ms",0,j),3),!0===O){var F=0;for(k=h;k<U;k++)null==d[k]?F=1:d[k]=new Int16Array(0);F?a.CLog(B("ufqH::未进入异步前不能清除buffers"),3):s?s.pcmSize-=A:a.recSize-=A}else L()}else a.state||a.CLog("envIn at state=0",3)},start:function(){var e=this,t=1;if(e.set.sourceStream?e.Stream||(t=0):r.IsOpen()||(t=0),t){var a=e._streamCtx();if(e.CLog(B("kLDN::start 开始录音，")+f(a)+" stream:"+e._streamTag),e._stop(),e.envStart(null,a[u]),e.state=3,e._SO&&e._SO+1!=e._S)e.CLog(B("Bp2y::start被中断"),3);else{e._SO=0;var o=function(){3==e.state&&(e.state=1,e.resume())};if("suspended"==a.state){var n="AudioContext resume: ";e.CLog(n+"wait..."),a.resume().then((function(){e.CLog(n+a.state),o()}))[h]((function(t){e.CLog(n+a.state+B("upkE::，可能无法录音：")+t.message,1,t),o()}))}else o()}}else e.CLog(B("6WmN::start失败：未open"),1)},pause:function(){var e=this,t=e._streamStore().Stream;e.state&&(e.state=2,e.CLog("pause"),t&&delete t._call[e.id])},resume:function(){var e=this,t=e._streamStore().Stream;e.state&&(e.state=1,e.CLog("resume"),e.envResume(),t&&(t._call[e.id]=function(t,a){1==e.state&&e.envIn(t,a)},b(t)))},_stop:function(e){var t=this,a=t.set;t.isMock||t._S++,t.state&&(t.pause(),t.state=0),!e&&t[a.type+"_stop"]&&(t[a.type+"_stop"](t.engineCtx),t.engineCtx=0)},stop:function(e,t,a){var o,n=this,l=n.set,d=n.envInLast-n.envInFirst,h=d&&n.buffers.length;n.CLog(B("Xq4s::stop 和start时差:")+(d?d+"ms "+B("3CQP::补偿:")+n.envInFix+"ms envIn:"+h+" fps:"+(h/d*1e3).toFixed(1):"-")+" stream:"+n._streamTag+" ("+i+") LM:"+s);var m=function(){n._stop(),a&&n.close()},g=function(e){n.CLog(B("u8JG::结束录音失败：")+e,1),t&&t(e),m()},f=function(t,a,s){var i="blob",p="arraybuffer",u="dataType",d="DefaultDataType",h=n[u]||r[d]||i,f=u+"="+h,v=t instanceof ArrayBuffer,w=0,y=v?t.byteLength:t.size;if(h==p?v||(w=1):h==i?"function"!=typeof Blob?w=B.G("NonBrowser-1",[f])+B("1skY::，请设置{1}",0,c+"."+d+'="'+p+'"'):(v&&(t=new Blob([t],{type:a})),t instanceof Blob||(w=1),a=t.type||a):w=B.G("NotSupport-1",[f]),n.CLog(B("Wv7l::结束录音 编码花{1}ms 音频时长{2}ms 文件大小{3}b",0,Date.now()-o,s,y)+" "+f+","+a),w)g(1!=w?w:B("Vkbd::{1}编码器返回的不是{2}",0,l.type,h)+", "+f);else{if(l.takeoffEncodeChunk)n.CLog(B("QWnr::启用takeoffEncodeChunk后stop返回的blob长度为0不提供音频数据"),3);else if(y<Math.max(50,s/5))return void g(B("Sz2H::生成的{1}无效",0,l.type));e&&e(t,s,a),m()}};if(!n.isMock){var v=3==n.state;if(!n.state||v)return void g(B("wf9t::未开始录音")+(v?B("Dl2c::，开始录音前无用户交互导致AudioContext未运行"):""))}n._stop(!0);var w=n.recSize;if(w)if(n[l.type]){if(n.isMock){var y=n.envCheck(n.mockEnvInfo||{envName:"mock",canProcess:!1});if(y)return void g(B("AxOH::录音错误：")+y)}var b=n.engineCtx;if(n[l.type+"_complete"]&&b){var k=Math.round(b.pcmSize/l[u]*1e3);return o=Date.now(),void n[l.type+"_complete"](b,(function(e,t){f(e,t,k)}),g)}if(o=Date.now(),n.buffers[0]){var C=r.SampleData(n.buffers,n[p],l[u]);l[u]=C[u];var _=C.data;k=Math.round(_.length/l[u]*1e3),n.CLog(B("CxeT::采样:{1} 花:{2}ms",0,w+"->"+_.length,Date.now()-o)),setTimeout((function(){o=Date.now(),n[l.type](_,(function(e,t){f(e,t,k)}),(function(e){g(e)}))}))}else g(B("xkKd::音频buffers被释放"))}else g(B("xGuI::未加载{1}编码器，请尝试到{2}的src/engine内找到{1}的编码器并加载",0,l.type,c));else g(B("Ltz3::未采集到录音"))}};var E=function(e,t){t.pos||(t.pos=[0],t.tracks={},t.bytes=[]);var a=t.tracks,o=[t.pos[0]],n=function(){t.pos[0]=o[0]},r=t.bytes.length,s=new Uint8Array(r+e.length);if(s.set(t.bytes),s.set(e,r),t.bytes=s,!t._ht){if(R(s,o),I(s,o),!A(R(s,o),[24,83,128,103]))return;for(R(s,o);o[0]<s.length;){var i=R(s,o),c=I(s,o),l=[0],p=0;if(!c)return;if(A(i,[22,84,174,107])){for(;l[0]<c.length;){var d=R(c,l),h=I(c,l),m=[0],g={channels:0,sampleRate:0};if(A(d,[174]))for(;m[0]<h.length;){var f=R(h,m),v=I(h,m),w=[0];if(A(f,[215])){var y=T(v);g.number=y,a[y]=g}else if(A(f,[131]))1==(y=T(v))?g.type="video":2==y?(g.type="audio",p||(t.track0=g),g.idx=p++):g.type="Type-"+y;else if(A(f,[134])){for(var b="",k=0;k<v.length;k++)b+=String.fromCharCode(v[k]);g.codec=b}else if(A(f,[225]))for(;w[0]<v.length;){var C=R(v,w),_=I(v,w);if(A(C,[181])){y=0;var x=new Uint8Array(_.reverse()).buffer;4==_.length?y=new Float32Array(x)[0]:8==_.length?y=new Float64Array(x)[0]:S("WebM Track !Float",1,_),g[u]=Math.round(y)}else A(C,[98,100])?g.bitDepth=T(_):A(C,[159])&&(g.channels=T(_))}}}t._ht=1,S("WebM Tracks",a),n();break}}}var N=t.track0;if(N){if(16==N.bitDepth&&/FLOAT/i.test(N.codec)&&(N.bitDepth=32,S("WebM 16->32 bit",3)),N[u]!=t[u]||32!=N.bitDepth||N.channels<1||!/(\b|_)PCM\b/i.test(N.codec))return t.bytes=[],t.bad||S("WebM Track Unexpected",3,t),t.bad=1,-1;for(var V=[],E=0;o[0]<s.length&&(d=R(s,o),h=I(s,o));){if(A(d,[163])){var P=15&h[0];if(g=a[P]){if(0===g.idx){var B=new Uint8Array(h.length-4);for(k=4;k<h.length;k++)B[k-4]=h[k];V.push(B),E+=B.length}}else S("WebM !Track"+P,1,a)}n()}if(E){var U=new Uint8Array(s.length-t.pos[0]);U.set(s.subarray(t.pos[0])),t.bytes=U,t.pos[0]=0,B=new Uint8Array(E),k=0;for(var M=0;k<V.length;k++)B.set(V[k],M),M+=V[k].length;if(x=new Float32Array(B.buffer),N.channels>1){var D=[];for(k=0;k<x.length;)D.push(x[k]),k+=N.channels;x=new Float32Array(D)}return x}}},A=function(e,t){if(!e||e.length!=t.length)return!1;if(1==e.length)return e[0]==t[0];for(var a=0;a<e.length;a++)if(e[a]!=t[a])return!1;return!0},T=function(e){for(var t="",a=0;a<e.length;a++){var o=e[a];t+=(o<16?"0":"")+o.toString(16)}return parseInt(t,16)||0},R=function(e,t,a){var o=t[0];if(!(o>=e.length)){var n=("0000000"+e[o].toString(2)).substr(-8),r=/^(0*1)(\d*)$/.exec(n);if(r){var s=r[1].length,i=[];if(!(o+s>e.length)){for(var c=0;c<s;c++)i[c]=e[o],o++;return a&&(i[0]=parseInt(r[2]||"0",2)),t[0]=o,i}}}},I=function(e,t){var a=R(e,t,1);if(a){var o=T(a),n=t[0],r=[];if(o<2147483647){if(n+o>e.length)return;for(var s=0;s<o;s++)r[s]=e[n],n++}return t[0]=n,r}},P=r.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(e,t){var a=c+".i18n.put: ",o=e.overwrite;o=null==o||o;var n=e.lang;if(!(n=P.alias[n]||n))throw new Error(a+"set.lang?");var r=P.locales[n];r||(r={},P.locales[n]=r);for(var s,i=/^([\w\-]+):/,l=0;l<t.length;l++){var p=t[l];if(s=i.exec(p)){var u=s[1];p=p.substr(u.length+1),!o&&r[u]||(r[u]=p)}else S(a+"'key:'? "+p,3,e)}},get:function(){return P.v_G.apply(null,arguments)},v_G:function(e,t,a){t=t||[],a=a||P.lang,a=P.alias[a]||a;var o=P.locales[a],n=o&&o[e]||"";return n||"zh"==a?(P.lastLang=a,"=Empty"==n?"":n.replace(/\{(\d+)(\!?)\}/g,(function(a,o,r){return a=t[(o=+o||0)-1],(o<1||o>t.length)&&(a="{?}",S("i18n["+e+"] no {"+o+"}: "+n,3)),r?"":a}))):"en"==a?P.v_G(e,t,"zh"):P.v_G(e,t,"en")},$T:function(){return P.v_T.apply(null,arguments)},v_T:function(){for(var e,t=arguments,a="",n=[],r=0,s=c+".i18n.$T:",i=/^([\w\-]*):/,l=0;l<t.length;l++){var p=t[l];if(0==l){if(!(a=(e=i.exec(p))&&e[1]))throw new Error(s+"0 'key:'?");p=p.substr(a.length+1)}if(-1===r)n.push(p);else{if(r)throw new Error(s+" bad args");if(0===p)r=-1;else if(o(p)){if(p<1)throw new Error(s+" bad args");r=p}else{var u=1==l?"en":l?"":"zh";if((e=i.exec(p))&&(u=e[1]||u,p=p.substr(e[1].length+1)),!e||!u)throw new Error(s+l+" 'lang:'?");P.put({lang:u,overwrite:!1},[a+":"+p])}}}return a?r>0?a:P.v_G(a,n):""}},B=P.$T;B.G=P.get,B("NonBrowser-1::非浏览器环境，不支持{1}",1),B("IllegalArgs-1::参数错误：{1}",1),B("NeedImport-2::调用{1}需要先导入{2}",2),B("NotSupport-1::不支持：{1}",1),r.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var U=r.Traffic=function(e){if(t){e=e?"/"+c+"/Report/"+e:"";var a=r.TrafficImgUrl;if(a){var o=r.Traffic,n=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],s=n[1]||"http://file/",i=(n[0]||s)+e;0==a.indexOf("//")&&(a=/^https:/i.test(i)?"https:"+a:"http:"+a),e&&(a=a+"&cu="+encodeURIComponent(s+e)),o[i]||(o[i]=1,(new Image).src=a,S("Traffic Analysis Image: "+(e||c+".TrafficImgUrl="+r.TrafficImgUrl)))}}};m&&(S(B("8HO5::覆盖导入{1}",0,c),1),m.Destroy()),e[c]=r}function M(e){var t=this;t.id=++V,U();var n={type:"mp3",onProcess:a};for(var r in e)n[r]=e[r];t.set=n;var s=n[d],i=n[u];(s&&!o(s)||i&&!o(i))&&t.CLog(B.G("IllegalArgs-1",[B("VtS4::{1}和{2}必须是数值",0,u,d)]),1,e),n[d]=+s||16,n[u]=+i||16e3,t.state=0,t._S=9,t.Sync={O:9,C:9}}}(v=f?window:Object,f),g.exports&&(g.exports=v.Recorder);const y=w;var b={};!function(e){!function(t){var a="object"==typeof window&&!!window.document,o=a?window:Object,n=o.Recorder,r=n.i18n;!function(e,t,a,o,n){var r={LM:"2023-12-01 20:18",Current:0,Platforms:{}},s=r.Platforms,i="RecordApp",c="RequestPermission",l="RegisterPlatform",p=e[i];if(p&&p.LM==r.LM)return void p.CLog(o("uXtA::重复导入{1}",0,i),3);e[i]=r,t[i]=r,r.__SID_=0;var u=r.__SID=function(){return++r.__SID_},d=r.__Sync=function(e,t,a){return r.__SID_==e||(t&&h(o("kIBu::同时多次调用：{1}，旧的回调被丢弃",0,t)+(a?", error: "+a:""),3),!1)},h=function(){var e=arguments;e[0]="["+(h.Tag||i)+"]["+(r.Current&&r.Current.Key||"?")+"]"+e[0],t.CLog.apply(null,e)};r.CLog=h,r[l]=function(e,t){t.Key=e,s[e]&&h(o("ha2K::重复注册{1}",0,e),3),s[e]=t},r.__StopOnlyClearMsg=function(){return o("wpTL::仅清理资源")};var m="Default-H5";g={Support:function(e){e(!0)},CanProcess:function(){return!0}},r[l](m,g),g[c]=function(e,a,o){var n=r.__Rec;n&&(n.close(),r.__Rec=null),t().open((function(){a()}),o)},g.Start=function(e,a,o,n){var s=r.__Rec;null!=s&&s.stop(),r.__Rec=s=t(a),s.appSet=a,s.dataType="arraybuffer",s.open((function(){d(e)&&s.start(),o()}),n)},g.Stop=function(e,a,n){var s=r.__Rec,i=a?"":r.__StopOnlyClearMsg();if(!s)return t.IsOpen()&&((s=t()).open(),s.close()),void n(o("bpvP::未开始录音")+(i?" ("+i+")":""));var c=function(){if(d(e))for(var t in s.close(),s.set)s.appSet[t]=s.set[t]},l=function(e){c(),n(e)};a?s.stop((function(e,t,o){c(),a(e,t,o)}),l):l(i)},r.GetCurrentRecOrNull=function(){return r.__Rec||null},r.Pause=function(){var e=r.Current,t="Pause";if(!e||!e[t]||!1===e[t]()){var a=r.__Rec;a&&f(t)&&a.pause()}},r.Resume=function(){var e=r.Current,t="Resume";if(!e||!e[t]||!1===e[t]()){var a=r.__Rec;a&&f(t)&&a.resume()}};var g;var f=function(e){var t=r.Current;if(t&&t.CanProcess())return 1;h(o("fLJD::当前环境不支持实时回调，无法进行{1}",0,e),3)};r.Install=function(e,t){var a=r.Current;if(a)e&&e();else{var o=r.__reqs||(r.__reqs=[]);o.push({s:e,f:t}),e=function(){n("s",arguments)},t=function(){n("f",arguments)};var n=function(e,t){var a=[].concat(o);o.length=0;for(var n=0;n<a.length;n++){var r=a[n][e];r&&r.apply(null,t)}};if(!(o.length>1)){var i,c=[m];for(var l in s)l!=m&&c.push(l);c.reverse();var p=function(e){i=c[e],(a=s[i]).Support((function(o){if(!o)return p(e+1);a.Install?a.Install(u,t):u()}))},u=function(){r.Current=a,h("Install platform: "+i),e()};p(0)}}},r[c]=function(e,t){var a=u(),n=i+"."+c,s=function(e,r){var s=e+", isUserNotAllow:"+(r=!!r);d(a,n,s)&&(h(o("YnzX::录音权限请求失败：")+s,1),t&&t(e,r))};h(c+"..."),r.Install((function(){if(d(a,n)){var t=w();t?s(t):r.Current[c](a,(function(){d(a,n)&&(h(c+" Success"),e&&e())}),s)}}),s)};var v=function(){return o("nwKR::需先调用{1}",0,c)},w=function(){var e="";return r.Current.Key!=m||n||(e=o("citA::当前不是浏览器环境，需引入针对此平台的支持文件（{1}），或调用{2}自行实现接入",0,"src/app-support/app-xxx-support.js",i+"."+l)),e};r.Start=function(e,a,n){var c=u(),l=i+".Start",p=function(e){d(c,l,e)&&(h(o("ecp9::开始录音失败：")+e,1),n&&n(e))};h("Start...");var m=r.Current;if(m){e||(e={});var g={type:"mp3",sampleRate:16e3,bitRate:16,onProcess:function(){}};for(var f in g)e[f]||(e[f]=g[f]);for(var f in s){var y=s[f];y.AllStart_Clean&&y.AllStart_Clean(e)}var b=!1;if(m.Start_Check&&(b=m.Start_Check(e)),!1===b)(b=t(e).envCheck({envName:m.Key,canProcess:m.CanProcess()}))||(b=w());b?p(o("EKmS::不能录音：")+b):(r._SRec=0,m.Start(c,e,(function(){d(c,l)&&(h(o("k7Qo::已开始录音"),e),r._STime=Date.now(),a&&a())}),p))}else p(v())},r.Stop=function(e,a){var n=u(),s=i+".Stop",c=function(t){if(d(n,s,t)){h(o("Douz::结束录音失败：")+t,e?1:0);try{a&&a(t)}finally{l()}}},l=function(){r._SRec=r.__Rec,r.__Rec=null};h("Stop... "+o("wqSH::和Start时差：{1}ms",0,r._STime?Date.now()-r._STime:-1)+" Recorder.LM:"+t.LM+" "+i+".LM:"+r.LM);var p=Date.now(),m=r.Current;m?m.Stop(n,e?function(t,a,r){if(d(n,s)){h(o("g3VX::结束录音 耗时{1}ms 音频时长{2}ms 文件大小{3}b {4}",0,Date.now()-p,a,t.byteLength,r));try{e(t,a,r)}finally{l()}}}:null,c):c(v())}}(o,n,0,r.$T,a),e.exports&&(e.exports=o.RecordApp)}()}({get exports(){return b},set exports(e){b=e}});const k=b;!function(e){var t="object"==typeof window&&!!window.document,a=t?window:Object,o="https://github.com/xiangyuecn/Recorder/tree/master/app-support-sample/demo_UniApp";if(a.RecordApp){var r=a.Recorder;!function(e,t,a,o,n){var r=t.RecordApp,s=r.CLog,i=function(){};r.UniSupportLM="2023-12-08 20:55";var c="app-uni-support.js",l=!1,p=!1,u=!1;!function(){if(n){l=!0;var e=navigator.userAgent.replace(/[_\d]/g," ");p=!/\bandroid\b/i.test(e)&&/\bios\b|\biphone\b/i.test(e)}else"object"==typeof plus&&("Android"==plus.os.name?l=!0:"iOS"==plus.os.name&&(p=l=!0)),(u=l)||s("App !plus",1)}(),r.UniIsApp=function(){return l?p?2:1:0};var d=r.UniBtoa=function(e){if("object"==typeof uni&&uni.arrayBufferToBase64)return uni.arrayBufferToBase64(e);for(var t=new Uint8Array(e),a="",o=0,n=t.length;o<n;o++)a+=String.fromCharCode(t[o]);return btoa(a)},h=r.UniAtob=function(e){if("object"==typeof uni&&uni.base64ToArrayBuffer)return uni.base64ToArrayBuffer(e);for(var t=atob(e),a=new Uint8Array(t.length),o=0,n=t.length;o<n;o++)a[o]=t.charCodeAt(o);return a.buffer};r.UniB64Enc=function(e){if("object"==typeof uni&&uni.arrayBufferToBase64){var t=r.UniStr2Buf(e);return uni.arrayBufferToBase64(t)}return btoa(unescape(encodeURIComponent(e)))},r.UniB64Dec=function(e){if("object"==typeof uni&&uni.base64ToArrayBuffer){var t=uni.base64ToArrayBuffer(e);return r.UniBuf2Str(t)}return decodeURIComponent(escape(atob(e)))},r.UniStr2Buf=function(e){for(var t=unescape(encodeURIComponent(e)),a=new Uint8Array(t.length),o=0,n=t.length;o<n;o++)a[o]=t.charCodeAt(o);return a.buffer},r.UniBuf2Str=function(e){for(var t=new Uint8Array(e),a="",o=0,n=t.length;o<n;o++)a+=String.fromCharCode(t[o]);return decodeURIComponent(escape(a))};var m,g=r.UniJsSource={IsSource:!1,pcm_sum:function(e){for(var t=0,a=0;a<e.length;a++)t+=Math.abs(e[a]);return t}};m=["UniNativeRecordReceivePCM"," WvCid=wv_","H753::未配置RecordApp.UniNativeUtsPlugin原生录音插件","   jsCode="," set:","CjMb::无效的BigBytes回传数据","join","stringify","4ATo::Recorder-UniCore目前只支持：H5、APP(Android iOS)、MP-WEIXIN，其他平台环境需要自行编写适配文件实现接入","441rSzzgB","wvID",';\n\t\tset.onProcess=function(buffers,power,duration,sampleRate,newIdx){\n\t\t\tvar newBuffers=[],recSet=RecordApp.__Rec.set;\n\t\t\tfor(var i=newIdx;i<buffers.length;i++)newBuffers.push(RecordApp.UniBtoa(buffers[i].buffer));//@@Fast\n\t\t\tRecordApp.UniWebViewSendToMain({action:"recProcess",recSet_sr:recSet.sampleRate,recSet_bit:recSet.bitRate,sampleRate:sampleRate,newBuffers:newBuffers});\n\t\t\tprocFn&&procFn.apply(This,arguments);\n\t\t};',"AN0e::需在renderjs中import {1}","apply","width","random","__callWvActivate","onLog","tag","mOffset",'"));\n\t\t\tcur.memory.set(buf,cur.mOffset);\n\t\t\tcur.mOffset+=buf.byteLength;\n\t\t\tRecordApp.UniWebViewSendToMain({action:"',"1f2V:: | RecordApp的uni-app支持文档和示例：{1} "," srcSR:","UniApp-Renderjs","\n\t\t\t})()","4jKV::RecordApp.UniRenderjsRegister 需在renderjs中调用并且传入当前模块的this","$vm","onRecord","l6sY::renderjs中不支持设置RecordApp.UniNativeUtsPlugin",'(function(){\n\t\tvar fn=RecordApp.__UniData["',"root","__0hyi","当前未获得授权许可。文件","querySelectorAll","Tag","parse","rec encode: pcm:","Mvl7::调用plus的权限请求出错：","e71S::已购买uts插件，获得授权许可","fqhr::当前已配置RecordApp.UniWithoutAppRenderjs，必须提供原生录音插件或uts插件才能录音，请参考RecordApp.UniNativeUtsPlugin配置","_cid_","substr","set","UniWebViewVueCall","pcmDataBase64","Install","publishHandler","message","DisableIOSPlusReqPermission","7Noe::正在调用plus.android.requestPermissions请求Android原生录音权限","recordStop","param","iKhe::plus.ios请求录音权限，状态值: ","recordAlive","PkQ2::需先调用RecordApp.UniWebViewActivate，然后才可以调用RequestPermission","@req","Jk72::不应当出现的非H5权限请求","uid",';\n\t\t\tset.takeoffEncodeChunk=function(bytes){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"recEncodeChunk",bytes:RecordApp.UniBtoa(bytes.buffer)});\n\t\t\t\ttakeFn&&takeFn.apply(This,arguments);\n\t\t\t};',"byteLength","getStorageSync","__nnM6","我已获得UniAppID=","RegisterPlatform","request","__wvCid","requestFileSystem","setAttribute","100%",';\n\t\t\t}\n\t\t\tif(!err && !RecordApp.Platforms["UniApp-Renderjs"]){\n\t\t\t\terr=',"6246736XWmZWR",";\n\t\t\t\t","UniPageOnShow","takeoffEncodeChunk_renderjs","aPoj::UniAppUseLicense填写无效，如果已获取到了商用授权，请填写：{1}，否则请使用空字符串","RecordApp.Stop()"," wvCid=","duration","MiniProgramWx_onShow","Default_Android_AudioSource","var takeFn=","envStart","bigBytes_","RequestPermission","$ownerInstance","SWsy::检测到有其他页面或组件调用了RecordApp.UniPageOnShow（WvCid={1}），但未调用过RecordApp.UniWebViewActivate（当前WvCid={2}），部分功能会继续使用之前Activate的WebView和组件，请确保这是符合你的业务逻辑，不是因为忘记了调用UniWebViewActivate","__uniAppReqWebViewId","我知道啦","var procFn=","w37G::已购买原生录音插件，获得授权许可","bitRate","kxOd::非App环境，不支持保存本地文件","isError",'"});\n\t\t})()','",errMsg:errMsg,isUserNotAllow:isUserNotAllow});\n\t\t\t});\n\t\t})()',"push","__uniNupErr","dl4f::{1}回传了未知内容，","Bgls::已获得Android原生录音权限：","UniRenderjsRegister","UniWebViewSendBigBytesToMain","__uniAppMainReceiveBind","envIn","1152655uPwqVo","TSmQ::需要在页面中提供一个renderjs，在里面import导入RecordApp、录音格式编码器、可视化插件等","canvas","vEgr::不应该出现的MainReceiveBind重复绑定","mrBind","mime","mzKj::RecordApp.UniRenderjsRegister 重复注册当前页面renderjs模块，一个组件内只允许一个renderjs模块进行注册","import 'recorder-core/src/app-support/app-miniProgram-wx-support.js'","Start_Check","UniAppUseLicense","FabE::【在App内使用{1}的授权许可】"," WvCid=","qDo1::未找到此页面renderjs所在的WebView","replace","nativePluginName","appId","wv_","__WebVieW_Id__",'"];\n\t\tif(fn)fn(',"mainCb_",'",ok:1});\n\t\t\t},function(errMsg,isUserNotAllow){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"','",val);\n\t\t})()',"recSize","nnM6::当前录音由uts插件提供支持","rec_wv_cid_key","k7im::未找到Canvas：{1}，请确保此DOM已挂载（可尝试用$nextTick等待DOM更新）","errMsg",".memory.buffer; delete window.","ios","(function(){\n\t\t\tvar cur=window.","UniNativeUtsPlugin","pP4O::未开始录音","未获得商用授权时，App上仅供测试哈","bytes","dataType"," canvas","' ，就不会弹提示框了；或者购买了配套的原生录音插件或uts插件，设置RecordApp.UniNativeUtsPlugin参数后，也不会弹提示框。【获取授权方式一】联系作者加入VIP支持QQ群，入群后即获得授权，在群文件中可下载此js文件最新源码；【获取授权方式二】联系作者或到DCloud插件市场购买配套的原生录音插件或uts插件，购买后即获得授权（其中uts插件还在开发中不可购买）；购买后可联系作者拉你进入VIP支持QQ群。客服联系方式：QQ 1251654593 ，或者直接联系作者QQ 753610399 （回复可能没有客服及时）。详细请参考文档: ","TfJX::当前不是App逻辑层",'(function(){\n\t\tif(!window.RecordApp){ window["console"].error("renderjs中未import导入RecordApp"); return; }\n\t\tvar wvCid="',"newBuffers","=window.","undefined","RecordApp.","xYRb::当前RecordApp运行在逻辑层中（性能会略低一些，可视化等插件不可用）","RecorderNativePlugin",'RecordApp.Start(set,function(){\n\t\t\tstartFn&&startFn.call(This);\n\t\t\tRecordApp.UniWebViewSendToMain({action:"',"kE91::renderjs中的mounted内需要调用RecordApp.UniRenderjsRegister才能调用RecordApp.UniWebViewSendBigBytesToMain","9183050kYRtQd","MTdp::未开始录音，但收到renderjs回传的onRecEncodeChunk","__StopOnlyClearMsg",'(function(){\n\t\t\tvar err="",val={action:"',"j15C::已获得iOS原生录音权限","__FabE","UniWebViewEval","pageShow","fullPath","value","Platforms","status","6276tIOEaT","android",'\n\t\t\t\tvar cls="',"sWvCid",';\n\t\t\tvar errFn=function(errMsg){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"',"onerror","indexOf","android.permission.RECORD_AUDIO","H6cq::无法调用Stop：","nativeSampleRateTarget","b64","UniMainTakeBigBytes",';\r\n\t\t\tRecordApp.Current=null; //需先重置，不然native变化后install不一致\n\t\t\tRecordApp.RequestPermission(function(){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"',"CanProcess","2060fqGwsm",'",errMsg:errMsg});\n\t\t});',"fields","bigBytes_chunk","||{memory:new Uint8Array(","action","0JQw::plus.android请求录音权限出错：","nativeSampleRateRecSet","disableEnvInFix","__uniAppWebViewId","RecordApp__uniAppMainReceive","WpKg::RecordApp.UniWebViewActivate 已切换当前页面或组件的renderjs所在的WebView","(function(){\n\t\t\t\tvar BigBytes=window.","RecApp Main","XSYY::当前录音由原生录音插件提供支持","_appStart","__xYRb","__UniMainReceiveBigBytes","onProcess_renderjs","PUBLIC_DOWNLOADS","__uniAppReqComponentId","onwrite","arraybuffer","UniMainCallBack","start_renderjs","buffer","getWebviewById","TGMm::提供的RecordApp.UniNativeUtsPlugin值不是RecordApp的uts原生录音插件","$scope",'"@/uni_modules/Recorder-UniCore/',"parentNode","UniFindCanvas","AllStart_Clean","Bjx9::无法调用Start：","setStorageSync","$root","appendChild","height","__uniNP","style","miniProgram-wx","getSystemInfoSync","(function(){\n\t\t\tvar stopFn=","var set=","RecorderUtsPlugin","nativePlugin","GwCz::RecordApp.UniWebViewActivate 需要传入当前页面或组件的this对象作为参数","byzO::未开始录音，但收到UniNativeUtsPlugin PCM数据",'),mOffset:0};\n\t\t\tvar buf=new Uint8Array(RecordApp.UniAtob("',"select","recordStart","AVAudioSession","subarray",");\n\t})()","requireNativePlugin","recEncodeChunk","__Rec","UniWebViewActivate","el2","lU1W::当前不是App逻辑层","srcSampleRate","jsCall","getAttribute","exec","subscribe","BjGP::未开始录音，但收到Uni Native PCM数据","createSelectorQuery","stop_renderjs","的商用授权","bigBytes_start","AGd7::需要先调用RecordApp.UniWebViewActivate方法","TPhg::不应当出现的非H5录音Stop","recSet_bit",";\n\t\tvar startFn=","0FGq::未开始录音，不可以调用{1}","118731lqCFoi","takeoffEncodeChunk",'RecordApp.UniNativeRecordReceivePCM("',"dataId","UniApp-Main","11RvLazV","unknown","Ruxl::plus.android请求录音权限：无权限","mainID","denied ","node",'",ok:1};\n\t\t\tif(!err && !window.RecordApp){\n\t\t\t\terr=',"UniSaveLocalFile","2079459LTrVAx","ownerId","Uc9E::RecordApp.UniRenderjsRegister 发生不应该出现的错误（可能需要升级插件代码）：","_X3Ij_alive","ipB3::RecordApp.UniWebViewActivate 发生不应该出现的错误（可能需要升级插件代码）：","deleteObject","ksoA::无法调用RequestPermission：","Rec_WvCid","show","wvCid","$page","rec","__UniData","在uni-app中编译到App平台时仅供测试用，不可用于正式发布或商用，正式发布或商用需先联系作者获得授权许可（编译到其他平台时无此授权限制，比如：H5、小程序，均为免费授权）。本对话框仅在第一次请求录音权限时会弹出一次，如何去除本弹框、如何获取商用授权、更多信息请看控制台日志","=el2;\n\t\t\t","max","requestRecordPermission","@act",";\n\t\t\tvar clear=","__UniWvCid","gomD::不应该出现的renderjs发回的文件数据丢失",';\n\t\t\t}\n\t\t\tif(err){\n\t\t\t\tval.ok=0; val.errMsg=err;\n\t\t\t}\n\t\t\tUniViewJSBridge.publishHandler("',"sampleRate",'",ok:1,recSet_sr:recSet.sampleRate,recSet_bit:recSet.bitRate,dataId:dataId,duration:duration,mime:mime});\n\t\t\t\t},errFn);\n\t\t\t},errFn);\n\t\t})()',"__Sync","VsdN::需重新调用RecordApp.RequestPermission方法","XCMU::需先调用RecordApp.UniWebViewActivate，然后才可以调用Start","276ZePydw","l7WP::用户拒绝了录音权限","test","requestPermissions","Pause","Start","MujG::只允许在renderjs中调用RecordApp.UniWebViewSendBigBytesToMain","uts","nativeToRjs","sharedInstance","2nlUyJq","granted","slice",'",vm=RecordApp.__uniWvCallVm;\n\t\tif(!vm || RecordApp.__uniWvCallWvCid!=wvCid){\n\t\t\tif(!RecordApp.__UniData[wvCid]){ RecordApp.CLog("renderjs中的mounted内需要调用RecordApp.UniRenderjsRegister",1); return; }\n\t\t\tvar el=document.querySelector("[rec_wv_cid_key=\'"+wvCid+"\']");\n\t\t\tvm=el&&el.__rModule;\n\t\t\tif(!vm){ RecordApp.CLog("没有找到组件的renderjs模块 WvCid="+wvCid,1); return; }\n\t\t\tRecordApp.__uniWvCallVm=vm;\n\t\t\tRecordApp.__uniWvCallWvCid=wvCid;\n\t\t}; (function(){ var This=this;\n\t\t\t',"RecApp Renderjs","memory","7ot0::需先调用RecordApp.RequestPermission方法","showModal","UniAppUseNative","unsubscribe","__hasWvActivate","pcm_sum","Y3rC::正在调用plus.ios@AVAudioSession请求iOS原生录音权限","length","action=","$getAppWebview","recSet_sr","writeAsBinary","UniWithoutAppRenderjs","stop","$el","_$id",'",errMsg:errMsg});\n\t\t\t};\n\t\t\tRecordApp.Stop(clear?null:function(arrBuf,duration,mime){\n\t\t\t\tstopFn&&stopFn.apply(This,arguments);\n\t\t\t\tvar recSet=RecordApp.__Rec.set,t1=Date.now();\n\t\t\t\tRecordApp.CLog("开始传输"+arrBuf.byteLength+"字节的数据回逻辑层，可能会比较慢，推荐使用takeoffEncodeChunk实时获取音频文件数据可避免Stop时产生超大数据回传");\n\t\t\t\tRecordApp.UniWebViewSendBigBytesToMain(arrBuf,function(dataId){//数据可能很大\n\t\t\t\t\tRecordApp.CLog("完成传输"+arrBuf.byteLength+"字节的数据回逻辑层，耗时"+(Date.now()-t1)+"ms");\n\t\t\t\t\tRecordApp.UniWebViewSendToMain({action:"',"createWriter","recProcess","UqfI::保存文件{1}失败：","importClass","isUserNotAllow","UniWebViewSendToMain","recordPermission","__uniAppWebView","Resume","peIm::当前还未调用过RecordApp.UniWebViewActivate","evalJS","S3eF::未找到当前页面renderjs所在的WebView，如果确实没有renderjs，请设置RecordApp.UniWithoutAppRenderjs=true","TtoS::，不可以调用RecordApp.UniWebViewVueCall","0hyi::当前RecordApp运行在renderjs所在的WebView中（逻辑层中只能做有限的实时处理，可视化等插件均需要在renderjs中进行调用）","0caE::用户拒绝了录音权限","YP4V::未开始录音","(function(){\n\t\t\tRecordApp.UniAppUseNative=","__uniAppComponentId","Incorrect sync status","在uni-app中编译到App平台时仅供测试用（App平台包括：Android App、iOS App），不可用于正式发布或商用，正式发布或商用需先联系作者获取到商用授权许可（编译到其他平台时无此授权限制，比如：H5、小程序，均为免费授权）。未获得授权时，在App打开后第一次调用RecordApp.RequestPermission请求录音权限时，会先弹出商用授权提示框；获取到授权许可后，请在调用RequestPermission前设置 RecordApp.UniAppUseLicense='","webview","6Iql::未找到此页面renderjs所在的WebView Cid","yI24::RecordApp.UniFindCanvas未适配当前环境","RXs7::微信小程序中需要：{1}","!id || !cid","rSLO::不应当出现的非H5录音Start","android_audioSource","mSbR::当前还未调用过RecordApp.UniWebViewActivate","Key","ZHwv::[MainReceive]从renderjs发回未知数据：","none","getFile","type","igw2::，不可以调用RecordApp.UniWebViewEval","7kJS::RecordApp.UniRenderjsRegister 已注册当前页面renderjs模块","\n\t\t}).call(vm);\n\t})()","Stop",'",ok:1});\n\t\t},function(errMsg){\n\t\t\tRecordApp.UniWebViewSendToMain({action:"',"display","SCW9::配置了RecordApp.UniNativeUtsPlugin，但当前App未打包进原生录音插件[{1}]","__rModule","success",'";\n\t\t\t\tvar els=this.$ownerInstance.$el.querySelectorAll(cls+" canvas"),el=els[0],el2=els[1];\n\t\t\t\tif(!el){\n\t\t\t\t\tRecordApp.CLog(Recorder.i18n.$T("dzX0::未找到Canvas：{1}，请确保此DOM已挂载（可尝试用$nextTick等待DOM更新）",0,cls),1);\n\t\t\t\t}else if(!el2){\n\t\t\t\t\tel.style.display="none";\n\t\t\t\t\tel2=document.createElement("canvas");\n\t\t\t\t\tel2.setAttribute("el2","1"); el2.style.width=el2.style.height="100%";\n\t\t\t\t\tel.parentNode.appendChild(el2);\n\t\t\t\t}else if(!el2.getAttribute("el2")){\n\t\t\t\t\tel2=el;\n\t\t\t\t}\n\t\t\t\tvar canvas',"createElement"],function(){var a=w;!function(e,t){for(var a=w,o=N();;)try{if(440219==parseInt(a(649))/1*(parseInt(a(699))/2)+-parseInt(a(407))/3*(parseInt(a(560))/4)+parseInt(a(574))/5*(parseInt(a(689))/6)+parseInt(a(501))/7+-parseInt(a(468))/8+parseInt(a(662))/9+-parseInt(a(548))/10*(-parseInt(a(654))/11))break;o.push(o.shift())}catch(n){o.push(o.shift())}}();var f={Support:function(e){var t=w;return l?void(!n||r[t(339)]?e(!0):e(!1)):(s(o(t(406)),3),void e(!1))},CanProcess:function(){return!0}};r[a(461)](a(n?421:653),f),l&&(s[a(432)]=a(n?335:587)),r[a(674)]||(r[a(674)]={id:0,pageShow:{}});var v=function(){return l&&!n&&!r[a(349)]};function w(e,t){var a=N();return(w=function(e,t){return a[e-=335]})(e,t)}r[a(470)]=function(e){var t=a,o=r[t(674)][t(555)]={};if(v()){o[t(563)]=y(e);var n=r[t(583)];if(n){for(var s=getCurrentPages(),i=!0,c=0,l=s[t(344)];c<l;c++)if(s[c][t(672)].id==n){i=!1;break}i&&(r[t(371)]=null,r[t(583)]=null,r[t(361)]=null)}}},r[a(631)]=function(e){var t=a;if(v()){r[t(341)]=!0,r[t(414)]=1,setTimeout((function(){r[t(414)]=0}));var n=e[t(609)];if(n&&n[t(602)]&&n[t(602)][t(346)]){var i=e[t(352)]||e.$&&e.$[t(455)],c=k(e);c&&i?(i==r[t(371)]&&c==r[t(583)]||s(o(t(585))+t(399)+c+t(438)+i),r[t(371)]=i,r[t(583)]!=c&&(r[t(583)]=c,r[t(361)]=n[t(602)][t(346)]())):s(o(t(666))+t(378),1)}else s(o(t(620)),1)}},r[a(497)]=function(e){var t=a;if(l&&n){if(e[t(482)])var i=window[t(518)],c=e[t(352)]||e[t(482)][t(424)][t(663)],p=e[t(482)][t(351)];if(p)if(p[t(394)]=e,i&&c){var u=t(517)+i+t(438)+c;r[t(681)]=u,p[t(465)](t(525),u),r[t(674)][u]?s(o(t(507))+t(474)+u,3):(r[t(674)][u]=1,s(o(t(388))+t(512)+u))}else s(o(t(664))+t(378),1);else s(o(t(423)),1)}};var y=function(e,t,o){var n=a;if(e){if(e[n(669)])return e[n(669)];var s=k(e),i=e[n(352)]||e.$&&e.$[n(455)]}return t&&(o||C(),n(453)==t?(s=r[n(484)],i=r[n(594)]):(s=r[n(583)],i=r[n(371)])),s&&i?n(517)+s+n(438)+i:""},b=function(e){var t=a;return t(679)===e||t(453)===e?{Rec_WvCid:y(null,e)}:{Rec_WvCid:e||"?"}},k=function(e){var t=a,o=e[t(609)];return(o=o&&o[t(672)])&&o.id||0},C=function(e){var t=a;if(!r[t(361)])return o(t(644));var n=y(null,1,1),i=r[t(674)][t(555)][t(563)];if(e){if(!r[t(484)])return o(t(337));if(y(null,t(453),1)!=n)return o(t(687))}return i&&i!=n&&s(o(t(483),0,i,n),3),""};r[a(554)]=function(e,t,n){var i=a,c="";c||u||(c=o(i(538)));var l=!c&&function(e,t){var a=i;if(e&&e[a(669)])var o=/^wv_(\d+)_/[a(637)](e[a(669)]),n=o&&o[1];else{var s=e&&e[a(609)],c=s&&s[a(602)];n=(s=s&&s[a(672)])&&s.id}if(n){if(n==r[a(583)])return r[a(361)];if(c)return c[a(346)]();var l=plus[a(374)][a(600)](n);if(l)return l}return t?(C(),r[a(361)]):null}(e,null==e);if(c||l||(c=o(i(null==e?363:513))),c)return c+=o(i(387)),s(c+i(401)+t[i(439)](0,200),1),c;var p=r[i(674)][i(555)];if(p[i(505)]||(p[i(505)]=1,x()),n){var h=("a"+Math[i(413)]())[i(514)](".",""),m=0,g=function(){var e=i;if(0!=m&&m>=n[e(457)])l[e(364)](e(586)+h+e(528)+h+e(469)+t+e(422));else{var a=r[e(597)](g),o=m;m+=524288;var s=n[e(701)](o,m);l[e(364)](e(530)+h+e(541)+h+e(578)+n[e(457)]+e(622)+d(s)+e(418)+a+e(491))}};g()}else l[i(364)](t)},r[a(441)]=function(e,t,n){var i=a,c="";c||u||(c=o(i(633)));var l=!c&&y(e,null==e);if(c||l||(c=o(i(null==e?381:375))),c)return c+=o(i(366)),s(c+i(401)+t[i(439)](0,200),1),c;r[i(554)](e,i(539)+l+i(702)+t+i(389),n)};var _=a(584),x=function(){var e=a;if(u&&e(542)!=typeof UniServiceJSBridge){var t=r[e(499)];if(t){var n="";try{n=uni[e(458)](_)}catch(i){}if(t==n)return;s(o(e(504)),3)}t="r"+Math[e(413)]();try{uni[e(608)](_,t)}catch(i){}r[e(499)]=t,UniServiceJSBridge[e(340)](_),UniServiceJSBridge[e(638)](_,(function(t){var a=e,n=t[a(579)]||"";if(a(355)!=n)if(a(629)!=n)if(-1==n[a(566)](a(520)))-1==n[a(566)](a(480))?s(o(a(383))+JSON[a(405)](t),1):r[a(591)](t);else{var i=r[a(674)][n];i&&i(t)}else B(t);else P(t)}))}};r[a(597)]=function(e){var t=a,o=r[t(674)],n=++o.id,s=t(520)+n;return o[s]=function(t){delete o[s],e(t)},s},r[a(359)]=function(e){UniViewJSBridge[a(444)](_,e)},r[a(498)]=function(e,t,s){var i=a;if(n&&l){var c=r[i(681)];if(c){var p=r[i(674)],u=0,h=++p.id;p[i(480)+h]=function(e){u=e,g()};var m=0,g=function(){var a=i;if(0!=m&&m>=e[a(457)])return delete p[a(480)+h],void t(u);var o=m;m+=524288;var n=e[a(701)](o,m);r[a(359)]({action:a(o?577:643),wvCid:c,wvID:h,mainID:u,b64:d(n)})};g()}else s(o(i(547)))}else s(o(i(695)))},r[a(591)]=function(e){var t=a,n=e[t(657)],i=r[t(674)],c=t(480);t(643)==e[t(579)]&&(n=++i.id,i[c+n]={memory:new Uint8Array(2097152),mOffset:0});var l=i[c+n];if(l){var p=new Uint8Array(h(e[t(570)])),u=p[t(344)];if(l[t(417)]+u>l[t(336)][t(344)]){var d=new Uint8Array(l[t(336)][t(344)]+Math[t(677)](2097152,u));d[t(440)](l[t(336)][t(626)](0,l[t(417)])),l[t(336)]=d}l[t(336)][t(440)](p,l[t(417)]),l[t(417)]+=u,r[t(554)](b(e[t(671)]),t(427)+c+e[t(408)]+t(519)+n+t(627))}else s(o(t(403)),3)},r[a(571)]=function(e){var t=a;if(!u)return null;var o=r[t(674)],n=o[t(480)+e];return delete o[t(480)+e],n?n[t(336)][t(599)][t(701)](0,n[t(417)]):null},r[a(661)]=function(e,t,n,r){var s=a;if(n=n||i,r=r||i,l){var c=function(t){var a=w;r(o(a(356),0,e)+t[a(445)])};plus.io[s(464)](plus.io[s(593)],(function(a){var o=s;a[o(428)][o(385)](e,{create:!0},(function(e){var a=o;e[a(354)]((function(o){var r=a;o[r(595)]=function(){n(e[r(556)])},o[r(565)]=c;try{o[r(348)](d(t))}catch(s){c(s)}}),c)}),c)}),c)}else r(o(s(489)))};var S=function(t){var i=a;if(r[i(531)]){var c="";!c&&n&&(c=o(i(426))),!c&&r[i(531)][i(619)]?(V(),r[i(612)]||(c=o(i(393),0,E))):c||r[i(531)][i(462)]||(c=o(i(601))),c&&(r[i(531)]=null,s(c,1)),r[i(494)]=c}if(u){var l=o(i(419),0,e),p=r[i(531)];p&&(!t&&r[i(459)]||(r[i(459)]=1,p[i(619)]?s(o(i(588))+l):s(o(i(524))+l))),r[i(349)]?p?!t&&r[i(590)]||(r[i(590)]=1,s(o(i(544))+l)):s(o(i(437))+l,1):r[i(341)]&&(r[i(361)]?!t&&r[i(429)]||(r[i(429)]=1,s(o(i(367))+l)):s(o(i(365))+l,1))}};function N(){var e=m;return(N=function(){return e})()}r[a(605)]=function(e,t,n,i){var c,l,p=a;if(u){var d=[];for(c=0,l=t[p(344)];c<l;c++)d[p(493)](p(562)+t[c]+p(396)+(c+1)+p(676));return d[p(493)](n),void r[p(441)](e,d[p(404)]("\n"))}s(o(p(376)),1)};var V=function(){var e=a;if(!r[e(612)]){E=r[e(531)][e(515)]||e(545);try{r[e(612)]=uni[e(628)](E)}catch(t){}}},E="*",A=function(){var e=a,t=r[e(531)],n=t&&t[e(619)]?E:e(618);T(e(635),{},null,null,(function(t){var a=e;a(415)==t[a(579)]?t[a(490)]?s("["+n+"]["+t[a(416)]+"]"+t[a(445)],1):s("["+n+"]["+t[a(416)]+"]"+t[a(445)]):a(425)==t[a(579)]?r[a(398)](t[a(442)],t[a(684)]):s(o(a(495),0,n)+a(345)+t[a(579)],3)}))},T=function(e,t,n,s,i){var c=a,l=r[c(531)];if(l){var p={action:e,args:t||{}};i||(i=function(e){var t=c;t(395)==e[t(559)]?n&&n(e[t(557)],e):s&&s(e[t(445)])}),l[c(619)]?r[c(612)][c(462)](p,i):l[c(462)](p,i)}else{var u=r[c(494)]||o(c(400));s&&s(u)}};f[a(443)]=function(e,t){S(),e()},f[a(693)]=function(){return R(a(693))},f[a(362)]=function(){return R(a(362))};var R=function(e){var t=a;if(!v())return!1;var n=U[t(673)];if(n){var i=C(1);i?s(i,1):r[t(554)](b(n[t(463)]),t(543)+e+"()")}else s(o(t(648),0,e),3)};f[a(481)]=function(t,n,i){var l=a,p=U[l(673)];U[l(673)]=null,p&&v()&&r[l(554)](b(p[l(463)]),l(473)),!v()||r[l(414)]?(r[l(484)]=r[l(583)],r[l(594)]=r[l(371)],S(!0),function(t){var a=l;if(!u)return t();var n=r[a(553)]=r[a(553)]||{},i=function(e,n,r){s(o(a(511),0,c)+e,n||0),r||t()},p=r[a(531)];if(p||n[a(696)])return n[a(696)]=n[a(696)]||(p[a(619)]?2:1),2==n[a(696)]?i(o(a(487))):i(o(a(436)));var d=a(460)+(n[a(516)]=n[a(516)]||uni[a(615)]()[a(516)]||"0")+a(642);if(r[a(510)]){if(r[a(510)]==d)return i(d);s(o(a(472),0,d),3)}var h=function(t){var o=a;i(o(430)+c+o(373)+d+o(537)+e+" ",3,t)};if(n[a(670)])return h();h(1),n[a(670)]=1,uni[a(338)]({title:a(533),content:"文件"+c+a(675),showCancel:!1,confirmText:a(485),complete:function(){t()}})}((function(){I(t,n,i)}))):i(o(l(452)))};var I=function(e,t,i){var l=a;if(n)return r[l(339)]?void t():void i(o(l(454)));var u=function(e){var t=l;if(p){s(o(t(343)));var a=function(){var n=t;if(r[n(446)])e();else{var c=plus[n(529)][n(357)](n(625))[n(698)](),l=c[n(360)]();1970168948==l?c[n(678)](a):1735552628==l?(s(o(n(552))),e()):(s(o(n(450))+n(658)+l,1),i(o(n(368)),!0)),plus[n(529)][n(667)](c)}};a()}else s(o(t(447))),plus[t(561)][t(692)]([t(567)],(function(a){var n=t;0<a[n(700)][n(344)]?(s(o(n(496))+JSON[n(405)](a)),e()):(s(o(n(656)),1,a),i(o(n(690)),!0))}),(function(e){var a=t;s(o(a(580))+e[a(445)],1,e),i(o(a(435))+e[a(445)])}))},d=function(e){var t=l;A(),T(t(360),{},e,i)};if(r[l(349)])u((function(){d(t)}));else{var h=b(l(453)),m=function(e){var t=l,a=C(1);if(a)i(o(t(668))+a);else{var n=r[t(597)]((function(a){var o=t;a.ok?e():i(a[o(527)])}));r[t(554)](h,t(551)+n+t(660)+JSON[t(405)](o(t(502)))+t(467)+JSON[t(405)](o(t(410),0,t(603)+c+'"'))+t(683)+_+t(522))}},g=function(a){var o=l;if(r[o(686)](e)){var n=r[o(597)]((function(e){var a=o;e.ok?t():i(e[a(527)],e[a(358)])}));r[o(554)](h,o(370)+!!a+o(572)+n+o(521)+n+o(492))}else i(o(372))};r[l(531)]?m((function(){u((function(){d((function(){g(!0)}))}))})):m((function(){u((function(){g()}))}))}};f[a(694)]=function(e,s,i,c){var l=a,u=U[l(673)];if(U[l(673)]=null,u&&v()&&r[l(554)](b(u[l(463)]),l(473)),!v()||r[l(414)]){U[l(449)]=s;var d=t(s);if(d[l(440)][l(582)]=!0,d[l(535)]=l(596),U[l(697)]=!1,U[l(673)]=d,r[l(630)]=d,n)return r[l(339)]?void i():void c(o(l(379)));var h=function(e){var t=l,a=JSON[t(433)](JSON[t(405)](m));a[t(569)]=a[t(569)]||48e3,a[t(581)]=a[t(684)],a[t(684)]=a[t(569)],p||null!=a[t(380)]||(a[t(380)]=r[t(477)]||"1"),A(),T(t(624),a,(function(){var a=t;r[a(665)]=setInterval((function(){T(a(451),{},(function(){}))}),5e3),e()}),c)};clearInterval(r[l(665)]);var m={};for(var g in s)/_renderjs$/[l(691)](g)||(m[g]=s[g]);if(m=JSON[l(433)](JSON[l(405)](m)),r[l(349)])h(i);else{d[l(440)][l(386)]=l(655);var f=function(e,t){var a=l,n=C(1);if(n)c(o(a(607))+n);else{d[a(463)]=y(null,a(453)),U[a(697)]=t;var i=[a(617)+JSON[a(405)](m)+";"];i[a(493)](a(486)+(s[a(592)]||0)+a(647)+(s[a(598)]||0)+a(409)),(s[a(650)]||s[a(471)])&&i[a(493)](a(478)+(s[a(471)]||0)+a(456));var p=r[a(597)]((function(t){var o=a;t.ok?e():c(t[o(527)])}));i[a(493)](a(546)+p+a(391)+p+a(575)),r[a(441)](b(d[a(463)]),i[a(404)]("\n"))}};r[l(531)]?f((function(){var t=l;r[t(686)](e)?h(i):c(t(372))}),!0):f(i)}}else c(o(l(688)))},f[a(509)]=function(e){return!!v()&&""},f[a(606)]=function(e){var t=a;if(!v())for(var o in e)/_renderjs$/[t(691)](o)&&delete e[o]};var P=function(e){var t=a,o=U[t(673)];o&&(o[t(440)][t(684)]=e[t(347)],o[t(440)][t(488)]=e[t(646)]);for(var n=e[t(540)],r=0,s=n[t(344)];r<s;r++)U(n[r],e[t(684)])},B=function(e){var t=a,n=U[t(673)];if(n){var r=new Uint8Array(h(e[t(534)]));n[t(440)][t(650)]&&n[t(440)][t(650)](r)}else s(o(t(549)),3)},U=function(e,t){var n=a,r=U[n(673)];if(r){if(r[n(589)]||r[n(479)]({envName:f[n(382)],canProcess:f[n(573)]()},t),r[n(589)]=1,e instanceof Int16Array)var i=new Int16Array(e);else i=new Int16Array(h(e));var c=g[n(342)](i);r[n(500)](i,c)}else s(o(n(639)),3)};r[a(398)]=function(e,t){var n=a;if(U[n(697)]){var i=U[n(673)];return i?void r[n(554)](b(i[n(463)]),n(651)+e+'",'+t+")"):void s(o(n(621)),3)}U(e,t)},f[a(390)]=function(e,t,i){var c=a,l=function(t){var a=w;r[a(686)](e)&&(U[a(673)]=null,p&&u&&v()&&r[a(554)](b(p[a(463)]),a(473))),i(t)},p=U[c(673)],u=!0,d=t?"":r[c(550)](),h=function(){var a=c;if(r[a(686)](e))if(U[a(673)]=null,p){if(s(a(434)+p[a(523)]+a(420)+p[a(634)]+a(402)+JSON[a(405)](U[a(449)])),!t)return m(),void l(d);p[a(350)]((function(e,a,o){m(),t(e,a,o)}),(function(e){m(),l(e)}))}else l(o(a(369))+(d?" ("+d+")":""));else l(a(372))},m=function(){var t=c;if(r[t(686)](e))for(var a in U[t(673)]=null,p[t(440)])U[t(449)][a]=p[t(440)][a]};if(n)return r[c(339)]?void h():void l(o(c(645)));var g=function(e){T(c(448),{},e,l)};if(clearInterval(r[c(665)]),r[c(349)])g(h);else{var f=function(e){var a=c;if(p){var n=C(1);if(n)l(o(a(568))+n);else{var s=r[a(597)]((function(e){var n=a;if(u=!1,e.ok){p[n(440)][n(386)]=U[n(449)][n(386)],p[n(440)][n(684)]=e[n(347)],p[n(440)][n(488)]=e[n(646)],m();var s=r[n(571)](e[n(652)]);s?t(s,e[n(475)],e[n(506)]):l(o(n(682)))}else l(e[n(527)])})),i=a(616)+(t&&U[a(449)][a(641)]||0)+a(680)+!t+a(564)+s+a(353)+s+a(685);r[a(441)](b(p[a(463)]),i)}}else l(o(a(532))+(d?" ("+d+")":""))};r[c(531)]?g((function(){var t=c;r[t(686)](e)?f():l(t(372))})):f()}}}()}(o,r,0,r.i18n.$T,t)}else n("error","at uni_modules/Recorder-UniCore/app-uni-support.js:36","需要先引入RecordApp，请按下面代码引入：\n1. 项目根目录 npm install recorder-core\n2. 页面中按顺序import\nimport Recorder from 'recorder-core'\nimport RecordApp from 'recorder-core/src/app-support/app.js'\nimport 你需要的音频格式编码器、可视化插件\n参考文档："+o)}();const C=e=>{(e.$renderjs||(e.$renderjs=[])).push("yourModuleName"),(e.$renderjsModules||(e.$renderjsModules={})).yourModuleName="425f6c57"},_={data:()=>({}),mounted(){this.isMounted=!0,k.UniPageOnShow(this)},onShow(){this.isMounted&&k.UniPageOnShow(this)},methods:{recReq(){k.UniWebViewActivate(this),k.RequestPermission((()=>{n("log","at pages/test_api/test_api.vue:60","已获得录音权限，可以开始录音了")}),((e,t)=>{n("error","at pages/test_api/test_api.vue:65","请求录音权限失败："+e)}))},recStart(){k.UniWebViewActivate(this),k.RequestPermission((()=>{n("log","at pages/test_api/test_api.vue:74","已获得录音权限，可以开始录音了")}),((e,t)=>{n("error","at pages/test_api/test_api.vue:79","请求录音权限失败："+e)}));var e={type:"mp3",sampleRate:16e3,bitRate:16,onProcess:(e,t,a,o,n,r)=>{},onProcess_renderjs:"function(buffers,powerLevel,duration,sampleRate,newBufferIdx,asyncEnd){\n\t                //App中在这里修改buffers才会改变生成的音频文件\n\t                //App中是在renderjs中进行的可视化图形绘制，因此需要写在这里，this是renderjs模块的this（也可以用This变量）；如果代码比较复杂，请直接在renderjs的methods里面放个方法xxxFunc，这里直接使用this.xxxFunc(args)进行调用\n\t                if(this.waveView) this.waveView.input(buffers[buffers.length-1],powerLevel,sampleRate);\n\t            }",takeoffEncodeChunk:null,takeoffEncodeChunk_renderjs:null,start_renderjs:"function(){\n\t                //App中可以放一个函数，在Start成功时renderjs中会先调用这里的代码，this是renderjs模块的this（也可以用This变量）\n\t                //放一些仅在renderjs中才生效的事情，比如初始化，不提供也行\n\t            }",stop_renderjs:"function(arrayBuffer,duration,mime){\n\t                //App中可以放一个函数，在Stop成功时renderjs中会先调用这里的代码，this是renderjs模块的this（也可以用This变量）\n\t                //放一些仅在renderjs中才生效的事情，不提供也行\n\t            }"};k.UniWebViewActivate(this),k.Start(e,(()=>{n("log","at pages/test_api/test_api.vue:120","已开始录音"),k.UniFindCanvas(this,[".recwave-WaveView"],"\n\t                this.waveView=Recorder.WaveView({compatibleCanvas:canvas1, width:300, height:100});\n\t            ",(e=>{this.waveView=y.WaveView({compatibleCanvas:e,width:300,height:100})}))}),(e=>{n("error","at pages/test_api/test_api.vue:131","开始录音失败："+e)}))},recPause(){k.GetCurrentRecOrNull()&&(k.Pause(),n("log","at pages/test_api/test_api.vue:139","已暂停"))},recResume(){k.GetCurrentRecOrNull()&&(k.Resume(),n("log","at pages/test_api/test_api.vue:146","继续录音中..."))},recStop(){k.Stop(((e,t,a)=>{"undefined"!=typeof Blob&&"object"==typeof window&&new Blob([e],{type:a}),uni.uploadFile({url:"http://127.0.0.1:8000/speechtotext",file:new File([e],"recorder.mp3"),name:"mp3",formData:{},success:e=>{n("log","at pages/test_api/test_api.vue:168","上传成功："+e.data)},fail:e=>{n("error","at pages/test_api/test_api.vue:169","上传录音失败："+e)}})}),(e=>{n("error","at pages/test_api/test_api.vue:172","结束录音失败："+e)}))}}};C(_);const x=a(_,[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("button",{onClick:a[0]||(a[0]=(...e)=>s.recReq&&s.recReq(...e))},"请求录音"),e.createElementVNode("button",{onMousedown:a[1]||(a[1]=(...e)=>s.recStart&&s.recStart(...e)),onMouseup:a[2]||(a[2]=(...e)=>s.recStop&&s.recStop(...e))},"按住录音",32),e.createElementVNode("button",{onClick:a[3]||(a[3]=(...e)=>t.recognize&&t.recognize(...e))},"语音识别")])}]]),S=uni.createInnerAudioContext();S.autoplay=!1,S.src="";const N=a({name:"bot-chat",props:{msgList:{type:Array,default:[{botContent:"hello，请问我有什么可以帮助你的吗？",recordId:0,titleId:0,userContent:"",userId:0}]}},data:()=>({userId:"",chatMsg:"",randstr:"ksdafhaslihflksahfklksdafhaslihflksahfklksdafhaslihflksahfklksdafhaslihflksahfkl"}),methods:{play(e){const t=this.msgList[e].botContent,a=encodeURI(t);n("log","at components/cover-chat/cover-chat.vue:77",a),S.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t\t&spd="+this.speed+"&ctp=1&amp&pdt=301&tex="+a,n("log","at components/cover-chat/cover-chat.vue:80",S.src),S.play(),n("log","at components/cover-chat/cover-chat.vue:82","play over!!!")}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{id:"msglistview",class:"chat-body",style:e.normalizeStyle({width:t.windowWidth})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.msgList,((a,o)=>(e.openBlock(),e.createElementBlock("view",{key:o,style:e.normalizeStyle({width:t.windowWidth})},[""!=a.userContent?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item self"},[e.createElementVNode("view",{class:"content right"},e.toDisplayString(a.userContent),1),e.createElementVNode("image",{class:"poly-right",src:"/static/travel/polygon-right.png"})])):e.createCommentVNode("",!0),""!=a.botContent?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item Ai"},[e.createElementVNode("image",{class:"poly-left",src:"/static/travel/polygon-left.png"}),e.createElementVNode("view",{class:"content left",onClick:e=>s.play(o)},e.toDisplayString(a.botContent),9,["onClick"])])):e.createCommentVNode("",!0)],4)))),128))],4)}],["__scopeId","data-v-fcfa1dfe"]]),V=uni.getRecorderManager();uni.createInnerAudioContext().autoplay=!0;const E=a({data:()=>({text:"uni-app",voicePath:""}),methods:{startRecord(){n("log","at components/micphone/micphone.vue:20","开始录音"),V.start()},endRecord(){return n("log","at components/micphone/micphone.vue:25","录音结束"),V.stop(),V.onStop((function(e){this.voicePath=e.tempFilePath})),n("log","at components/micphone/micphone.vue:41","tmpfPath = "+this.voicePath),""}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("image",{src:"https://img-insight.oss-cn-chengdu.aliyuncs.com/micphone/mic1.png",class:"mic"})}],["__scopeId","data-v-87e09c5a"]]);let A=null;const T=uni.getRecorderManager();uni.createInnerAudioContext();const R=a({data:()=>({poenCarmeInterval:null,aspect:"2:3",windowWidth:"",windowHeight:"",camerastate:!1,livePusher:null,snapshotsrc:null,msglist:[{botContent:"hello，请问我有什么可以帮助你的吗？",recordId:0,titleId:0,userContent:"",userId:0}],randstr:"ksdafhaslihflksahfklksdafhaslihflksahfklksdafhaslihflksahfklksdafhaslihflksahfkl"}),onLoad(e){A=this,this.initCamera()},onUnload(){uni.offKeyboardHeightChange()},onReady(){this.livePusher=uni.createLivePusherContext("livePusher",this),this.startPreview(),this.poenCarme()},methods:{poenCarme(){"Android"==plus.os.name&&(this.poenCarmeInterval=setInterval((function(){n("log","at pages/smart-travel/smart-travel.vue:98",A.camerastate),A.camerastate||A.startPreview()}),2500))},initCamera(){uni.getSystemInfo({success:function(e){A.windowWidth=e.windowWidth,A.windowHeight=e.windowHeight;let t=A.aliquot(A.windowWidth,A.windowHeight);A.aspect=A.windowWidth/t+":"+A.windowHeight/t}})},aliquot(e,t){return e%t==0?t:this.aliquot(t,e%t)},startPreview(){this.livePusher.startPreview({success:e=>{n("log","at pages/smart-travel/smart-travel.vue:127",e)}})},stopPreview(){this.livePusher.stopPreview({success:e=>{A.camerastate=!1}})},statechange(e){n("log","at pages/smart-travel/smart-travel.vue:144",e),1007==e.detail.code?A.camerastate=!0:-1301==e.detail.code&&(A.camerastate=!1)},back(){uni.navigateBack()},snapshot(){uni.vibrateShort({success:function(){n("log","at pages/smart-travel/smart-travel.vue:163","success")}}),this.livePusher.snapshot({success:e=>{A.snapshotsrc=e.message.tempImagePath,this.snapshotsrc=e.message.tempImagePath}})},setImage(){let e=getCurrentPages();e[e.length-2].$vm.setImage({path:A.snapshotsrc})},startMic(){n("log","at pages/smart-travel/smart-travel.vue:183","开始录音"),T.start()},stopMic(){n("log","at pages/smart-travel/smart-travel.vue:188","录音结束"),T.stop(),T.onStop((function(e){uni.uploadFile({url:"http://127.0.0.1:8000/speechtotext",name:"mp3",filePath:e.tempFilePath,formData:{},success:e=>{n("log","at pages/smart-travel/smart-travel.vue:197","上传成功："+JSON.stringify(e)),handleRecord()},fail:e=>{n("error","at pages/smart-travel/smart-travel.vue:200","上传录音失败："+e.errMsg)}})}))},handleRecord(){this.livePusher.snapshot({success:e=>{A.snapshotsrc=e.message.tempImagePath;const t=getApp().globalData.token;n("log","at pages/smart-travel/smart-travel.vue:210","_this.snapshotsrc = "+A.snapshotsrc),n("log","at pages/smart-travel/smart-travel.vue:211","token = "+t),uni.uploadFile({url:"http://82.157.124.83:51603/storage/api/v1/uploadImg/move",filePath:A.snapshotsrc,name:"multipartFile",formData:{},header:{token:t},success:e=>{n("log","at pages/smart-travel/smart-travel.vue:221",e.data),200==e.data.code&&n("log","at pages/smart-travel/smart-travel.vue:224",e.data.data)},fail:e=>{n("log","at pages/smart-travel/smart-travel.vue:227",e.errMsg)}})}})}}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("cover-chat"),N),l=r(e.resolveDynamicComponent("micphone"),E);return e.openBlock(),e.createElementBlock("view",{class:"pengke-camera",style:e.normalizeStyle({width:s.windowWidth,height:s.windowHeight})},[e.createElementVNode("live-pusher",{id:"livePusher",ref:"livePusher",class:"livePusher",mode:"FHD",beauty:"0",whiteness:"0",aspect:s.aspect,"min-bitrate":"1000","audio-quality":"16KHz","device-position":"back","auto-focus":!0,muted:!0,"enable-camera":!0,"enable-mic":!1,zoom:!1,onStatechange:a[0]||(a[0]=(...e)=>i.statechange&&i.statechange(...e)),style:e.normalizeStyle({width:s.windowWidth,height:s.windowHeight})},null,44,["aspect"]),e.createElementVNode("view",{class:"chat",style:e.normalizeStyle({width:s.windowWidth,height:s.windowHeight})},[e.createElementVNode("cover-view",{class:"coverchat",style:e.normalizeStyle({width:s.windowWidth,height:s.windowHeight})},[e.createElementVNode("scroll-view",{style:e.normalizeStyle({height:.8*s.windowHeight+"px"}),ref:"scrollview",id:"scrollview","scroll-y":"true","scroll-top":t.scrollTop,class:"scroll-view","enable-flex":"true"},[e.createVNode(c,{msgList:s.msglist},null,8,["msgList"])],12,["scroll-top"]),e.createElementVNode("cover-view",{class:"mic-container",style:e.normalizeStyle({height:.2*s.windowHeight+"px"})},[e.createVNode(l,{ref:"micphone",onTouchstart:i.startMic,onTouchend:i.stopMic},null,8,["onTouchstart","onTouchend"])],4)],4)],4)],4)}],["__scopeId","data-v-2ea7c3a1"]]),I=uni.getRecorderManager(),P=uni.createInnerAudioContext();P.autoplay=!0;const B=a({data:()=>({text:"uni-app",voicePath:""}),onLoad(){I.onStop((function(e){this.voicePath=e.tempFilePath,n("log","at pages/recTest/native_test.vue:25",JSON.stringify(e)),uni.uploadFile({url:"http://127.0.0.1:8000/speechtotext",filePath:this.voicePath,name:"mp3",formData:{},header:{"content-type":"multipart/form-data"},success:e=>{n("log","at pages/recTest/native_test.vue:35","上传成功："+JSON.stringify(e)),200!=e.statusCode&&uni.showToast({icon:"none",title:e.data,duration:2e3})},fail:e=>{n("error","at pages/recTest/native_test.vue:45","上传录音失败："+e.errMsg),uni.showToast({icon:"none",title:e.errMsg,duration:2e3})}})}))},methods:{startRecord(){n("log","at pages/recTest/native_test.vue:57","开始录音"),I.start()},endRecord(){n("log","at pages/recTest/native_test.vue:62","录音结束"),I.stop()},playVoice(){n("log","at pages/recTest/native_test.vue:66","播放录音"),this.voicePath&&(P.src=this.voicePath,P.play())}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("button",{onClick:a[0]||(a[0]=(...e)=>s.startRecord&&s.startRecord(...e))},"开始录音"),e.createElementVNode("button",{onClick:a[1]||(a[1]=(...e)=>s.endRecord&&s.endRecord(...e))},"停止录音"),e.createElementVNode("button",{onClick:a[2]||(a[2]=(...e)=>s.playVoice&&s.playVoice(...e))},"播放录音")])}]]),U=uni.createInnerAudioContext();U.autoplay=!1,U.src="";const M=a({name:"bot-chat",props:{msgList:{type:Array,default:[]}},data:()=>({userId:"",chatMsg:""}),methods:{play(e){const t=this.msgList[e].botContent,a=encodeURI(t);n("log","at components/bot-chat/bot-chat.vue:87",a),U.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t\t&spd="+this.speed+"&ctp=1&amp&pdt=301&tex="+a,n("log","at components/bot-chat/bot-chat.vue:90",U.src),U.play(),n("log","at components/bot-chat/bot-chat.vue:92","play over!!!")}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{id:"msglistview",class:"chat-body"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.msgList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a},[""!=t.userContent?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item self"},[e.createElementVNode("view",{class:"content right"},e.toDisplayString(t.userContent),1),e.createElementVNode("view",{class:"avatar"},[e.createElementVNode("image",{src:"https://img-insight.oss-cn-chengdu.aliyuncs.com/tmp/avatar.jpg"})])])):e.createCommentVNode("",!0),""!=t.botContent?(e.openBlock(),e.createElementBlock("view",{key:1,class:"item Ai"},[e.createElementVNode("view",{class:"avatar"},[e.createElementVNode("image",{src:"/static/smart-chat/icon-bot.png"})]),e.createElementVNode("view",{class:"content left",onClick:e=>s.play(a)},e.toDisplayString(t.botContent),9,["onClick"])])):e.createCommentVNode("",!0)])))),128))])])}],["__scopeId","data-v-9163f22c"]]);const D=a({name:"press-mic",data:()=>({})},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"speakarea"},[e.createElementVNode("image",{src:"/static/smart-chat/press-mic.png"})])}],["__scopeId","data-v-2971675b"]]),L=uni.getRecorderManager(),O=uni.createInnerAudioContext();O.autoplay=!1,O.src="";const W=a({data:()=>({keyboardHeight:100,showbox1:!0,showbox2:!1,showbox:!0,chatMsg:"",speak_mode:!0,type_mode:!1,show_listen:!1,msgModified:!1,placeholder:"请输入你想问的...",msglist:[{botContent:"hello，请问我有什么可以帮助你的吗？",recordId:0,titleId:0,userContent:"",userId:0}]}),updated(){""!=this.chatMsg?this.placeholder="":this.placeholder="请输入你想问的..."},onLoad(){},onUnload(){uni.offKeyboardHeightChange()},methods:{keyboardInput(){""!=this.chatMsg?this.placeholder="":this.placeholder="请输入你想问的..."},toggle1(){this.showbox1=!this.showbox1,this.showbox2=!1,this.showbox=this.showbox1,this.scrollTotop()},toggle2(){this.showbox1=!1,this.showbox2=!this.showbox2,this.showbox=this.showbox2,this.scrollTotop()},pxTorpx(e){let t=750/wx.getSystemInfoSync().windowWidth*Number(e);return Math.floor(t)},scrollTotop(){uni.createSelectorQuery().select(".scroll-view").boundingClientRect((e=>{n("log","at pages/smart-chat/smart-chat.vue:152",e);const t=e.top;n("log","at pages/smart-chat/smart-chat.vue:154","scroll view selected!!"),uni.pageScrollTo({duration:100,scrollTop:t})})).exec()},scrollTobottom(){uni.createSelectorQuery().select(".scroll-view").boundingClientRect((e=>{n("log","at pages/smart-chat/smart-chat.vue:163",e);const t=e.bottom;n("log","at pages/smart-chat/smart-chat.vue:165","scroll view selected!!"),uni.pageScrollTo({duration:100,scrollTop:t})})).exec()},keyboardInput(){this.placeholder=""},touchstart(){this.show_listen=!0,this.startRecord()},touchend(){this.show_listen=!1,this.endRecord()},togglemode(){this.speak_mode=!this.speak_mode,this.type_mode=!this.type_mode},startRecord(){n("log","at pages/smart-chat/smart-chat.vue:188","开始录音"),L.start()},endRecord(){var e=this;n("log","at pages/smart-chat/smart-chat.vue:193","录音结束"),L.stop(),L.onStop((function(t){n("log","at pages/smart-chat/smart-chat.vue:196",JSON.stringify(t)),uni.uploadFile({url:"http://127.0.0.1:8000/speechtotext",filePath:t.tempFilePath,name:"mp3",formData:{},success:t=>{n("log","at pages/smart-chat/smart-chat.vue:203","上传成功："+JSON.stringify(t));const a=JSON.parse(t.data);e.chatMsg=a.text,e.typeSend()},fail:e=>{n("error","at pages/smart-chat/smart-chat.vue:208","上传录音失败："+e)}})}))},typeSend(){this.showbox1=this.showbox2=!1,this.showbox=!1,this.msgModified=!0,this.msglist.push({botContent:"",recordId:0,titleId:0,userContent:this.chatMsg,userId:0}),this.msglist.push({botContent:"思考中...",recordId:0,titleId:0,userContent:"",userId:0}),uni.request({url:"http://127.0.0.1:8000/healthbot",method:"POST",data:{prompt:this.chatMsg},success:e=>{n("log","at pages/smart-chat/smart-chat.vue:240",e),this.msglist.pop();try{const t=e.data;this.msglist.push({botContent:t.response,recordId:0,titleId:0,userContent:"",userId:0});const a=encodeURI(t.response);n("log","at pages/smart-chat/smart-chat.vue:253",a),O.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t\t\t\t\t&spd="+this.speed+"&ctp=1&amp&pdt=301&tex="+a,O.play()}catch(t){this.msglist.push({botContent:"发送失败",recordId:0,titleId:0,userContent:"",userId:0});const e=encodeURI("发送失败");n("log","at pages/smart-chat/smart-chat.vue:266",e),O.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t\t\t\t\t&spd="+this.speed+"&ctp=1&amp&pdt=301&tex="+e,O.play()}},fail:e=>{n("log","at pages/smart-chat/smart-chat.vue:273",e),this.msglist.pop(),this.msglist.push({botContent:"发送失败",recordId:0,titleId:0,userContent:"",userId:0});const t=encodeURI("发送失败");O.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t\t\t\t&spd="+this.speed+"&ctp=1&amp&pdt=301&tex="+t,n("log","at pages/smart-chat/smart-chat.vue:285",O.src),O.play()}}),this.chatMsg="",this.scrollTobottom()}}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("bot-chat"),M),l=r(e.resolveDynamicComponent("press-mic"),D);return e.openBlock(),e.createElementBlock("view",{class:"wholeview"},[e.createElementVNode("view",{class:"topview"}),e.createElementVNode("view",{class:"topbar"},[e.createElementVNode("view",{class:"topbarleft"},[e.createElementVNode("text",{class:"topbarlefttitle"}," 健康助手 "),e.createElementVNode("view",{class:"topbarlefticon",onClick:a[0]||(a[0]=(...e)=>i.toggle1&&i.toggle1(...e))},[e.createElementVNode("text",{class:"topbarlefticontext"},"Λ")])]),e.createElementVNode("image",{class:"topbarright",src:"/static/smart-chat/manage.png",onClick:a[1]||(a[1]=(...e)=>i.toggle2&&i.toggle2(...e))})]),e.createElementVNode("scroll-view",{style:e.normalizeStyle({height:`${t.windowHeight}rpx`}),id:"scrollview","scroll-y":"true","scroll-top":t.scrollTop,class:"scroll-view"},[e.createElementVNode("view",{class:"placebox"}),e.createElementVNode("view",{class:"placebox-bottom"}),s.showbox1?(e.openBlock(),e.createElementBlock("image",{key:0,class:"polygon1",src:"/static/smart-chat/polygon.png"})):e.createCommentVNode("",!0),s.showbox2?(e.openBlock(),e.createElementBlock("image",{key:1,class:"polygon2",src:"/static/smart-chat/polygon.png"})):e.createCommentVNode("",!0),s.showbox1?(e.openBlock(),e.createElementBlock("view",{key:2,class:"middlebox1"},[e.createElementVNode("view",{class:"row11"}," Hi，你好，我是你的智能助手 "),e.createElementVNode("view",{class:"row12"},"可能偶尔产生不正确的信息，可能偶尔产生有害的指令，内容仅供参考。"),e.createElementVNode("view",{class:"row13"}),e.createElementVNode("view",{class:"row14"})])):e.createCommentVNode("",!0),s.showbox2?(e.openBlock(),e.createElementBlock("view",{key:3,class:"middlebox2"},[e.createElementVNode("view",{class:"col21"},[e.createElementVNode("image",{class:"row211",src:"/static/smart-chat/archive.png"}),e.createElementVNode("view",{class:"row212"}," 上传医疗报告 ")]),e.createElementVNode("view",{class:"col22"},[e.createElementVNode("image",{class:"row221",src:"/static/smart-chat/info.png"}),e.createElementVNode("view",{class:"row222"}," 完善个人信息 ")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass([s.showbox?"content-box":"content"])},[e.createVNode(c,{msgList:s.msglist},null,8,["msgList"])],2),s.show_listen?(e.openBlock(),e.createElementBlock("view",{key:4,class:"show-listen"},[e.createElementVNode("text",{class:"listen-title"},"正在听，请说出您的问题"),e.createElementVNode("image",{src:"/static/homepage/sound.gif"})])):e.createCommentVNode("",!0),s.show_listen?(e.openBlock(),e.createElementBlock("view",{key:5,class:"listen-place"})):e.createCommentVNode("",!0)],12,["scroll-top"]),e.createElementVNode("view",{class:"chat-bottom"},[s.type_mode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"send-msg"},[e.createElementVNode("image",{src:"/static/smart-chat/chat-mic.png",class:"send-btn",onClick:a[2]||(a[2]=(...e)=>i.togglemode&&i.togglemode(...e))}),e.createElementVNode("view",{class:"uni-textarea"},[e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":a[3]||(a[3]=e=>s.chatMsg=e),placeholder:s.placeholder,"placeholder-style":"display:flex; align-items:center; justify-content:center;",onInput:a[4]||(a[4]=(...e)=>i.keyboardInput&&i.keyboardInput(...e)),maxlength:"300","show-confirm-bar":!1,class:"textarea"},null,40,["placeholder"]),[[e.vModelText,s.chatMsg]])]),e.createElementVNode("image",{src:"/static/smart-chat/send.png",class:"send-btn",onClick:a[5]||(a[5]=(...e)=>i.typeSend&&i.typeSend(...e))})])):e.createCommentVNode("",!0),s.speak_mode?(e.openBlock(),e.createElementBlock("view",{key:1,class:"send-msg"},[e.createElementVNode("image",{src:"/static/smart-chat/keyboard.png",class:"send-btn",onClick:a[6]||(a[6]=(...e)=>i.togglemode&&i.togglemode(...e))}),e.createElementVNode("view",{class:"uni-textarea"},[e.createVNode(l,{onTouchstart:i.touchstart,onTouchend:i.touchend},null,8,["onTouchstart","onTouchend"])]),e.createElementVNode("image",{src:"/static/smart-chat/send.png",class:"send-btn",onClick:a[7]||(a[7]=(...e)=>i.scrollTobottom&&i.scrollTobottom(...e))})])):e.createCommentVNode("",!0)])])}]]),j=uni.getRecorderManager(),F=uni.createInnerAudioContext();F.autoplay=!1,F.src="";const $=a({props:{photoUrl:{type:String,default:""}},data:()=>({inputText:"",hasInput:!1,playText:"我很高兴为您解答！你可以在上面手动或语音输入",placeholder:"你可以点击这里输入, 也可以按住下方语音发送",playColor:"#888888",hasPlay:!1}),methods:{moveHandle(){},micStart(){n("log","at components/tab-chat/tab-chat.vue:51","开始录音"),n("log","at components/tab-chat/tab-chat.vue:52",this.inputText),this.hasPlay=!1,this.placeholder="我正在听...",this.playText="你可以点击这里输入, 也可以按住下方语音发送",this.playColor="#888888",j.start()},micStop(){n("log","at components/tab-chat/tab-chat.vue:60","录音结束"),this.placeholder="识别中...",j.stop();var e=this;j.onStop((function(t){n("log","at components/tab-chat/tab-chat.vue:65",t.tempFilePath),uni.uploadFile({url:"http://127.0.0.1:8000/speechtotext",name:"mp3",filePath:t.tempFilePath,formData:{},success:t=>{if(n("log","at components/tab-chat/tab-chat.vue:72","上传成功："+JSON.stringify(t)),200==t.statusCode){const a=JSON.parse(t.data);n("log","at components/tab-chat/tab-chat.vue:76",a.text),e.inputText=a.text,e.placeholder="",e.hasInput=!0,e.sendMsg()}else e.hasPlay=!0,e.playText="发送失败",e.playColor="red"},fail:e=>{n("error","at components/tab-chat/tab-chat.vue:87","上传录音失败："+JSON.stringify(e))}})}))},focus(){this.placeholder=""},blur(){this.placeholder="",""==this.inputText&&(this.placeholder="你可以点击这里输入, 也可以按住下方语音发送")},clearText(){this.hasInput=!1,this.inputText="",this.placeholder="你可以点击这里输入, 也可以按住下方语音发送"},clearPlay(){this.hasPlay=!1,this.playText="我很高兴为您解答！你可以在上面手动或语音输入",this.playColor="#888888"},play(){n("log","at components/tab-chat/tab-chat.vue:111","播放");const e=encodeURI(this.playText);n("log","at components/tab-chat/tab-chat.vue:114",e),F.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike&ctp=1&amp&pdt=301&tex="+e,n("log","at components/tab-chat/tab-chat.vue:116",F.src),F.play(),n("log","at components/tab-chat/tab-chat.vue:118","play over!!!")},send(){this.sendMsg()},sendMsg(){n("log","at components/tab-chat/tab-chat.vue:124",this.inputText,this.photoUrl),this.playText="发送中...",this.playColor="#888888",uni.request({url:"http://8.137.38.90:8000/chatbot",method:"POST",data:{prompt:this.inputText,image:this.photoUrl},success:e=>{if(n("log","at components/tab-chat/tab-chat.vue:135",e),this.hasPlay=!0,200==e.statusCode){const t=JSON.parse(e.data);n("log","at components/tab-chat/tab-chat.vue:140",t),t.response?(this.playText=t.response,this.playColor="black"):(this.playText="发送失败！！",this.playColor="red")}else this.playText="发送失败！！",this.playColor="red"},fail:e=>{n("log","at components/tab-chat/tab-chat.vue:154",e),this.playText="发送失败！！",this.playColor="red"}})},textInput(){n("log","at components/tab-chat/tab-chat.vue:161","input...."),""==this.inputText?(this.hasInput=!1,this.placeholder="你可以点击这里输入,也可以按住下方语音发送"):(this.hasInput=!0,this.placeholder="")}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"chat-view"},[e.withDirectives(e.createElementVNode("textarea",{class:"input-text",onInput:a[0]||(a[0]=(...e)=>s.textInput&&s.textInput(...e)),"onUpdate:modelValue":a[1]||(a[1]=e=>r.inputText=e),onFocus:a[2]||(a[2]=(...e)=>s.focus&&s.focus(...e)),onBlur:a[3]||(a[3]=(...e)=>s.blur&&s.blur(...e)),placeholder:r.placeholder,"placeholder-style":"font-size: 36rpx"},null,40,["placeholder"]),[[e.vModelText,r.inputText]]),r.hasInput?(e.openBlock(),e.createElementBlock("div",{key:0,class:"clear",onClick:a[4]||(a[4]=(...e)=>s.clearText&&s.clearText(...e))},"清除内容")):e.createCommentVNode("",!0),r.hasInput?(e.openBlock(),e.createElementBlock("div",{key:1,class:"tap-mic",onClick:a[5]||(a[5]=(...e)=>s.send&&s.send(...e))}," 确认发送 ")):(e.openBlock(),e.createElementBlock("div",{key:2,class:"tap-mic",onTouchstart:a[6]||(a[6]=(...e)=>s.micStart&&s.micStart(...e)),onTouchend:a[7]||(a[7]=(...e)=>s.micStop&&s.micStop(...e))},[e.createElementVNode("image",{src:"/static/recog/mic.png"})],32)),e.createElementVNode("div",{class:"divide"}),e.createElementVNode("div",{class:"show-box",style:e.normalizeStyle({color:`${r.playColor}`})},e.toDisplayString(r.playText),5),r.hasPlay?(e.openBlock(),e.createElementBlock("div",{key:3,class:"clear",onClick:a[8]||(a[8]=(...e)=>s.clearPlay&&s.clearPlay(...e))},"清除内容")):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"tap-mic",onClick:a[9]||(a[9]=(...e)=>s.play&&s.play(...e))}," 点击播放 ")])}],["__scopeId","data-v-2bcc08a7"]]);const z=a({data:()=>({photoPath:"",heightRatio:1,thumbnail:!1,startData:{clientY:""},moveY:0,state:0,photoUrl:""}),onLoad(e){const t=this.getOpenerEventChannel();t.on("recieveFile",(e=>{this.photoPath=e.filepath,this.$refs.image.src=e.filepath})),t.on("recieveFile",(e=>{uni.compressImage({src:e.filepath,quality:80,success:e=>{n("log","at pages/photo-recog/photo-recog.vue:63",e.tempFilePath),this.uploadFile(e.tempFilePath)}})}))},methods:{uploadFile(e){const t=getApp().globalData.token;uni.uploadFile({url:"http://82.157.124.83:51603/storage/api/v1/uploadImg/photo",name:"multipartFile",filePath:e,formData:{},header:{token:t},success:e=>{if(n("log","at pages/photo-recog/photo-recog.vue:81","上传成功："+JSON.stringify(e)),200==e.statusCode){const t=JSON.parse(e.data);n("log","at pages/photo-recog/photo-recog.vue:85",t.data.image),this.photoUrl=t.data.image}},fail:e=>{n("error","at pages/photo-recog/photo-recog.vue:91","上传录音失败："+e.errMsg)}})},back(){this.thumbnail?this.thumbnail=!1:uni.navigateBack()},showThumb(){this.thumbnail=!0,this.moveY=0,this.state=0},start(e){this.startData.clientY=e.changedTouches[0].clientY},end(e){n("log","at pages/photo-recog/photo-recog.vue:111","this.moveY = ",this.touch.clientY-this.startData.clientY),this.touch.clientY-this.startData.clientY>300?(this.state=1,this.moveY=350,this.thumbnail=!1):(this.state=0,this.moveY=0)},move(e){let t=e.touches[0];this.touch=t;let a=0;t.clientY>this.startData.clientY&&0===this.state&&(a=t.clientY-this.startData.clientY,a>1e3&&(a=1e3),this.moveY=a),t.clientY<this.startData.clientY&&1===this.state&&(a=this.startData.clientY-t.clientY,a>1e3&&(a=-1e3),this.moveY=350-a)}}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("tab-chat"),$);return e.openBlock(),e.createElementBlock("view",{class:"root-view"},[e.createElementVNode("image",{class:"back-icon",src:"/static/recog/back-icon.png",onClick:a[0]||(a[0]=(...e)=>i.back&&i.back(...e))}),e.createElementVNode("view",{class:"recog-view"},[e.createElementVNode("image",{class:e.normalizeClass([s.thumbnail?"preview-img-thumb":"preview-img"]),src:s.photoPath,ref:"image"},null,10,["src"]),e.createElementVNode("view",{class:"menu"},[e.createElementVNode("navigator",{class:"row",url:"/pages/photo-recog/photo_nvue"},[e.createElementVNode("image",{src:"/static/recog/back.png",class:"row-side"}),e.createElementVNode("text",{class:"row-text"}," 返回 ")]),e.createElementVNode("view",{class:"row",onClick:a[1]||(a[1]=(...e)=>i.showThumb&&i.showThumb(...e))},[e.createElementVNode("image",{src:"/static/recog/ok.png",class:"row-middle"})]),e.createElementVNode("view",{class:"row",url:"/pages/photo-recog/photo_nvue"},[e.createElementVNode("image",{src:"/static/recog/rotate.png",class:"row-side"}),e.createElementVNode("text",{class:"row-text"}," 旋转 ")])])]),s.thumbnail?(e.openBlock(),e.createBlock(c,{key:0,class:"showMore-box",style:e.normalizeStyle({transform:"translateY("+s.moveY+"px)"}),onTouchstart:i.start,onTouchend:i.end,onTouchmove:i.move,photoUrl:s.photoUrl},null,8,["style","onTouchstart","onTouchend","onTouchmove","photoUrl"])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-29edb9dd"]]);var H=uni.createInnerAudioContext();H.autoplay=!1,H.src="";const Y=a({data:()=>({content:"hey hey you you"}),methods:{playMusic(){const e=encodeURI(this.content);n("log","at pages/test-page/test-page.vue:19",e),H.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike&ctp=1&amp&pdt=301&tex="+e,n("log","at pages/test-page/test-page.vue:21",H.src),H.play(),n("log","at pages/test-page/test-page.vue:23","play over!!!")}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("button",{onClick:a[0]||(a[0]=(...e)=>s.playMusic&&s.playMusic(...e))},"点击播放")}]]);const q=a({data:()=>({}),onLoad:function(e){this.getOpenerEventChannel().on("recieveFile",(function(e){n("log","at pages/assist-read/assist-read.vue:29","recievedData = "+e.filepath),this.photoPath="https://img-insight.oss-cn-chengdu.aliyuncs.com/tmp/snapshot_1711522255791.jpg"}))},methods:{back(){uni.navigateBack()}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"root-view"},[e.createElementVNode("view",{class:"recog-view"},[e.createElementVNode("image",{src:"/static/read/image.png",class:"preview-img"}),e.createElementVNode("view",{class:"menu"},[e.createElementVNode("view",{class:"first-row"},[e.createElementVNode("image",{src:"/static/read/start.png",class:"start-play"}),e.createElementVNode("view",{class:"mult-play"},"倍速")]),e.createElementVNode("view",{class:"second-row"},[e.createElementVNode("image",{src:"/static/recog/home.png"}),e.createElementVNode("div",{class:"once-again"},"再拍一张")])])])])}],["__scopeId","data-v-cc1aa4cf"]]),J=uni.createInnerAudioContext();J.autoplay=!1,J.src="";const G=a({props:{recogText:{type:String,default:""}},data:()=>({speed:5,playHint:"正常"}),methods:{goHome(){uni.navigateTo({url:"/pages/index/index"})},play(){n("log","at components/tab-recog/tab-recog.vue:42","播放"+this.recogText);const e=encodeURI(this.recogText);n("log","at components/tab-recog/tab-recog.vue:45",e),J.src="https://tts.baidu.com/text2audio.mp3?lan=ZH&cuid=baike\n\t\t\t\t&spd="+this.speed+"&ctp=1&amp&pdt=301&tex="+e,n("log","at components/tab-recog/tab-recog.vue:48",J.src),J.play(),n("log","at components/tab-recog/tab-recog.vue:50","play over!!!")},toggle(){switch(this.speed){case 3:this.speed=5,this.playHint="正常";break;case 5:this.speed=8,this.playHint="倍速";break;case 8:this.speed=3,this.playHint="慢速"}}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"tab-view"},[e.createElementVNode("scroll-view",{class:"show-box",style:{},"scroll-y":"true"},e.toDisplayString(o.recogText),1),e.createElementVNode("view",{class:"menu"},[e.createElementVNode("view",{class:"first-row"},[e.createElementVNode("image",{src:"/static/read/start.png",class:"start-play",onClick:a[0]||(a[0]=(...e)=>s.play&&s.play(...e))}),e.createElementVNode("view",{class:"mult-play",onClick:a[1]||(a[1]=(...e)=>s.toggle&&s.toggle(...e))},e.toDisplayString(r.playHint),1)]),e.createElementVNode("view",{class:"second-row"},[e.createElementVNode("image",{src:"/static/recog/home.png",onClick:a[2]||(a[2]=(...e)=>s.goHome&&s.goHome(...e))}),e.createElementVNode("navigator",{class:"once-again",url:"/pages/assist-read/photo_nvue"},"再拍一张")])])])}],["__scopeId","data-v-ad8d90f1"]]);const X=a({data:()=>({photoPath:"",heightRatio:1,thumbnail:!1,startData:{clientY:""},moveY:0,state:0,recogText:""}),onLoad(e){const t=this.getOpenerEventChannel(),a=getApp().globalData.token;this.recogText="识别中，请稍等...",t.on("recieveFile",(e=>{this.photoPath=e.filepath,this.$refs.image.src=e.filepath})),t.on("recieveFile",(e=>{uni.uploadFile({url:"http://82.157.124.83:51603/storage/api/v1/uploadImg/read",name:"multipartFile",filePath:e.filepath,formData:{},header:{token:a},success:e=>{if(n("log","at pages/assist-read/photo-recog.vue:72","上传成功："+JSON.stringify(e)),200==e.statusCode){const t=JSON.parse(e.data);n("log","at pages/assist-read/photo-recog.vue:76",t.data.image),this.photoUrl=t.data.image,this.handleImg()}},fail:e=>{n("error","at pages/assist-read/photo-recog.vue:84","上传图片失败："+e.errMsg)}})}))},methods:{back(){this.thumbnail?this.thumbnail=!1:uni.navigateBack()},handleImg(){var e=this;n("log","at pages/assist-read/photo-recog.vue:98","photoUrl: "+this.photoUrl),uni.request({url:"http://127.0.0.1:8000/ocr",method:"POST",data:{image:this.photoUrl},success:t=>{n("log","at pages/assist-read/photo-recog.vue:106",t);try{const a=t.data.join("\n");e.recogText=a,n("log","at pages/assist-read/photo-recog.vue:110",this.recogText)}catch(a){e.recogText="发送失败"}},fail:t=>{e.recogText="发送失败"}})},showThumb(){this.thumbnail=!0,this.moveY=0,this.state=0},start(e){this.startData.clientY=e.changedTouches[0].clientY},end(e){n("log","at pages/assist-read/photo-recog.vue:130",this.recogText),n("log","at pages/assist-read/photo-recog.vue:131","this.moveY = ",this.touch.clientY-this.startData.clientY),this.touch.clientY-this.startData.clientY>300?(this.state=1,this.moveY=350,this.thumbnail=!1):(this.state=0,this.moveY=0)},move(e){let t=e.touches[0];this.touch=t;let a=0;t.clientY>this.startData.clientY&&0===this.state&&(a=t.clientY-this.startData.clientY,a>1e3&&(a=1e3),this.moveY=a),t.clientY<this.startData.clientY&&1===this.state&&(a=this.startData.clientY-t.clientY,a>1e3&&(a=-1e3),this.moveY=350-a)}}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("tab-recog"),G);return e.openBlock(),e.createElementBlock("view",{class:"root-view"},[e.createElementVNode("image",{class:"back-icon",src:"/static/recog/back-icon.png",onClick:a[0]||(a[0]=(...e)=>i.back&&i.back(...e))}),e.createElementVNode("view",{class:"recog-view"},[e.createElementVNode("image",{class:e.normalizeClass([s.thumbnail?"preview-img-thumb":"preview-img"]),src:s.photoPath,ref:"image"},null,10,["src"]),e.createElementVNode("view",{class:"menu"},[e.createElementVNode("navigator",{class:"row",url:"/pages/photo-recog/photo_nvue"},[e.createElementVNode("image",{src:"/static/recog/back.png",class:"row-side"}),e.createElementVNode("text",{class:"row-text"}," 返回 ")]),e.createElementVNode("view",{class:"row",onClick:a[1]||(a[1]=(...e)=>i.showThumb&&i.showThumb(...e))},[e.createElementVNode("image",{src:"/static/recog/ok.png",class:"row-middle"})]),e.createElementVNode("view",{class:"row",url:"/pages/photo-recog/photo_nvue"},[e.createElementVNode("image",{src:"/static/recog/rotate.png",class:"row-side"}),e.createElementVNode("text",{class:"row-text"}," 旋转 ")])])]),s.thumbnail?(e.openBlock(),e.createBlock(c,{key:0,class:"showMore-box",style:e.normalizeStyle({transform:"translateY("+s.moveY+"px)"}),onTouchstart:i.start,onTouchend:i.end,onTouchmove:i.move,recogText:s.recogText},null,8,["style","onTouchstart","onTouchend","onTouchmove","recogText"])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-433bcf36"]]);const Q=a({methods:{clickUpload(){uni.chooseImage({success:e=>{const t=e.tempFilePaths;uni.uploadFile({url:"https://www.example.com/upload",filePath:t[0],name:"file",formData:{user:"test"},success:e=>{n("log","at pages/test_api/test-upload.vue:20",e.data)}})}})}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("button",{onClick:a[0]||(a[0]=(...e)=>s.clickUpload&&s.clickUpload(...e))},"点击文件上传")}]]);const K=a({data:()=>({gender:!1,avatar:"",age:0,nickname:""}),onLoad(){uni.request({url:"http://82.157.124.83:51603/user/api/v1",method:"GET",header:{token:getApp().globalData.token},success:e=>{n("log","at pages/personal/personal.vue:68",e.data.data);const t=e.data.data;this.date=t.birthday;const a=new Date,o=parseInt(this.date.slice(0,4));this.age=a.getFullYear()-o,this.nickname=t.nickname,null==t.imageUri?this.avatar="/static/personal/girl.png":this.avatar=t.imageUri,"男"==t.gender?this.gender=!0:"女"==t.gender&&(this.gender=!1)}})}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("home-foot"),d);return e.openBlock(),e.createElementBlock("view",{class:"personal"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"home-head"},[e.createElementVNode("view",{class:"head-left"},[e.createElementVNode("image",{class:"home-icon",src:s.avatar},null,8,["src"]),e.createElementVNode("view",{class:"head-info"},[e.createElementVNode("text",{class:"home-title"},e.toDisplayString(s.nickname),1),s.gender?(e.openBlock(),e.createElementBlock("text",{key:0,class:"info-text"},[e.createElementVNode("span",{style:{color:"#1fa6ea"}},"♂"),e.createTextVNode(" 男 "+e.toDisplayString(s.age+"岁"),1)])):(e.openBlock(),e.createElementBlock("text",{key:1,class:"info-text"},[e.createElementVNode("span",{style:{color:"#F49ED9"}},"♀"),e.createTextVNode(" 女 "+e.toDisplayString(s.age+"岁"),1)]))])]),e.createElementVNode("navigator",{class:"edit-button",url:"/pages/personal/profile/profile"}," 编辑资料 ")]),e.createElementVNode("view",{class:"service"},[e.createElementVNode("view",{class:"content-title"},"推荐服务"),e.createElementVNode("view",{class:"service-container"},[e.createElementVNode("view",{class:"service-box"},"健康助手"),e.createElementVNode("view",{class:"service-box"},"智能出行"),e.createElementVNode("view",{class:"service-box"},"辅助阅读")])]),e.createElementVNode("view",{class:"more-funcs"},[e.createElementVNode("view",{class:"content-title"},"更多功能"),e.createElementVNode("view",{class:"funcs-container"},[e.createElementVNode("view",{class:"service-box"},[e.createElementVNode("image",{class:"item1",src:"/static/personal/help.png"}),e.createElementVNode("text",{class:"item2"},"获取帮助"),e.createElementVNode("image",{class:"item3",src:"/static/personal/more1.png"})]),e.createElementVNode("view",{class:"service-box"},[e.createElementVNode("image",{class:"item1",src:"/static/personal/about.png"}),e.createElementVNode("text",{class:"item2"},"关于明道"),e.createElementVNode("image",{class:"item3",src:"/static/personal/more1.png"})]),e.createElementVNode("navigator",{class:"service-box",url:"/pages/test/test"},[e.createElementVNode("image",{class:"item1",src:"/static/personal/setting.png"}),e.createElementVNode("text",{class:"item2"},"系统设置"),e.createElementVNode("image",{class:"item3",src:"/static/personal/more1.png"})])])])]),e.createVNode(c)])}]]),Z={data:()=>({}),created(){this.popup=this.getParent()},methods:{getParent(e="uniPopup"){let t=this.$parent,a=t.$options.name;for(;a!==e;){if(t=t.$parent,!t)return!1;a=t.$options.name}return t}}},ee=["{","}"];const te=/^(?:\d)+/,ae=/^(?:\w)+/;const oe="zh-Hans",ne="zh-Hant",re="en",se=Object.prototype.hasOwnProperty,ie=(e,t)=>se.call(e,t),ce=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,a=ee){if(!t)return[e];let o=this._caches[e];return o||(o=function(e,[t,a]){const o=[];let n=0,r="";for(;n<e.length;){let s=e[n++];if(s===t){r&&o.push({type:"text",value:r}),r="";let t="";for(s=e[n++];void 0!==s&&s!==a;)t+=s,s=e[n++];const i=s===a,c=te.test(t)?"list":i&&ae.test(t)?"named":"unknown";o.push({value:t,type:c})}else r+=s}return r&&o.push({type:"text",value:r}),o}(e,a),this._caches[e]=o),function(e,t){const a=[];let o=0;const n=Array.isArray(t)?"list":(r=t,null!==r&&"object"==typeof r?"named":"unknown");var r;if("unknown"===n)return a;for(;o<e.length;){const r=e[o];switch(r.type){case"text":a.push(r.value);break;case"list":a.push(t[parseInt(r.value,10)]);break;case"named":"named"===n&&a.push(t[r.value])}o++}return a}(o,t)}};function le(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return oe;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?oe:e.indexOf("-hant")>-1?ne:(a=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==a.indexOf(e)))?ne:oe);var a;let o=[re,"fr","es"];t&&Object.keys(t).length>0&&(o=Object.keys(t));const n=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,o);return n||void 0}class pe{constructor({locale:e,fallbackLocale:t,messages:a,watcher:o,formater:n}){this.locale=re,this.fallbackLocale=re,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=n||ce,this.messages=a||{},this.setLocale(e||re),o&&this.watchLocale(o)}setLocale(e){const t=this.locale;this.locale=le(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,a=!0){const o=this.messages[e];o?a?Object.assign(o,t):Object.keys(t).forEach((e=>{ie(o,e)||(o[e]=t[e])})):this.messages[e]=t}f(e,t,a){return this.formater.interpolate(e,t,a).join("")}t(e,t,a){let o=this.message;return"string"==typeof t?(t=le(t,this.messages))&&(o=this.messages[t]):a=t,ie(o,e)?this.formater.interpolate(o[e],a).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const ue={en:{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"},"zh-Hans":{"uni-popup.cancel":"取消","uni-popup.ok":"确定","uni-popup.placeholder":"请输入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"},"zh-Hant":{"uni-popup.cancel":"取消","uni-popup.ok":"確定","uni-popup.placeholder":"請輸入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}},{t:de}=function(e,t={},a,o){"string"!=typeof e&&([e,t]=[t,e]),"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():re),"string"!=typeof a&&(a="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||re);const n=new pe({locale:e,fallbackLocale:a,messages:t,watcher:o});let r=(e,t)=>{if("function"!=typeof getApp)r=function(e,t){return n.t(e,t)};else{let e=!1;r=function(t,a){const o=getApp().$vm;return o&&(o.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(o,n))),n.t(t,a)}}return r(e,t)};return{i18n:n,f:(e,t,a)=>n.f(e,t,a),t:(e,t)=>r(e,t),add:(e,t,a=!0)=>n.add(e,t,a),watch:e=>n.watchLocale(e),getLocale:()=>n.getLocale(),setLocale:e=>n.setLocale(e)}}(ue);const he=a({name:"uniPopupDialog",mixins:[Z],emits:["confirm","close","update:modelValue","input"],props:{inputType:{type:String,default:"text"},showClose:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},maxlength:{type:Number,default:-1},focus:{type:Boolean,default:!0}},data:()=>({dialogType:"error",val:""}),computed:{okText(){return this.confirmText||de("uni-popup.ok")},closeText(){return this.cancelText||de("uni-popup.cancel")},placeholderText(){return this.placeholder||de("uni-popup.placeholder")},titleText(){return this.title||de("uni-popup.title")}},watch:{type(e){this.dialogType=e},mode(e){"input"===e&&(this.dialogType="info")},value(e){-1!=this.maxlength&&"input"===this.mode?this.val=e.slice(0,this.maxlength):this.val=e},val(e){this.$emit("update:modelValue",e)}},created(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value,this.val=this.modelValue):this.dialogType=this.type},methods:{onOk(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog(){this.$emit("close"),this.beforeClose||this.popup.close()},close(){this.popup.close()}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"uni-popup-dialog"},[e.createElementVNode("view",{class:"uni-dialog-title"},[e.createElementVNode("text",{class:e.normalizeClass(["uni-dialog-title-text",["uni-popup__"+r.dialogType]])},e.toDisplayString(s.titleText),3)]),"base"===o.mode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-dialog-content"},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"uni-dialog-content-text"},e.toDisplayString(o.content),1)]),!0)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-dialog-content"},[e.renderSlot(t.$slots,"default",{},(()=>[e.withDirectives(e.createElementVNode("input",{class:"uni-dialog-input",maxlength:o.maxlength,"onUpdate:modelValue":a[0]||(a[0]=e=>r.val=e),type:o.inputType,placeholder:s.placeholderText,focus:o.focus},null,8,["maxlength","type","placeholder","focus"]),[[e.vModelDynamic,r.val]])]),!0)])),e.createElementVNode("view",{class:"uni-dialog-button-group"},[o.showClose?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-dialog-button",onClick:a[1]||(a[1]=(...e)=>s.closeDialog&&s.closeDialog(...e))},[e.createElementVNode("text",{class:"uni-dialog-button-text"},e.toDisplayString(s.closeText),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["uni-dialog-button",o.showClose?"uni-border-left":""]),onClick:a[2]||(a[2]=(...e)=>s.onOk&&s.onOk(...e))},[e.createElementVNode("text",{class:"uni-dialog-button-text uni-button-color"},e.toDisplayString(s.okText),1)],2)])])}],["__scopeId","data-v-dc2a088f"]]);const me=a({data(){return{date:this.getDate({format:!0}),array:["男","女"],index:0,genderSet:!1,height:0,weight:0,nickname:"",avatar:""}},onLoad(){uni.request({url:"http://82.157.124.83:51603/user/api/v1",method:"GET",header:{token:getApp().globalData.token},success:e=>{n("log","at pages/personal/profile/profile.vue:99",e.data.data);const t=e.data.data;this.date=t.birthday,this.height=t.height,this.weight=t.weight,this.genderSet=!0,"男"==t.gender?this.index=0:"女"==t.gender&&(this.index=1),this.nickname=t.nickname,null==t.imageUri?this.avatar="/static/personal/girl.png":this.avatar=t.imageUri}})},computed:{startDate(){return this.getDate("start")},endDate(){return this.getDate("end")}},methods:{bindPickerChange:function(e){n("log","at pages/personal/profile/profile.vue:131","picker发送选择改变，携带值为",e.detail.value),this.index=e.detail.value,this.genderSet=!0},bindDateChange:function(e){this.date=e.detail.value},getDate(e){const t=new Date;let a=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();return"start"===e&&(a-=100),o=o>9?o:"0"+o,n=n>9?n:"0"+n,`${a}-${o}-${n}`},nameChange(){this.$refs["popup-name"].open()},heightChange(){this.$refs["popup-height"].open()},weightChange(){this.$refs["popup-weight"].open()},save(){uni.request({url:"http://82.157.124.83:51603/user/api/v1",method:"PUT",data:{birthday:this.date,city:"成都",gender:this.array[this.index],height:this.height,nickname:this.nickname,phone:getApp().globalData.phone,weight:this.weight},header:{token:getApp().globalData.token},success(){uni.showToast({title:"保存成功",duration:2e3})}})},changeAvatar(){uni.chooseImage({count:1,sourceType:["album"],success:e=>{n("log","at pages/personal/profile/profile.vue:190","chosed"+e.tempFilePaths);let t=e.tempFilePaths;uni.uploadFile({url:"http://82.157.124.83:51603/user/api/v1/uploadPicture",header:{token:getApp().globalData.token},filePath:t[0],name:"multipartFile",success:e=>{let t=JSON.parse(e.data);n("log","at pages/personal/profile/profile.vue:201",t),200==t.code&&(n("log","at pages/personal/profile/profile.vue:203",t.data.imageUri),this.avatar=t.data.imageUri)},fail:e=>{n("log","at pages/personal/profile/profile.vue:208",e)}})}})}}},[["render",function(t,a,o,n,s,i){const c=r(e.resolveDynamicComponent("uni-popup-dialog"),he),l=r(e.resolveDynamicComponent("uni-popup"),p);return e.openBlock(),e.createElementBlock("view",{class:"profile"},[e.createElementVNode("view",{class:"item-high"},[e.createElementVNode("view",{class:"item-left"},"更改头像"),e.createElementVNode("image",{class:"avatar",src:s.avatar,onClick:a[0]||(a[0]=(...e)=>i.changeAvatar&&i.changeAvatar(...e))},null,8,["src"])]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"},"昵称"),e.createElementVNode("view",{class:"item-right",onClick:a[1]||(a[1]=(...e)=>i.nameChange&&i.nameChange(...e))},[e.createElementVNode("text",{class:"text-right"},e.toDisplayString(""==s.nickname?"未填写":s.nickname),1),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})])]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"},"性别"),e.createElementVNode("picker",{onChange:a[2]||(a[2]=(...e)=>i.bindPickerChange&&i.bindPickerChange(...e)),value:s.index,range:s.array},[e.createElementVNode("view",{class:"item-right"},[e.createElementVNode("text",{class:"text-right"},e.toDisplayString(s.genderSet?s.array[s.index]:"未填写"),1),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})])],40,["value","range"])]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"},"生日"),e.createElementVNode("picker",{mode:"date",value:s.date,start:i.startDate,end:i.endDate,onChange:a[3]||(a[3]=(...e)=>i.bindDateChange&&i.bindDateChange(...e))},[e.createElementVNode("view",{class:"item-right"},[e.createElementVNode("view",{class:"text-right"},e.toDisplayString(s.date),1),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})])],40,["value","start","end"])]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"},"身高"),e.createElementVNode("view",{class:"item-right",onClick:a[4]||(a[4]=(...e)=>i.heightChange&&i.heightChange(...e))},[e.createElementVNode("view",{class:"text-right"},e.toDisplayString(0==s.height?"未填写":s.height+"cm"),1),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})])]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"},"体重"),e.createElementVNode("view",{class:"item-right",onClick:a[5]||(a[5]=(...e)=>i.weightChange&&i.weightChange(...e))},[e.createElementVNode("view",{class:"text-right"},e.toDisplayString(0==s.weight?"未填写":s.weight+"kg"),1),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})])]),e.createElementVNode("view",{class:"line"}),e.createVNode(l,{ref:"popup-name",type:"dialog"},{default:e.withCtx((()=>[e.createVNode(c,{mode:"input",title:"输入你的名字",modelValue:s.nickname,"onUpdate:modelValue":a[6]||(a[6]=e=>s.nickname=e),placeholder:"请在此输入"},null,8,["modelValue"])])),_:1},512),e.createVNode(l,{ref:"popup-height",type:"dialog"},{default:e.withCtx((()=>[e.createVNode(c,{mode:"input",title:"输入你的体重(公斤)",modelValue:s.height,"onUpdate:modelValue":a[7]||(a[7]=e=>s.height=e),placeholder:"请在此输入"},null,8,["modelValue"])])),_:1},512),e.createVNode(l,{ref:"popup-weight",type:"dialog"},{default:e.withCtx((()=>[e.createVNode(c,{mode:"input",title:"输入你的身高(厘米)",modelValue:s.weight,"onUpdate:modelValue":a[8]||(a[8]=e=>s.weight=e),placeholder:"请在此输入"},null,8,["modelValue"])])),_:1},512),e.createElementVNode("view",{class:"save-btn",onClick:a[9]||(a[9]=(...e)=>i.save&&i.save(...e))},"保存")])}],["__scopeId","data-v-c3e10139"]]);const ge=a({data:()=>({}),methods:{}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"system"},[e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"}," 个人资料 "),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"}," 账号设置 "),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"},[e.createTextVNode(" 消息推送 "),e.createElementVNode("view",{class:"item-middle"}," 已关闭 ")]),e.createElementVNode("view",{class:"item-right"}," 去设置 ")]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"}," 清理缓存 "),e.createElementVNode("view",{class:"item-right"}," 清理 ")]),e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"item"},[e.createElementVNode("view",{class:"item-left"}," 账号注销 "),e.createElementVNode("image",{class:"icon-right",src:"/static/personal/more1.png"})]),e.createElementVNode("view",{class:"line"})])}],["__scopeId","data-v-e5dbf132"]]);const fe=a({data:()=>({}),methods:{}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"account"},[e.createElementVNode("view",{class:"phone"}),e.createElementVNode("view",{class:"subtitle"},"第三方账号"),e.createElementVNode("view",{class:"app"})])}]]);const ve=a({data:()=>({state:!1,phoneNumber:"",verifyCode:""}),methods:{checkboxChange(e){this.state=!this.state,n("log","at pages/test-page/login.vue:49",this.state)},getVeriCode(){const e=getApp().globalData.BackEndUrl+"/user/api/v1/sendCode";n("log","at pages/test-page/login.vue:53","backEndUrl: "+e),n("log","at pages/test-page/login.vue:54","phoneNumber: "+this.phoneNumber),uni.request({url:e,method:"POST",data:{phone:this.phoneNumber},success:e=>{n("log","at pages/test-page/login.vue:62",e.data),this.text="request success"},fail(e){n("log","at pages/test-page/login.vue:66",e)}})},login(){const e=getApp().globalData.BackEndUrl+"/user/api/v1/login";n("log","at pages/test-page/login.vue:73","backEndUrl: "+e),n("log","at pages/test-page/login.vue:74","phoneNumber: "+this.verifyCode),uni.request({url:e,method:"POST",data:{phone:this.phoneNumber,code:this.verifyCode},success:e=>{n("log","at pages/test-page/login.vue:83",e.data),this.text="request success",getApp().globalData.token=e.data.data.token,getApp().setToken(e.data.data.token,3600),getApp().globalData.phone=this.phoneNumber,n("log","at pages/test-page/login.vue:89",e.data.data.token),uni.navigateTo({url:"/pages/index/index",success(){n("log","at pages/test-page/login.vue:93",getApp().globalData.token)}})},fail(e){n("log","at pages/test-page/login.vue:98",e)}})}}},[["render",function(t,a,o,n,r,s){return e.openBlock(),e.createElementBlock("view",{class:"login"},[e.createElementVNode("view",{class:"head1"},[e.createElementVNode("image",{src:"/static/login/icon.png",style:{height:"102rpx",width:"110rpx"}}),e.createElementVNode("text",{class:"title"},"明道")]),e.createElementVNode("view",{class:"head2"},"掌上之眼助慧行"),e.createElementVNode("view",{class:"logbox"},[e.createElementVNode("view",{class:"subtitle"},"短信验证码登录"),e.createElementVNode("view",{class:"hint"},"未注册的手机号验证后将自动登录"),e.withDirectives(e.createElementVNode("input",{class:"input1",placeholder:"请输入手机号码","onUpdate:modelValue":a[0]||(a[0]=e=>r.phoneNumber=e),"placeholder-style":"font-size: 30rpx; color: rgba(0, 0, 0, 0.26);"},null,512),[[e.vModelText,r.phoneNumber]]),e.withDirectives(e.createElementVNode("input",{class:"input2",placeholder:"请输入验证码","onUpdate:modelValue":a[1]||(a[1]=e=>r.verifyCode=e),"placeholder-style":"font-size: 30rpx; color: rgba(0, 0, 0, 0.26);"},null,512),[[e.vModelText,r.verifyCode]]),e.createElementVNode("text",{class:"verify-button",onClick:a[2]||(a[2]=(...e)=>s.getVeriCode&&s.getVeriCode(...e))}," 获取验证码 "),e.createElementVNode("view",{class:"login-button",checked:t.checked,onClick:a[3]||(a[3]=(...e)=>s.login&&s.login(...e))}," 登录 ",8,["checked"]),e.createElementVNode("checkbox-group",{onChange:a[4]||(a[4]=(...e)=>s.checkboxChange&&s.checkboxChange(...e)),class:"agreement"},[e.createElementVNode("label",null,[e.createElementVNode("checkbox",{class:"checkbox",checked:r.state},null,8,["checked"]),e.createTextVNode(" 我已阅读并同意"),e.createElementVNode("span",{color:"#08DF86"},"《用户服务协议》"),e.createTextVNode("和"),e.createElementVNode("span",{color:"#08DF86"},"《隐私政策》")])],32),e.createElementVNode("view",{class:"last-row"},[e.createElementVNode("image",{src:"/static/login/wechat.png"}),e.createElementVNode("image",{src:"/static/login/QQ.png"})])])])}],["__scopeId","data-v-4408554e"]]);__definePage("pages/index/index",h),__definePage("pages/test/test",m),__definePage("pages/test_api/test_api",x),__definePage("pages/smart-travel/smart-travel",R),__definePage("pages/recTest/native_test",B),__definePage("pages/smart-chat/smart-chat",W),__definePage("pages/photo-recog/photo-recog",z),__definePage("pages/test-page/test-page",Y),__definePage("pages/assist-read/assist-read",q),__definePage("pages/assist-read/photo-recog",X),__definePage("pages/test_api/test-upload",Q),__definePage("pages/personal/personal",K),__definePage("pages/personal/profile/profile",me),__definePage("pages/personal/system/system",ge),__definePage("pages/personal/account/account",fe),__definePage("pages/test-page/login",ve);const we={globalData:{BackEndUrl:"http://82.157.124.83:51603",llmUrl:"http://127.0.0.1:8000",token:"eyJhbGciOiJIUzUxMiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAAAC2L0QrCMAwA_yXPK6xpu6z7m9RFqVgopgNF_Hcz8O2O4z5wHxU2iHSZrzuLk0TFxbwGl6WQmwUT-pU5Fg8TVB6wefK4LDkEnECPYre-dUg7u6rp7VFbk6c5H7s5924sr_5_CfP5Vmvp-wOH4_q4ggAAAA.V91u6sbYgjBOdDS7NR1x4JO60J9QyX0ELX-xify0kma9cwxNfB1y6SikS0LSoYw5JBe38oS-JM7fPK32opbB6A",phone:"17394961851",avatar:"http://117.72.13.28:9000/picture/2024/04/08/b4a1b88eddea45d68893d431788d3b1b.jpg"},onLaunch:function(){n("log","at App.vue:11","App Launch")},onShow:function(){n("log","at App.vue:38","App Show")},onHide:function(){n("log","at App.vue:41","App Hide")},methods:{setToken(e,t){let a={data:e,time:Date.now()/1e3,expire:t};uni.setStorageSync("token",JSON.stringify(a))},getToken(){let e=uni.getStorageSync("token");return e?(e=JSON.parse(e),n("log","at App.vue:59","pre setCache:",e.data),e.expire&&Date.now()/1e3-e.time>e.expire?(uni.removeStorageSync("token"),null):(n("log","at App.vue:64","end setCache:",e.data),e.data)):null}}};const{app:ye,Vuex:be,Pinia:ke}={app:e.createVueApp(we)};uni.Vuex=be,uni.Pinia=ke,ye.provide("__globalStyles",__uniConfig.styles),ye._component.mpType="app",ye._component.render=()=>{},ye.mount("#app")}(Vue,uni.VueShared);
