{
  "version": 3,
  "sources": ["../../recorder-core/src/extensions/create-audio.nmn2pcm.js"],
  "sourcesContent": ["/***\r\n简单用 正弦波、方波、锯齿波、三角波 函数生成一段音乐简谱的pcm数据，主要用于测试时提供音频数据。本可音频生成插件可以移植到其他语言环境，如需定制可联系作者\r\nhttps://github.com/xiangyuecn/Recorder\r\n\r\n此插件在线生成测试：assets/runtime-codes/test.create-audio.nmn2pcm.js\r\n\r\nvar pcmData=Recorder.NMN2PCM(set);\r\n\tset配置：{\r\n\t\ttexts:\"\"|[\"\",\"\"] 简谱格式化文本，如果格式不符合要求，将会抛异常\r\n\t\tsampleRate: 生成pcm的采样率，默认48000；取值不能过低，否则会削除高音\r\n\t\ttimbre: 音色，默认2.0（使用音符对应频率的一个倍频），取值>=1.0\r\n\t\tmeterDuration: 一拍时长，毫秒，默认600ms\r\n\t\tmuteDuration: 音符之间的静默，毫秒，0时无静默，默认meterDur/4（最大50ms）\r\n\t\tbeginDuration: 开头的静默时长，毫秒，0时无静默，默认为200ms\r\n\t\tendDuration: 结尾的静默时长，毫秒，0时无静默，默认为200ms\r\n\t\t\r\n\t\tvolume: 音量，默认0.3，取值范围0.0-1.0（最大值1）\r\n\t\twaveType: 波形发生器类型，默认\"sine\"，取值：sine(正弦波)、square(方波，volume应当减半)、sawtooth(锯齿波)、triangle(三角波)\r\n\t}\r\n\r\n\ttexts格式：单个文本，或文本数组\r\n\t\t- 四分音符(一拍)：低音: 1.-7. 中音: 1-7 高音: 1'-7' 休止符(静音)：0\r\n\t\t- 音符后面用 \".\" 表示低音（尽量改用\".\"：\"..\" 倍低音，\"...\" 超低音）\r\n\t\t- 音符后面用 \"'\" 表示高音（尽量改用\"'\"：\"''\" 倍高音，\"'''\" 超高音）\r\n\t\t- 音符之间用 \"|\" 或 \" \" 分隔一拍\r\n\t\t- 一拍里面多个音符用 \",\" 分隔，每个音按权重分配这一拍的时长占比，如：“6,7”为一拍，6、7各占1/2拍，相当于八分音符\r\n\t\t\r\n\t\t- 音符后面用 \"-\" 表示二分音符，简单计算为1+1=2拍时长，几个-就加几拍\r\n\t\t- 音符后面用 \"_\" 表示八分音符；两两在一拍里面的音符可以免写_，自动会按1/2分配；一拍里面只有一个音时这拍会被简单计算为1/2=0.5拍；其他情况计算会按权重分配这一拍的时长(复杂)，如：“6,7_”为1/2+1/2/2=0.75拍（“6*,7_”才是(1+0.5)/2+1/2/2=1拍），其中6权重1分配1/2=0.5拍，7权重0.5分配1/2/2=0.25拍；多加一个\"_\"就多除个2：“6_,7_”是1/2+1/2=1拍（等同于“6,7”可免写_）；“6__,7__”是1/2/2+1/2/2=0.5拍；只要权重加起来是整数就算作完整的1拍\r\n\t\t- 音符后面用 \"*\" 表示1+0.5=1.5拍，多出来的1/2计算和_相同(复杂)，\"**\"两个表示加0.25\r\n\t\t\r\n\t\t- 可以使用 \"S\"(sine) \"Q\"(square) \"A\"(sawtooth) \"T\"(triangle) 来切换后续波形发生器类型（按一拍来书写，但不占用时长），类型后面可以接 \"(2.0)\" 来设置音色，接 \"[0.5]\" 来设置音量（为set.volume*0.5）；特殊值 \"R\"(reset) 可重置类型成set配置值，如果R后面没有接音色或音量也会被重置；比如：\"1 2|A(4.0)[0.6] 3 4 R|5 6\"，其中12 56使用set配置的类型和音色音量，34使用锯齿波、音色4.0、音量0.18=0.3*0.6\r\n\t\t\r\n\t\t- 如果同时有多个音，必须提供数组格式，每个音单独提供一个完整简谱（必须同步对齐）\r\n\r\n\t返回结果：{\r\n\t\tpcm: Int16Array，pcm数据\r\n\t\tduration: 123 pcm的时长，单位毫秒\r\n\t\tset: {...} 使用的set配置\r\n\t\twarns: [] 不适合抛异常的提示消息\r\n\t}\r\n\r\nRecorder.NMN2PCM.GetExamples() 可获取内置的简谱\r\n***/\r\n(function(factory){\r\n\tvar browser=typeof window==\"object\" && !!window.document;\r\n\tvar win=browser?window:Object; //非浏览器环境，Recorder挂载在Object下面\r\n\tvar rec=win.Recorder,ni=rec.i18n;\r\n\tfactory(rec,ni,ni.$T,browser);\r\n}(function(Recorder,i18n,$T,isBrowser){\r\n\"use strict\";\r\n\r\nvar NMN2PCM=function(set){\r\n\tvar texts=set.texts||[]; if(typeof(texts)==\"string\") texts=[texts];\r\n\tvar setSR=set.sampleRate, sampleRate=setSR; if(!sampleRate || sampleRate<1)sampleRate=48000;\r\n\tvar meterDur=set.meterDuration||600;\r\n\tvar timbre=set.timbre||2; if(timbre<1)timbre=1;\r\n\t\r\n\tvar volume=set.volume; if(volume==null)volume=0.3;\r\n\tvolume=Math.max(0,volume); volume=Math.min(1,volume);\r\n\t\r\n\tvar waveType=set.waveType||\"\";\r\n\tif(\",sine,square,sawtooth,triangle,\".indexOf(\",\"+waveType+\",\")==-1)waveType=\"\";\r\n\twaveType=waveType||\"sine\";\r\n\t\r\n\tvar muteDur=set.muteDuration;\r\n\tif(muteDur==null || muteDur<0){\r\n\t\tmuteDur=meterDur/4; if(muteDur>50)muteDur=50;\r\n\t}\r\n\tvar mute0=new Int16Array(sampleRate*muteDur/1000);\r\n\t\r\n\tvar beginDur=set.beginDuration;\r\n\tif(beginDur==null || beginDur<0) beginDur=200;\r\n\tvar beginMute=new Int16Array(sampleRate*beginDur/1000);\r\n\tvar endDur=set.endDuration;\r\n\tif(endDur==null || endDur<0) endDur=200;\r\n\tvar endMute=new Int16Array(sampleRate*endDur/1000);\r\n\t\r\n\t//生成C调频率 A=440 国际标准音\r\n\tvar s=function(s){ return 440/Math.pow(2,s/12) };\r\n\tvar Freqs=[s(9),s(7),s(5),s(4),s(2),s(0),s(-2)];\r\n\tvar FreqMP={};\r\n\tfor(var i=1;i<=7;i++){\r\n\t\tvar v=Freqs[i-1];\r\n\t\tFreqMP[i+\"...\"]=v/8;\r\n\t\tFreqMP[i+\"..\"]=v/4;\r\n\t\tFreqMP[i+\".\"]=v/2;\r\n\t\tFreqMP[i]=v;\r\n\t\tFreqMP[i+\"'\"]=v*2;\r\n\t\tFreqMP[i+\"''\"]=v*4;\r\n\t\tFreqMP[i+\"'''\"]=v*8;\r\n\t}\r\n\t\r\n\tvar tracks=[],freqMax=0,freqMin=90000;\r\n\tfor(var iT=0;setSR!=-1 && iT<texts.length;iT++){\r\n\t\tvar meters=texts[iT].split(/[\\s\\|]+/);\r\n\t\tvar buffers=[],size=0,wType=waveType,wTimbre=timbre,wVol=volume;\r\n\t\tfor(var i0=0;i0<meters.length;i0++){\r\n\t\t\tvar txt0=meters[i0]; if(!txt0)continue;\r\n\t\t\tvar v0=txt0.charCodeAt(0);\r\n\t\t\tif(v0<48 || v0>55){//不是0-7，切换波形或音色\r\n\t\t\t\tvar m=/^(\\w)(?:\\((.+)\\)|\\[(.+)\\])*$/.exec(txt0)||[],mT=m[1];\r\n\t\t\t\tvar m=/\\((.+)\\)/.exec(txt0)||[],mTb=m[1];\r\n\t\t\t\tvar m=/\\[(.+)\\]/.exec(txt0)||[],mVol=m[1];\r\n\t\t\t\tif(mT==\"R\"){ wType=waveType;wTimbre=timbre;wVol=volume; }\r\n\t\t\t\telse if(mT==\"S\") wType=\"sine\";\r\n\t\t\t\telse if(mT==\"Q\") wType=\"square\";\r\n\t\t\t\telse if(mT==\"A\") wType=\"sawtooth\";\r\n\t\t\t\telse if(mT==\"T\") wType=\"triangle\";\r\n\t\t\t\telse mT=\"\";\r\n\t\t\t\tif(!mT||mTb&&!+mTb||mVol&&!+mVol)throw new Error(\"Invalid: \"+txt0);\r\n\t\t\t\tif(mTb)wTimbre=+mTb;\r\n\t\t\t\tif(mVol)wVol=volume*mVol;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar ys=txt0.split(\",\");//一拍里面的音符\r\n\t\t\tvar durTotal=meterDur; //一拍的时长，如果里面有+，代表多拍\r\n\t\t\tvar bTotal=0,hasG=0,hasX=0;\r\n\t\t\tfor(var i2=0;i2<ys.length;i2++){//先计算出每个音符的占用时长比例\r\n\t\t\t\tvar vs=ys[i2].split(\"\");\r\n\t\t\t\tvar o={ y:vs[0],b:1,t:wType,tb:wTimbre,vol:wVol }; ys[i2]=o;\r\n\t\t\t\tfor(var i3=1;i3<vs.length;i3++){\r\n\t\t\t\t\tvar v=vs[i3];\r\n\t\t\t\t\tif(v==\"'\") o.y+=\"'\";\r\n\t\t\t\t\telse if(v==\".\") o.y+=\".\";\r\n\t\t\t\t\telse if(v==\"-\"){ o.b+=1; durTotal+=meterDur; }\r\n\t\t\t\t\telse if(v==\"_\"){ o.b/=2; hasG=1; }\r\n\t\t\t\t\telse if(v==\"*\" && !hasX){ o.b+=0.5; hasX=0.5;\r\n\t\t\t\t\t\t\tif(vs[i3+1]==\"*\"){ o.b-=0.25; hasX=0.25; i3++; } }\r\n\t\t\t\t\telse throw new Error($T(\"3RBa::符号[{1}]无效：{2}\",0,v,txt0));\r\n\t\t\t\t}\r\n\t\t\t\tbTotal+=o.b;\r\n\t\t\t}\r\n\t\t\tif(bTotal%1>0){\r\n\t\t\t\tif(hasG){//\"_\"不够数量，减掉时间\r\n\t\t\t\t\tdurTotal*=bTotal/Math.ceil(bTotal);\r\n\t\t\t\t}else if(hasX){//\"*\"加上1/2|1/4拍的时间\r\n\t\t\t\t\tdurTotal+=meterDur*hasX;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdurTotal-=ys.length*muteDur;//减掉中间的静默\r\n\t\t\tfor(var i2=0;i2<ys.length;i2++){//生成每个音符的pcm\r\n\t\t\t\tvar o=ys[i2],wType=o.t,wTimbre=o.tb,wVol=o.vol,freq=FreqMP[o.y]||0;\r\n\t\t\t\tif(!freq && o.y!=\"0\") throw new Error($T(\"U212::音符[{1}]无效：{2}\",0,o.y,txt0));\r\n\t\t\t\tfreq=freq*wTimbre;\r\n\t\t\t\tvar dur=durTotal*o.b/bTotal;\r\n\t\t\t\tvar pcm=new Int16Array(Math.round(dur/1000*sampleRate));\r\n\t\t\t\tif(freq){\r\n\t\t\t\t\tfreqMax=Math.max(freqMax,freq);\r\n\t\t\t\t\tfreqMin=Math.min(freqMin,freq);\r\n\t\t\t\t\t//不同波形算法取自 https://github.com/cristovao-trevisan/wave-generator/blob/master/index.js\r\n\t\t\t\t\tif(wType==\"sine\"){//正弦波\r\n\t\t\t\t\t\tvar V=(2 * Math.PI) * freq / sampleRate;\r\n\t\t\t\t\t\tfor(var i=0;i<pcm.length;i++){\r\n\t\t\t\t\t\t\tvar v=wVol*Math.sin(V * i);\r\n\t\t\t\t\t\t\tpcm[i]=Math.max(-1,Math.min(1,v))*0x7FFF;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(wType==\"square\"){//方波\r\n\t\t\t\t\t\tvar V=sampleRate / freq;\r\n\t\t\t\t\t\tfor(var i=0;i<pcm.length;i++){\r\n\t\t\t\t\t\t\tvar v=wVol*((i % V) < (V / 2) ? 1 : -1);\r\n\t\t\t\t\t\t\tpcm[i]=Math.max(-1,Math.min(1,v))*0x7FFF;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(wType==\"sawtooth\"){//锯齿波\r\n\t\t\t\t\t\tvar V=sampleRate / freq;\r\n\t\t\t\t\t\tfor(var i=0;i<pcm.length;i++){\r\n\t\t\t\t\t\t\tvar v=wVol*(-1 + 2 * (i % V) / V);\r\n\t\t\t\t\t\t\tpcm[i]=Math.max(-1,Math.min(1,v))*0x7FFF;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(wType==\"triangle\"){//三角波\r\n\t\t\t\t\t\tvar V=sampleRate / freq;\r\n\t\t\t\t\t\tfor(var i=0;i<pcm.length;i++){\r\n\t\t\t\t\t\t\tvar Vi = (i + V / 4) % V;\r\n\t\t\t\t\t\t\tvar v=wVol*(Vi<V/2?(-1+4*Vi/V):(3-4*Vi/V));\r\n\t\t\t\t\t\t\tpcm[i]=Math.max(-1,Math.min(1,v))*0x7FFF;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar pcmDur4=~~(pcm.length/sampleRate*1000/4)||1;\r\n\t\t\t\t\tFadeInOut(pcm,sampleRate,Math.min(pcmDur4, 10));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar mute=mute0; if(!buffers.length)mute=beginMute;\r\n\t\t\t\tbuffers.push(mute); size+=mute.length;\r\n\t\t\t\t\r\n\t\t\t\tbuffers.push(pcm); size+=pcm.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(size>0){\r\n\t\t\tbuffers.push(endMute); size+=endMute.length;\r\n\t\t\ttracks.push({buffers:buffers,size:size});\r\n\t\t}\r\n\t}\r\n\ttracks.sort(function(a,b){return b.size-a.size});\r\n\t\r\n\tvar pcm=new Int16Array(tracks[0]&&tracks[0].size||0);\r\n\tfor(var iT=0;iT<tracks.length;iT++){\r\n\t\tvar o=tracks[iT],buffers=o.buffers,size=o.size;\r\n\t\tif(iT==0){\r\n\t\t\tfor(var i=0,offset=0;i<buffers.length;i++){\r\n\t\t\t\tvar buf=buffers[i];\r\n\t\t\t\tpcm.set(buf,offset);\r\n\t\t\t\toffset+=buf.length;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tvar diffMs=(pcm.length-size)/sampleRate*1000;\r\n\t\t\tif(diffMs>10){//10毫秒误差\r\n\t\t\t\tthrow new Error($T(\"7qAD::多个音时必须对齐，相差{1}ms\",0,diffMs));\r\n\t\t\t};\r\n\t\t\tfor(var i=0,offset=0;i<buffers.length;i++){\r\n\t\t\t\tvar buf=buffers[i];\r\n\t\t\t\tfor(var j=0;j<buf.length;j++){\r\n\t\t\t\t\tvar data_mix,data1=pcm[offset],data2=buf[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\t//简单混音算法 https://blog.csdn.net/dancing_night/article/details/53080819\r\n\t\t\t\t\tif(data1<0 && data2<0){\r\n\t\t\t\t\t\tdata_mix = data1+data2 - (data1 * data2 / -0x7FFF);  \r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdata_mix = data1+data2 - (data1 * data2 / 0x7FFF);\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tpcm[offset++]=data_mix;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tvar dur=Math.round(pcm.length/sampleRate*1000);\r\n\tvar Warns=[],minSR=~~(freqMax*2);\r\n\tif(freqMax && sampleRate<minSR){\r\n\t\tvar msg=\"sampleRate[\"+sampleRate+\"] should be greater than \"+minSR;\r\n\t\tWarns.push(msg); Recorder.CLog(\"NMN2PCM: \"+msg,3);\r\n\t}\r\n\t\r\n\treturn {pcm:pcm, duration:dur, warns:Warns, set:{\r\n\t\ttexts:texts, sampleRate:sampleRate, timbre:timbre, meterDuration:meterDur\r\n\t\t,muteDuration:muteDur, beginDuration:beginDur, endDuration:endDur\r\n\t\t,volume:volume,waveType:waveType\r\n\t}};\r\n};\r\n\r\n\r\n/**pcm数据进行首尾1ms淡入淡出处理，播放时可以大幅减弱爆音**/\r\nvar FadeInOut=NMN2PCM.FadeInOut=function(arr,sampleRate,dur){\r\n\tvar sd=sampleRate/1000*(dur||1);//浮点数，arr是Int16或者Float32\r\n\tfor(var i=0;i<sd;i++){\r\n\t\tarr[i]*=i/sd;\r\n\t}\r\n\tfor(var l=arr.length,i=~~(l-sd);i<l;i++){\r\n\t\tarr[i]*=(l-i)/sd;\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n/***内置部分简谱*****/\r\nNMN2PCM.GetExamples=function(){ return {\r\n\r\nDFH:{//前3句，https://www.hnchemeng.com/liux/201807/68393.html\r\n\tname:\"东方红\"\r\n\t,get:function(sampleRate){\r\n\t\treturn NMN2PCM({ //https://www.bilibili.com/video/BV1VW4y1v7nY?p=2\r\n\t\t\tsampleRate:sampleRate\r\n\t\t\t,meterDuration:1000\r\n\t\t\t,timbre:3\r\n\t\t\t,texts:\"5 5,6|2-|1 1,6.|2-|5 5|6,1' 6,5|1 1,6.|2-\"\r\n\t\t});\r\n\t}\r\n}\r\n,HappyBirthday:{//4句，https://www.zaoxu.com/jjsh/bkdq/310228.html\r\n\tname:$T(\"QGsW::祝你生日快乐\")\r\n\t,get:function(sampleRate){\r\n\t\treturn NMN2PCM({\r\n\t\t\tsampleRate:sampleRate\r\n\t\t\t,meterDuration:450\r\n\t\t\t,timbre:4\r\n\t\t\t,waveType:\"triangle\", volume:0.15\r\n\t\t\t,texts:\"5.,5. 6. 5.|1 7.-|5.,5. 6. 5.|2 1-|5.,5. 5 3|1 7. 6.|4*,4_ 3 1|2 1-\"\r\n\t\t});\r\n\t}\r\n}\r\n,LHC:{//节选一段，https://www.qinyipu.com/jianpu/jianpudaquan/41703.html\r\n\tname:\"兰花草（洒水版）\"\r\n\t,get:function(sampleRate){\r\n\t\treturn NMN2PCM({\r\n\t\t\tsampleRate:sampleRate\r\n\t\t\t,meterDuration:650\r\n\t\t\t,timbre:4\r\n\t\t\t,texts:\"6.,3 3,3|3* 2_|1*,2_ 1,7.|6.-|6,6 6,6|6* 5_|3_,5_,5 5,4|3-|3,3_,6_ 6,5|3* 2_|1*,2_ 1,7.|6. 3.|3.,1 1,7.|6.* 2__,3__|2*,1_ 7._,7._,5.|6.-\"\r\n\t\t});\r\n\t}\r\n}\r\n,ForElise:{//节选一段，https://www.qinyipu.com/jianpu/chunyinle/3023.html\r\n\tname:$T(\"emJR::致爱丽丝\")\r\n\t,get:function(sampleRate){\r\n\t\treturn NMN2PCM({\r\n\t\t\tsampleRate:sampleRate\r\n\t\t\t,meterDuration:550\r\n\t\t\t,muteDuration:20\r\n\t\t\t,timbre:6\r\n\t\t\t,texts:\"3',2'|3',2' 3',7 2',1'|\"\r\n\t\t\t\t+\"6 0,1 3,6|7 0,3 5,7|1' 0 3',2'|\"\r\n\t\t\t\t+\"3',2' 3',7 2',1'|6 0,1 3,6|7 0,3 1',7|\"\r\n\t\t\t\t+\"6 0,7 1',2'|3' 0,5 4',3'|2' 0,4 3',2'|1' 0,3 2',1'|\"\r\n\t\t\t\t+\"7\"\r\n\t\t});\r\n\t}\r\n}\r\n,Canon_Right:{//节选一段，https://www.cangqiang.com.cn/d/32153.html\r\n\tname:$T(\"GsYy::卡农-右手简谱\")\r\n\t,get:function(sampleRate){\r\n\t\treturn NMN2PCM({\r\n\t\t\tsampleRate:sampleRate\r\n\t\t\t,meterDuration:700\r\n\t\t\t,texts:\"1',7 1',3 5 6,7|\"\r\n\t\t\t\t+\"1' 3' 5',3' 5',6'|4',3' 2',4' 3',2' 1',7|      7 1',2'|\"\r\n\t\t\t\t+\"5',3'_,4'_ 5',3'_,4'_ 5',5,6,7 1',2',3',4'|3',1'_,2'_ 3',3_,4_ 5,6,5,4 5,1',7,1'|\"\r\n\t\t\t\t+\"6,1'_,7_ 6,5_,4_ 5,4,3,4 5,6,7,1'|6,1'_,7_ 1',7_,6_ 7,6,7,1' 2'_,1'_,7|1'-\"\r\n\t\t});\r\n\t}\r\n}\r\n,Canon:{//开头一段，https://www.kanpula.com/jianpu/21316.html\r\n\tname:$T(\"bSFZ::卡农\")\r\n\t,get:function(sampleRate){\r\n\t\tvar txt1=\"\",txt2=\"\",txt3=\"\",txt4=\"\";\r\n\t\t//(1)\r\n\t\ttxt1+=\"3'---|2'---|1'---|7---|\";\r\n\t\ttxt2+=\"1'---|7---|6---|5---|\";\r\n\t\ttxt3+=\"5---|5---|3---|3---|\";\r\n\t\ttxt4+=\"R[0.3] 1. 5. 1 3|5.. 2. 5. 7.|6.. 3. 6. 1|3.. 7.. 3. 5.|\";\r\n\t\t//(5)\r\n\t\ttxt1+=\"6---|5---|6---|7---|\";\r\n\t\ttxt2+=\"4---|3---|4---|5---|\";\r\n\t\ttxt3+=\"1---|1---|1---|2---|\";\r\n\t\ttxt4+=\"4.. 1. 4. 6.|1. 5. 1 3|4.. 1. 4. 6.|5.. 2. 5. 7.|\";\r\n\t\t//(9)\r\n\t\ttxt1+=\"3'---|2'---|1'---|7---|\";\r\n\t\ttxt2+=\"1'---|7---|6---|5---|\";\r\n\t\ttxt3+=\"5---|5---|3---|3-- 5'|\";\r\n\t\ttxt4+=\"1. 5. 1 3|5.. 2. 5. 7.|6.. 3. 6. 1|3.. 7.. 3. 5.|\";\r\n\t\t//(13)\r\n\t\ttxt1+=\"4' 3' 2' 4'|3' 2' 1' 5|6- 6 1'|7 1' 2'-|\";\r\n\t\ttxt2+=\"4.. 1. 4. 6.|1. 5. 1 3|4.. 1. 4. 6.|5.. 2. 5. 7.|\";\r\n\t\ttxt3+=\"0---|0---|0---|0---|\";\r\n\t\ttxt4+=\"0---|0---|0---|0---|\";\r\n\t\t//(17)\r\n\t\ttxt1+=\"3',5 1'_ 5' 5_ 3'|3' 4' 3' 2'|1',3 6_ 3' 3_ 1'|1' 2' 1' 7|\";\r\n\t\ttxt2+=\"1. 5. 1 3|5.. 2. 5. 7.|6.. 3. 6. 1|3.. 7.. 3. 5.|\";\r\n\t\ttxt3+=\"0---|0---|0---|0---|\";\r\n\t\ttxt4+=\"0---|0---|0---|0---|\";\r\n\t\t//(21)\r\n\t\ttxt1+=\"6,1 4_ 1' 1_ 6|5,1 3_ 1' 1_ 5|6,1 4_ 1' 1_ 6|7 7 1' 2'|\";\r\n\t\ttxt2+=\"4.. 1. 4. 6.|1. 5. 1 3|4.. 1. 4. 6.|5..,5. 5..,5. 6..,6. 6..,6.|\";\r\n\t\ttxt3+=\"0---|0---|0---|0---|\";\r\n\t\ttxt4+=\"0---|0---|0---|0---|\";\r\n\t\t\r\n\t\treturn NMN2PCM({\r\n\t\t\tsampleRate:sampleRate\r\n\t\t\t,meterDuration:500\r\n\t\t\t,texts:[txt1,txt2,txt3,txt4]\r\n\t\t});\r\n\t}\r\n}\r\n}\r\n};\r\n\r\n\r\nRecorder.NMN2PCM=NMN2PCM;\r\n\r\n}));"],
  "mappings": "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",
  "names": ["s"]
}
